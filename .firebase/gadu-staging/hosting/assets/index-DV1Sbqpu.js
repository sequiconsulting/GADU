(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function B0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function _E(){if(dy)return Ll;dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var my;function EE(){return my||(my=1,Rf.exports=_E()),Rf.exports}var g=EE(),Cf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function bE(){if(gy)return At;gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function it(V,X,et){this.props=V,this.context=X,this.refs=K,this.updater=et||G}it.prototype.isReactComponent={},it.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},it.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function lt(){}lt.prototype=it.prototype;function rt(V,X,et){this.props=V,this.context=X,this.refs=K,this.updater=et||G}var Et=rt.prototype=new lt;Et.constructor=rt,z(Et,it.prototype),Et.isPureReactComponent=!0;var Vt=Array.isArray;function xt(){}var M={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function R(V,X,et){var st=et.ref;return{$$typeof:r,type:V,key:X,ref:st!==void 0?st:null,props:et}}function C(V,X){return R(V.type,X,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function O(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return X[et]})}var S=/\/+/g;function _t(V,X){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):X.toString(36)}function Qt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xt,xt):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,X,et,st,ft){var pt=typeof V;(pt==="undefined"||pt==="boolean")&&(V=null);var Ct=!1;if(V===null)Ct=!0;else switch(pt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(V.$$typeof){case r:case e:Ct=!0;break;case A:return Ct=V._init,Q(Ct(V._payload),X,et,st,ft)}}if(Ct)return ft=ft(V),Ct=st===""?"."+_t(V,0):st,Vt(ft)?(et="",Ct!=null&&(et=Ct.replace(S,"$&/")+"/"),Q(ft,X,et,"",function(Xn){return Xn})):ft!=null&&(I(ft)&&(ft=C(ft,et+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(S,"$&/")+"/")+Ct)),X.push(ft)),1;Ct=0;var ie=st===""?".":st+":";if(Vt(V))for(var Yt=0;Yt<V.length;Yt++)st=V[Yt],pt=ie+_t(st,Yt),Ct+=Q(st,X,et,pt,ft);else if(Yt=q(V),typeof Yt=="function")for(V=Yt.call(V),Yt=0;!(st=V.next()).done;)st=st.value,pt=ie+_t(st,Yt++),Ct+=Q(st,X,et,pt,ft);else if(pt==="object"){if(typeof V.then=="function")return Q(Qt(V),X,et,st,ft);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function at(V,X,et){if(V==null)return V;var st=[],ft=0;return Q(V,st,"","",function(pt){return X.call(et,pt,ft++)}),st}function dt(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var tt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},bt={map:at,forEach:function(V,X,et){at(V,function(){X.apply(this,arguments)},et)},count:function(V){var X=0;return at(V,function(){X++}),X},toArray:function(V){return at(V,function(X){return X})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return At.Activity=w,At.Children=bt,At.Component=it,At.Fragment=i,At.Profiler=o,At.PureComponent=rt,At.StrictMode=s,At.Suspense=E,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,At.__COMPILER_RUNTIME={__proto__:null,c:function(V){return M.H.useMemoCache(V)}},At.cache=function(V){return function(){return V.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(V,X,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=z({},V.props),ft=V.key;if(X!=null)for(pt in X.key!==void 0&&(ft=""+X.key),X)!T.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||(st[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)st.children=et;else if(1<pt){for(var Ct=Array(pt),ie=0;ie<pt;ie++)Ct[ie]=arguments[ie+2];st.children=Ct}return R(V.type,ft,st)},At.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},At.createElement=function(V,X,et){var st,ft={},pt=null;if(X!=null)for(st in X.key!==void 0&&(pt=""+X.key),X)T.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ft[st]=X[st]);var Ct=arguments.length-2;if(Ct===1)ft.children=et;else if(1<Ct){for(var ie=Array(Ct),Yt=0;Yt<Ct;Yt++)ie[Yt]=arguments[Yt+2];ft.children=ie}if(V&&V.defaultProps)for(st in Ct=V.defaultProps,Ct)ft[st]===void 0&&(ft[st]=Ct[st]);return R(V,pt,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(V){return{$$typeof:y,render:V}},At.isValidElement=I,At.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:dt}},At.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},At.startTransition=function(V){var X=M.T,et={};M.T=et;try{var st=V(),ft=M.S;ft!==null&&ft(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(xt,tt)}catch(pt){tt(pt)}finally{X!==null&&et.types!==null&&(X.types=et.types),M.T=X}},At.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},At.use=function(V){return M.H.use(V)},At.useActionState=function(V,X,et){return M.H.useActionState(V,X,et)},At.useCallback=function(V,X){return M.H.useCallback(V,X)},At.useContext=function(V){return M.H.useContext(V)},At.useDebugValue=function(){},At.useDeferredValue=function(V,X){return M.H.useDeferredValue(V,X)},At.useEffect=function(V,X){return M.H.useEffect(V,X)},At.useEffectEvent=function(V){return M.H.useEffectEvent(V)},At.useId=function(){return M.H.useId()},At.useImperativeHandle=function(V,X,et){return M.H.useImperativeHandle(V,X,et)},At.useInsertionEffect=function(V,X){return M.H.useInsertionEffect(V,X)},At.useLayoutEffect=function(V,X){return M.H.useLayoutEffect(V,X)},At.useMemo=function(V,X){return M.H.useMemo(V,X)},At.useOptimistic=function(V,X){return M.H.useOptimistic(V,X)},At.useReducer=function(V,X,et){return M.H.useReducer(V,X,et)},At.useRef=function(V){return M.H.useRef(V)},At.useState=function(V){return M.H.useState(V)},At.useSyncExternalStore=function(V,X,et){return M.H.useSyncExternalStore(V,X,et)},At.useTransition=function(){return M.H.useTransition()},At.version="19.2.1",At}var py;function fd(){return py||(py=1,Cf.exports=bE()),Cf.exports}var Mt=fd();const TE=B0(Mt);var Mf={exports:{}},Ul={},Df={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function xE(){return yy||(yy=1,(function(r){function e(Q,at){var dt=Q.length;Q.push(at);t:for(;0<dt;){var tt=dt-1>>>1,bt=Q[tt];if(0<o(bt,at))Q[tt]=at,Q[dt]=bt,dt=tt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var at=Q[0],dt=Q.pop();if(dt!==at){Q[0]=dt;t:for(var tt=0,bt=Q.length,V=bt>>>1;tt<V;){var X=2*(tt+1)-1,et=Q[X],st=X+1,ft=Q[st];if(0>o(et,dt))st<bt&&0>o(ft,et)?(Q[tt]=ft,Q[st]=dt,tt=st):(Q[tt]=et,Q[X]=dt,tt=X);else if(st<bt&&0>o(ft,dt))Q[tt]=ft,Q[st]=dt,tt=st;else break t}}return at}function o(Q,at){var dt=Q.sortIndex-at.sortIndex;return dt!==0?dt:Q.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var E=[],_=[],A=1,w=null,N=3,q=!1,G=!1,z=!1,K=!1,it=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Et(Q){for(var at=i(_);at!==null;){if(at.callback===null)s(_);else if(at.startTime<=Q)s(_),at.sortIndex=at.expirationTime,e(E,at);else break;at=i(_)}}function Vt(Q){if(z=!1,Et(Q),!G)if(i(E)!==null)G=!0,xt||(xt=!0,O());else{var at=i(_);at!==null&&Qt(Vt,at.startTime-Q)}}var xt=!1,M=-1,T=5,R=-1;function C(){return K?!0:!(r.unstable_now()-R<T)}function I(){if(K=!1,xt){var Q=r.unstable_now();R=Q;var at=!0;try{t:{G=!1,z&&(z=!1,lt(M),M=-1),q=!0;var dt=N;try{e:{for(Et(Q),w=i(E);w!==null&&!(w.expirationTime>Q&&C());){var tt=w.callback;if(typeof tt=="function"){w.callback=null,N=w.priorityLevel;var bt=tt(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof bt=="function"){w.callback=bt,Et(Q),at=!0;break e}w===i(E)&&s(E),Et(Q)}else s(E);w=i(E)}if(w!==null)at=!0;else{var V=i(_);V!==null&&Qt(Vt,V.startTime-Q),at=!1}}break t}finally{w=null,N=dt,q=!1}at=void 0}}finally{at?O():xt=!1}}}var O;if(typeof rt=="function")O=function(){rt(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,_t=S.port2;S.port1.onmessage=I,O=function(){_t.postMessage(null)}}else O=function(){it(I,0)};function Qt(Q,at){M=it(function(){Q(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var at=3;break;default:at=N}var dt=N;N=at;try{return Q()}finally{N=dt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=N;N=Q;try{return at()}finally{N=dt}},r.unstable_scheduleCallback=function(Q,at,dt){var tt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?tt+dt:tt):dt=tt,Q){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=dt+bt,Q={id:A++,callback:at,priorityLevel:Q,startTime:dt,expirationTime:bt,sortIndex:-1},dt>tt?(Q.sortIndex=dt,e(_,Q),i(E)===null&&Q===i(_)&&(z?(lt(M),M=-1):z=!0,Qt(Vt,dt-tt))):(Q.sortIndex=bt,e(E,Q),G||q||(G=!0,xt||(xt=!0,O()))),Q},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(Q){var at=N;return function(){var dt=N;N=at;try{return Q.apply(this,arguments)}finally{N=dt}}}})(If)),If}var vy;function AE(){return vy||(vy=1,Df.exports=xE()),Df.exports}var Vf={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function SE(){if(_y)return Xe;_y=1;var r=fd();function e(E){var _="https://react.dev/errors/"+E;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+E+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(E,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:E,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(E,_){if(E==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(E,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(E,_,null,A)},Xe.flushSync=function(E){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,E)return E()}finally{d.T=_,s.p=A,s.d.f()}},Xe.preconnect=function(E,_){typeof E=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(E,_))},Xe.prefetchDNS=function(E){typeof E=="string"&&s.d.D(E)},Xe.preinit=function(E,_){if(typeof E=="string"&&_&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(E,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:q}):A==="script"&&s.d.X(E,{crossOrigin:w,integrity:N,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(E,_){if(typeof E=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(E)},Xe.preload=function(E,_){if(typeof E=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin);s.d.L(E,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(E,_){if(typeof E=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(E,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(E)},Xe.requestFormReset=function(E){s.d.r(E)},Xe.unstable_batchedUpdates=function(E,_){return E(_)},Xe.useFormState=function(E,_,A){return d.H.useFormState(E,_,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.1",Xe}var Ey;function NE(){if(Ey)return Vf.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vf.exports=SE(),Vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function wE(){if(by)return Ul;by=1;var r=AE(),e=fd(),i=NE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return E(c),t;if(f===l)return E(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var p=!1,b=c.child;b;){if(b===a){p=!0,a=c,l=f;break}if(b===l){p=!0,l=c,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,l=c;break}if(b===l){p=!0,l=f,a=c;break}b=b.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function _t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case it:return"Profiler";case K:return"StrictMode";case Vt:return"Suspense";case xt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case rt:return t.displayName||"Context";case lt:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:_t(t.type)||"Memo";case T:n=t._payload,t=t._init;try{return _t(t(n))}catch{}}return null}var Qt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},tt=[],bt=-1;function V(t){return{current:t}}function X(t){0>bt||(t.current=tt[bt],tt[bt]=null,bt--)}function et(t,n){bt++,tt[bt]=t.current,t.current=n}var st=V(null),ft=V(null),pt=V(null),Ct=V(null);function ie(t,n){switch(et(pt,n),et(ft,t),et(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=zp(n),t=Lp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(st),et(st,t)}function Yt(){X(st),X(ft),X(pt)}function Xn(t){t.memoizedState!==null&&et(Ct,t);var n=st.current,a=Lp(n,t.type);n!==a&&(et(ft,t),et(st,a))}function Ss(t){ft.current===t&&(X(st),X(ft)),Ct.current===t&&(X(Ct),Vl._currentValue=dt)}var Ns,ws;function $n(t){if(Ns===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+ws}var Vr=!1;function Ba(t,n){if(!t||Vr)return"";Vr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var P=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){P=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){P=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&P&&typeof F.stack=="string")return[F.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var D=p.split(`
`),B=b.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===B.length)for(l=D.length-1,c=B.length-1;1<=l&&0<=c&&D[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==B[c]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=c);break}}}finally{Vr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$n(a):""}function jr(t,n){switch(t.tag){case 26:case 27:case 5:return $n(t.type);case 16:return $n("Lazy");case 13:return t.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return $n("Activity");default:return""}}function Or(t){try{var n="",a=null;do n+=jr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Xi=r.unstable_cancelCallback,Cc=r.unstable_shouldYield,co=r.unstable_requestPaint,We=r.unstable_now,Pa=r.unstable_getCurrentPriorityLevel,zr=r.unstable_ImmediatePriority,Lr=r.unstable_UserBlockingPriority,$i=r.unstable_NormalPriority,Mc=r.unstable_LowPriority,ho=r.unstable_IdlePriority,fo=r.log,mo=r.unstable_setDisableYieldValue,zn=null,Be=null;function En(t){if(typeof fo=="function"&&mo(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(zn,t)}catch{}}var de=Math.clz32?Math.clz32:po,go=Math.log,Rs=Math.LN2;function po(t){return t>>>=0,t===0?32:31-(go(t)/Rs|0)|0}var Zn=256,qa=262144,be=4194304;function Jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?c=Jn(l):(p&=b,p!==0?c=Jn(p):a||(a=b&~t,a!==0&&(c=Jn(a))))):(b=l&~f,b!==0?c=Jn(b):p!==0?c=Jn(p):a||(a=l&~t,a!==0&&(c=Jn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function ti(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ha(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ic(t,n,a,l,c,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=p&~a;0<a;){var Y=31-de(a),Z=1<<Y;b[Y]=0,D[Y]=-1;var P=B[Y];if(P!==null)for(B[Y]=null,Y=0;Y<P.length;Y++){var F=P[Y];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Ga(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ga(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ur(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-de(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function kr(t,n){var a=n&-n;return a=(a&42)!==0?1:Fa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Fa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vo(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:ry(t.type))}function Un(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var kn=Math.random().toString(36).slice(2),Te="__reactFiber$"+kn,ze="__reactProps$"+kn,ei="__reactContainer$"+kn,Cs="__reactEvents$"+kn,Vc="__reactListeners$"+kn,_o="__reactHandles$"+kn,Eo="__reactResources$"+kn,ni="__reactMarker$"+kn;function Ms(t){delete t[Te],delete t[ze],delete t[Cs],delete t[Vc],delete t[_o]}function ii(t){var n=t[Te];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ei]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Gp(t);t!==null;){if(a=t[Te])return a;t=Gp(t)}return n}t=a,a=t.parentNode}return null}function bn(t){if(t=t[Te]||t[ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ai(t){var n=t[Eo];return n||(n=t[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(t){t[ni]=!0}var Br=new Set,Pr={};function si(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(Pr[t]=n,t=0;t<n.length;t++)Br.add(n[t])}var qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Gr={};function bo(t){return Ee.call(Gr,t)?!0:Ee.call(Hr,t)?!1:qr.test(t)?Gr[t]=!0:(Hr[t]=!0,!1)}function Ds(t,n,a){if(bo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function fn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ae(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xt(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=Fr(t,n,""+t[n])}}function Qa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ya=/[\n"\\]/g;function nn(t){return t.replace(Ya,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Is(t,n,a,l,c,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Qr(t,p,Le(n)):a!=null?Qr(t,p,Le(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Le(b):t.removeAttribute("name")}function To(t,n,a,l,c,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(t);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Xt(t)}function Qr(t,n,a){n==="number"&&li(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ji(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function xo(t,n,a){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Le(a):""}function Wi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Qt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Le(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xt(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ao.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Kr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Yr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Yr(t,f,n[f])}function Vs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(t){return ta.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Xr=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ea=null,oi=null;function Ka(t){var n=bn(t);if(n&&(t=n.stateNode)){var a=t[ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(Is(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ze]||null;if(!c)throw Error(s(90));Is(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qa(l)}break t;case"textarea":xo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ji(t,!!a.multiple,n,!1)}}}var Os=!1;function na(t,n,a){if(Os)return t(n,a);Os=!0;try{var l=t(n);return l}finally{if(Os=!1,(ea!==null||oi!==null)&&(vu(),ea&&(n=ea,t=oi,oi=ea=null,Ka(n),t)))for(n=0;n<t.length;n++)Ka(t[n])}}function Pn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(xn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Xa=!1}var ui=null,$r=null,$a=null;function Zr(){if($a)return $a;var t,n=$r,a=n.length,l,c="value"in ui?ui.value:ui.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===c[f-l];l++);return $a=c.slice(t,1<l?1-l:void 0)}function Za(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function qn(){return!1}function Pe(t){function n(a,l,c,f,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=Pe(Ri),ia=w({},Ri,{view:0,detail:0}),Jr=Pe(ia),aa,zs,hi,Ls=w({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(aa=t.screenX-hi.screenX,zs=t.screenY-hi.screenY):zs=aa=0,hi=t),aa)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),Wr=Pe(Ls),Ja=w({},Ls,{dataTransfer:0}),No=Pe(Ja),wo=w({},ia,{relatedTarget:0}),Wa=Pe(wo),tl=w({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Ro=Pe(tl),Us=w({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Co=Pe(Us),Mo=w({},Ri,{data:0}),fi=Pe(Mo),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vo[t])?!!n[t]:!1}function sa(){return jo}var tn=w({},ia,{key:function(t){if(t.key){var n=Do[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?Za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oo=Pe(tn),zo=w({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=Pe(zo),u=w({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),m=Pe(u),v=w({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Pe(v),U=w({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Pe(U),nt=w({},Ri,{newState:0,oldState:0}),Nt=Pe(nt),me=[9,13,27,32],Gt=xn&&"CompositionEvent"in window,oe=null;xn&&"documentMode"in document&&(oe=document.documentMode);var An=xn&&"TextEvent"in window&&!oe,di=xn&&(!Gt||oe&&8<oe&&11>=oe),Hn=" ",Gn=!1;function ts(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ks(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function H_(t,n){switch(t){case"compositionend":return ks(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return t=n.data,t===Hn&&Gn?null:t;default:return null}}function G_(t,n){if(Bs)return t==="compositionend"||!Gt&&ts(t,n)?(t=Zr(),$a=$r=ui=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var F_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!F_[t.type]:n==="textarea"}function Kd(t,n,a,l){ea?oi?oi.push(l):oi=[l]:ea=l,n=Su(n,"onChange"),0<n.length&&(a=new ci("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var el=null,nl=null;function Q_(t){Mp(t,0)}function Lo(t){var n=hn(t);if(Qa(n))return t}function Xd(t,n){if(t==="change")return n}var $d=!1;if(xn){var jc;if(xn){var Oc="oninput"in document;if(!Oc){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Oc=typeof Zd.oninput=="function"}jc=Oc}else jc=!1;$d=jc&&(!document.documentMode||9<document.documentMode)}function Jd(){el&&(el.detachEvent("onpropertychange",Wd),nl=el=null)}function Wd(t){if(t.propertyName==="value"&&Lo(nl)){var n=[];Kd(n,nl,t,Tn(t)),na(Q_,n)}}function Y_(t,n,a){t==="focusin"?(Jd(),el=n,nl=a,el.attachEvent("onpropertychange",Wd)):t==="focusout"&&Jd()}function K_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(nl)}function X_(t,n){if(t==="click")return Lo(n)}function $_(t,n){if(t==="input"||t==="change")return Lo(n)}function Z_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:Z_;function il(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ee.call(n,c)||!dn(t[c],n[c]))return!1}return!0}function tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,n){var a=tm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tm(a)}}function nm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?nm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=li(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=li(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var J_=xn&&"documentMode"in document&&11>=document.documentMode,Ps=null,Lc=null,al=null,Uc=!1;function am(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uc||Ps==null||Ps!==li(l)||(l=Ps,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Su(Lc,"onSelect"),0<l.length&&(n=new ci("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ps)))}function es(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var qs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},kc={},sm={};xn&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function ns(t){if(kc[t])return kc[t];if(!qs[t])return t;var n=qs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in sm)return kc[t]=n[a];return t}var rm=ns("animationend"),lm=ns("animationiteration"),om=ns("animationstart"),W_=ns("transitionrun"),t1=ns("transitionstart"),e1=ns("transitioncancel"),um=ns("transitionend"),cm=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function Fn(t,n){cm.set(t,n),si(n,[t])}var Uo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Hs=0,Pc=0;function ko(){for(var t=Hs,n=Pc=Hs=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&hm(a,c,f)}}function Bo(t,n,a,l){Sn[Hs++]=t,Sn[Hs++]=n,Sn[Hs++]=a,Sn[Hs++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,a,l){return Bo(t,n,a,l),Po(t)}function is(t,n){return Bo(t,null,null,n),Po(t)}function hm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-de(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Po(t){if(50<Nl)throw Nl=0,Zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gs={};function n1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,a,l){return new n1(t,n,a,l)}function Hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,n){var a=t.alternate;return a===null?(a=mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,a,l,c,f){var p=0;if(l=t,typeof t=="function")Hc(t)&&(p=1);else if(typeof t=="string")p=lE(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=mn(31,a,n,c),t.elementType=R,t.lanes=f,t;case z:return as(a.children,c,f,n);case K:p=8,c|=24;break;case it:return t=mn(12,a,n,c|2),t.elementType=it,t.lanes=f,t;case Vt:return t=mn(13,a,n,c),t.elementType=Vt,t.lanes=f,t;case xt:return t=mn(19,a,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rt:p=10;break t;case lt:p=9;break t;case Et:p=11;break t;case M:p=14;break t;case T:p=16,l=null;break t}p=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=mn(p,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function as(t,n,a,l){return t=mn(7,t,l,n),t.lanes=a,t}function Gc(t,n,a){return t=mn(6,t,null,n),t.lanes=a,t}function dm(t){var n=mn(18,null,null,0);return n.stateNode=t,n}function Fc(t,n,a){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var mm=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=mm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Or(n)},mm.set(t,n),n)}return{value:t,source:n,stack:Or(n)}}var Fs=[],Qs=0,Ho=null,sl=0,wn=[],Rn=0,ra=null,mi=1,gi="";function Di(t,n){Fs[Qs++]=sl,Fs[Qs++]=Ho,Ho=t,sl=n}function gm(t,n,a){wn[Rn++]=mi,wn[Rn++]=gi,wn[Rn++]=ra,ra=t;var l=mi;t=gi;var c=32-de(l)-1;l&=~(1<<c),a+=1;var f=32-de(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,mi=1<<32-de(n)+c|a<<c|l,gi=f+t}else mi=1<<f|a<<c|l,gi=t}function Qc(t){t.return!==null&&(Di(t,1),gm(t,1,0))}function Yc(t){for(;t===Ho;)Ho=Fs[--Qs],Fs[Qs]=null,sl=Fs[--Qs],Fs[Qs]=null;for(;t===ra;)ra=wn[--Rn],wn[Rn]=null,gi=wn[--Rn],wn[Rn]=null,mi=wn[--Rn],wn[Rn]=null}function pm(t,n){wn[Rn++]=mi,wn[Rn++]=gi,wn[Rn++]=ra,mi=n.id,gi=n.overflow,ra=t}var qe=null,ae=null,Ut=!1,la=null,Cn=!1,Kc=Error(s(519));function oa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Nn(n,t)),Kc}function ym(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Te]=t,n[ze]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)It(Rl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),To(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Wi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jp(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||oa(t,!0)}function vm(t){for(qe=t.return;qe;)switch(qe.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:qe=qe.return}}function Ys(t){if(t!==qe)return!1;if(!Ut)return vm(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||df(t.type,t.memoizedProps)),a=!a),a&&ae&&oa(t),vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=Hp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=Hp(t)}else n===27?(n=ae,Ta(t.type)?(t=vf,vf=null,ae=t):ae=n):ae=qe?Dn(t.stateNode.nextSibling):null;return!0}function ss(){ae=qe=null,Ut=!1}function Xc(){var t=la;return t!==null&&(on===null?on=t:on.push.apply(on,t),la=null),t}function rl(t){la===null?la=[t]:la.push(t)}var $c=V(null),rs=null,Ii=null;function ua(t,n,a){et($c,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=$c.current,X($c)}function Zc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Jc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=c;for(var D=0;D<n.length;D++)if(b.context===n[D]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Zc(f.return,a,t),l||(p=null);break t}f=b.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Zc(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ks(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var b=c.type;dn(c.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(c===Ct.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Jc(n,t,a,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){rs=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return _m(rs,t)}function Fo(t,n){return rs===null&&ls(t),_m(t,n)}function _m(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(t===null)throw Error(s(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return a}var i1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},a1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,Se={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new i1,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&a1(s1,function(){t.controller.abort()})}var ol=null,th=0,Xs=0,$s=null;function r1(t,n){if(ol===null){var a=ol=[];th=0,Xs=af(),$s={status:"pending",value:void 0,then:function(l){a.push(l)}}}return th++,n.then(Em,Em),n}function Em(){if(--th===0&&ol!==null){$s!==null&&($s.status="fulfilled");var t=ol;ol=null,Xs=0,$s=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function l1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var bm=Q.S;Q.S=function(t,n){ap=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(t,n),bm!==null&&bm(t,n)};var os=V(null);function eh(){var t=os.current;return t!==null?t:ne.pooledCache}function Qo(t,n){n===null?et(os,os.current):et(os,n.pool)}function Tm(){var t=eh();return t===null?null:{parent:Se._currentValue,pool:t}}var Zs=Error(s(460)),nh=Error(s(474)),Yo=Error(s(542)),Ko={then:function(){}};function xm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Am(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t}throw cs=n,Zs}}function us(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(cs=a,Zs):a}}var cs=null;function Sm(){if(cs===null)throw Error(s(459));var t=cs;return cs=null,t}function Nm(t){if(t===Zs||t===Yo)throw Error(s(483))}var Js=null,ul=0;function Xo(t){var n=ul;return ul+=1,Js===null&&(Js=[]),Am(Js,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $o(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function wm(t){function n(L,j){if(t){var k=L.deletions;k===null?(L.deletions=[j],L.flags|=16):k.push(j)}}function a(L,j){if(!t)return null;for(;j!==null;)n(L,j),j=j.sibling;return null}function l(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function c(L,j){return L=Mi(L,j),L.index=0,L.sibling=null,L}function f(L,j,k){return L.index=k,t?(k=L.alternate,k!==null?(k=k.index,k<j?(L.flags|=67108866,j):k):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,j,k,$){return j===null||j.tag!==6?(j=Gc(k,L.mode,$),j.return=L,j):(j=c(j,k),j.return=L,j)}function D(L,j,k,$){var mt=k.type;return mt===z?Y(L,j,k.props.children,$,k.key):j!==null&&(j.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===T&&us(mt)===j.type)?(j=c(j,k.props),cl(j,k),j.return=L,j):(j=qo(k.type,k.key,k.props,null,L.mode,$),cl(j,k),j.return=L,j)}function B(L,j,k,$){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=Fc(k,L.mode,$),j.return=L,j):(j=c(j,k.children||[]),j.return=L,j)}function Y(L,j,k,$,mt){return j===null||j.tag!==7?(j=as(k,L.mode,$,mt),j.return=L,j):(j=c(j,k),j.return=L,j)}function Z(L,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Gc(""+j,L.mode,k),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return k=qo(j.type,j.key,j.props,null,L.mode,k),cl(k,j),k.return=L,k;case G:return j=Fc(j,L.mode,k),j.return=L,j;case T:return j=us(j),Z(L,j,k)}if(Qt(j)||O(j))return j=as(j,L.mode,k,null),j.return=L,j;if(typeof j.then=="function")return Z(L,Xo(j),k);if(j.$$typeof===rt)return Z(L,Fo(L,j),k);$o(L,j)}return null}function P(L,j,k,$){var mt=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return mt!==null?null:b(L,j,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case q:return k.key===mt?D(L,j,k,$):null;case G:return k.key===mt?B(L,j,k,$):null;case T:return k=us(k),P(L,j,k,$)}if(Qt(k)||O(k))return mt!==null?null:Y(L,j,k,$,null);if(typeof k.then=="function")return P(L,j,Xo(k),$);if(k.$$typeof===rt)return P(L,j,Fo(L,k),$);$o(L,k)}return null}function F(L,j,k,$,mt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(k)||null,b(j,L,""+$,mt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case q:return L=L.get($.key===null?k:$.key)||null,D(j,L,$,mt);case G:return L=L.get($.key===null?k:$.key)||null,B(j,L,$,mt);case T:return $=us($),F(L,j,k,$,mt)}if(Qt($)||O($))return L=L.get(k)||null,Y(j,L,$,mt,null);if(typeof $.then=="function")return F(L,j,k,Xo($),mt);if($.$$typeof===rt)return F(L,j,k,Fo(j,$),mt);$o(j,$)}return null}function ut(L,j,k,$){for(var mt=null,qt=null,ct=j,Rt=j=0,Ot=null;ct!==null&&Rt<k.length;Rt++){ct.index>Rt?(Ot=ct,ct=null):Ot=ct.sibling;var Ht=P(L,ct,k[Rt],$);if(Ht===null){ct===null&&(ct=Ot);break}t&&ct&&Ht.alternate===null&&n(L,ct),j=f(Ht,j,Rt),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht,ct=Ot}if(Rt===k.length)return a(L,ct),Ut&&Di(L,Rt),mt;if(ct===null){for(;Rt<k.length;Rt++)ct=Z(L,k[Rt],$),ct!==null&&(j=f(ct,j,Rt),qt===null?mt=ct:qt.sibling=ct,qt=ct);return Ut&&Di(L,Rt),mt}for(ct=l(ct);Rt<k.length;Rt++)Ot=F(ct,L,Rt,k[Rt],$),Ot!==null&&(t&&Ot.alternate!==null&&ct.delete(Ot.key===null?Rt:Ot.key),j=f(Ot,j,Rt),qt===null?mt=Ot:qt.sibling=Ot,qt=Ot);return t&&ct.forEach(function(wa){return n(L,wa)}),Ut&&Di(L,Rt),mt}function yt(L,j,k,$){if(k==null)throw Error(s(151));for(var mt=null,qt=null,ct=j,Rt=j=0,Ot=null,Ht=k.next();ct!==null&&!Ht.done;Rt++,Ht=k.next()){ct.index>Rt?(Ot=ct,ct=null):Ot=ct.sibling;var wa=P(L,ct,Ht.value,$);if(wa===null){ct===null&&(ct=Ot);break}t&&ct&&wa.alternate===null&&n(L,ct),j=f(wa,j,Rt),qt===null?mt=wa:qt.sibling=wa,qt=wa,ct=Ot}if(Ht.done)return a(L,ct),Ut&&Di(L,Rt),mt;if(ct===null){for(;!Ht.done;Rt++,Ht=k.next())Ht=Z(L,Ht.value,$),Ht!==null&&(j=f(Ht,j,Rt),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return Ut&&Di(L,Rt),mt}for(ct=l(ct);!Ht.done;Rt++,Ht=k.next())Ht=F(ct,L,Rt,Ht.value,$),Ht!==null&&(t&&Ht.alternate!==null&&ct.delete(Ht.key===null?Rt:Ht.key),j=f(Ht,j,Rt),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return t&&ct.forEach(function(vE){return n(L,vE)}),Ut&&Di(L,Rt),mt}function ee(L,j,k,$){if(typeof k=="object"&&k!==null&&k.type===z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case q:t:{for(var mt=k.key;j!==null;){if(j.key===mt){if(mt=k.type,mt===z){if(j.tag===7){a(L,j.sibling),$=c(j,k.props.children),$.return=L,L=$;break t}}else if(j.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===T&&us(mt)===j.type){a(L,j.sibling),$=c(j,k.props),cl($,k),$.return=L,L=$;break t}a(L,j);break}else n(L,j);j=j.sibling}k.type===z?($=as(k.props.children,L.mode,$,k.key),$.return=L,L=$):($=qo(k.type,k.key,k.props,null,L.mode,$),cl($,k),$.return=L,L=$)}return p(L);case G:t:{for(mt=k.key;j!==null;){if(j.key===mt)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){a(L,j.sibling),$=c(j,k.children||[]),$.return=L,L=$;break t}else{a(L,j);break}else n(L,j);j=j.sibling}$=Fc(k,L.mode,$),$.return=L,L=$}return p(L);case T:return k=us(k),ee(L,j,k,$)}if(Qt(k))return ut(L,j,k,$);if(O(k)){if(mt=O(k),typeof mt!="function")throw Error(s(150));return k=mt.call(k),yt(L,j,k,$)}if(typeof k.then=="function")return ee(L,j,Xo(k),$);if(k.$$typeof===rt)return ee(L,j,Fo(L,k),$);$o(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(a(L,j.sibling),$=c(j,k),$.return=L,L=$):(a(L,j),$=Gc(k,L.mode,$),$.return=L,L=$),p(L)):a(L,j)}return function(L,j,k,$){try{ul=0;var mt=ee(L,j,k,$);return Js=null,mt}catch(ct){if(ct===Zs||ct===Yo)throw ct;var qt=mn(29,ct,null,L.mode);return qt.lanes=$,qt.return=L,qt}finally{}}}var hs=wm(!0),Rm=wm(!1),ca=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Po(t),hm(t,null,a),n}return Bo(t,l,n,a),Po(t)}function hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ur(t,a)}}function sh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var rh=!1;function fl(){if(rh){var t=$s;if(t!==null)throw t}}function dl(t,n,a,l){rh=!1;var c=t.updateQueue;ca=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var D=b,B=D.next;D.next=null,p===null?f=B:p.next=B,p=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==p&&(b===null?Y.firstBaseUpdate=B:b.next=B,Y.lastBaseUpdate=D))}if(f!==null){var Z=c.baseState;p=0,Y=B=D=null,b=f;do{var P=b.lane&-536870913,F=P!==b.lane;if(F?(jt&P)===P:(l&P)===P){P!==0&&P===Xs&&(rh=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ut=t,yt=b;P=n;var ee=a;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){Z=ut.call(ee,Z,P);break t}Z=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,P=typeof ut=="function"?ut.call(ee,Z,P):ut,P==null)break t;Z=w({},Z,P);break t;case 2:ca=!0}}P=b.callback,P!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[P]:F.push(P))}else F={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(B=Y=F,D=Z):Y=Y.next=F,p|=P;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;F=b,b=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);Y===null&&(D=Z),c.baseState=D,c.firstBaseUpdate=B,c.lastBaseUpdate=Y,f===null&&(c.shared.lanes=0),ya|=p,t.lanes=p,t.memoizedState=Z}}function Cm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Mm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cm(a[t],n)}var Ws=V(null),Zo=V(0);function Dm(t,n){t=qi,et(Zo,t),et(Ws,n),qi=t|n.baseLanes}function lh(){et(Zo,qi),et(Ws,Ws.current)}function oh(){qi=Zo.current,X(Ws),X(Zo)}var gn=V(null),Mn=null;function da(t){var n=t.alternate;et(ge,ge.current&1),et(gn,t),Mn===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Mn=t)}function uh(t){et(ge,ge.current),et(gn,t),Mn===null&&(Mn=t)}function Im(t){t.tag===22?(et(ge,ge.current),et(gn,t),Mn===null&&(Mn=t)):ma()}function ma(){et(ge,ge.current),et(gn,gn.current)}function pn(t){X(gn),Mn===t&&(Mn=null),X(ge)}var ge=V(0);function Jo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||yf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,wt=null,Wt=null,Ne=null,Wo=!1,tr=!1,fs=!1,tu=0,ml=0,er=null,o1=0;function he(){throw Error(s(321))}function ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!dn(t[a],n[a]))return!1;return!0}function hh(t,n,a,l,c,f){return ji=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?gg:Nh,fs=!1,f=a(l,c),fs=!1,tr&&(f=jm(n,a,l,c)),Vm(t),f}function Vm(t){Q.H=yl;var n=Wt!==null&&Wt.next!==null;if(ji=0,Ne=Wt=wt=null,Wo=!1,ml=0,er=null,n)throw Error(s(300));t===null||we||(t=t.dependencies,t!==null&&Go(t)&&(we=!0))}function jm(t,n,a,l){wt=t;var c=0;do{if(tr&&(er=null),ml=0,tr=!1,25<=c)throw Error(s(301));if(c+=1,Ne=Wt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=pg,f=n(a,l)}while(tr);return f}function u1(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(wt.flags|=1024),n}function fh(){var t=tu!==0;return tu=0,t}function dh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}ji=0,Ne=Wt=wt=null,tr=!1,ml=tu=0,er=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?wt.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function pe(){if(Wt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=Ne===null?wt.memoizedState:Ne.next;if(n!==null)Ne=n,Wt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ne===null?wt.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,er===null&&(er=[]),t=Am(er,t,n),n=wt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?gg:Nh),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===rt)return He(t)}throw Error(s(438,String(t)))}function gh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=eu(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=C;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function iu(t){var n=pe();return ph(n,Wt,t)}function ph(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var b=p=null,D=null,B=n,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(jt&Z)===Z:(ji&Z)===Z){var P=B.revertLane;if(P===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Xs&&(Y=!0);else if((ji&P)===P){B=B.next,P===Xs&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=Z,p=f):D=D.next=Z,wt.lanes|=P,ya|=P;Z=B.action,fs&&a(f,Z),f=B.hasEagerState?B.eagerState:a(f,Z)}else P={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=P,p=f):D=D.next=P,wt.lanes|=Z,ya|=Z;B=B.next}while(B!==null&&B!==n);if(D===null?p=f:D.next=b,!dn(f,t.memoizedState)&&(we=!0,Y&&(a=$s,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yh(t){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);dn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Om(t,n,a){var l=wt,c=pe(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!dn((Wt||c).memoizedState,a);if(p&&(c.memoizedState=a,we=!0),c=c.queue,Eh(Um.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,nr(9,{destroy:void 0},Lm.bind(null,l,c,a,n),null),ne===null)throw Error(s(349));f||(ji&127)!==0||zm(l,n,a)}return a}function zm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=eu(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Lm(t,n,a,l){n.value=a,n.getSnapshot=l,km(n)&&Bm(t)}function Um(t,n,a){return a(function(){km(n)&&Bm(t)})}function km(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!dn(t,a)}catch{return!0}}function Bm(t){var n=is(t,2);n!==null&&un(n,t,2)}function vh(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),fs){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function Pm(t,n,a,l){return t.baseState=a,ph(t,Wt,typeof l=="function"?l:Oi)}function c1(t,n,a,l,c){if(ru(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,qm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function qm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,p={};Q.T=p;try{var b=a(c,l),D=Q.S;D!==null&&D(p,b),Hm(t,n,b)}catch(B){_h(t,n,B)}finally{f!==null&&p.types!==null&&(f.types=p.types),Q.T=f}}else try{f=a(c,l),Hm(t,n,f)}catch(B){_h(t,n,B)}}function Hm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gm(t,n,l)},function(l){return _h(t,n,l)}):Gm(t,n,a)}function Gm(t,n,a){n.status="fulfilled",n.value=a,Fm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,qm(t,a)))}function _h(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Fm(n),n=n.next;while(n!==l)}t.action=null}function Fm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qm(t,n){return n}function Ym(t,n){if(Ut){var a=ne.formState;if(a!==null){t:{var l=wt;if(Ut){if(ae){e:{for(var c=ae,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Dn(c.nextSibling),l=c.data==="F!";break t}}oa(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:n},a.queue=l,a=fg.bind(null,wt,l),l.dispatch=a,l=vh(!1),f=Sh.bind(null,wt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=c1.bind(null,wt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Km(t){var n=pe();return Xm(n,Wt,t)}function Xm(t,n,a){if(n=ph(t,n,Qm)[0],t=iu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(p){throw p===Zs?Yo:p}else l=n;n=pe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,nr(9,{destroy:void 0},h1.bind(null,c,a),null)),[l,f,t]}function h1(t,n){t.action=n}function $m(t){var n=pe(),a=Wt;if(a!==null)return Xm(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function nr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=eu(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Zm(){return pe().memoizedState}function au(t,n,a,l){var c=en();wt.flags|=t,c.memoizedState=nr(1|n,{destroy:void 0},a,l===void 0?null:l)}function su(t,n,a,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Wt!==null&&l!==null&&ch(l,Wt.memoizedState.deps)?c.memoizedState=nr(n,f,a,l):(wt.flags|=t,c.memoizedState=nr(1|n,f,a,l))}function Jm(t,n){au(8390656,8,t,n)}function Eh(t,n){su(2048,8,t,n)}function f1(t){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=eu(),wt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Wm(t){var n=pe().memoizedState;return f1({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function tg(t,n){return su(4,2,t,n)}function eg(t,n){return su(4,4,t,n)}function ng(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ig(t,n,a){a=a!=null?a.concat([t]):null,su(4,4,ng.bind(null,n,t),a)}function bh(){}function ag(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function sg(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),fs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Th(t,n,a){return a===void 0||(ji&1073741824)!==0&&(jt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=rp(),wt.lanes|=t,ya|=t,a)}function rg(t,n,a,l){return dn(a,n)?a:Ws.current!==null?(t=Th(t,a,l),dn(t,n)||(we=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(jt&261930)===0?(we=!0,t.memoizedState=a):(t=rp(),wt.lanes|=t,ya|=t,n)}function lg(t,n,a,l,c){var f=at.p;at.p=f!==0&&8>f?f:8;var p=Q.T,b={};Q.T=b,Sh(t,!1,n,a);try{var D=c(),B=Q.S;if(B!==null&&B(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=l1(D,l);pl(t,n,Y,_n(t))}else pl(t,n,l,_n(t))}catch(Z){pl(t,n,{then:function(){},status:"rejected",reason:Z},_n())}finally{at.p=f,p!==null&&b.types!==null&&(p.types=b.types),Q.T=p}}function d1(){}function xh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=og(t).queue;lg(t,c,n,dt,a===null?d1:function(){return ug(t),a(l)})}function og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ug(t){var n=og(t);n.next===null&&(n=t.alternate.memoizedState),pl(t,n.next.queue,{},_n())}function Ah(){return He(Vl)}function cg(){return pe().memoizedState}function hg(){return pe().memoizedState}function m1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ha(a);var l=fa(n,t,a);l!==null&&(un(l,n,a),hl(l,n,a)),n={cache:Wc()},t.payload=n;return}n=n.return}}function g1(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ru(t)?dg(n,a):(a=qc(t,n,a,l),a!==null&&(un(a,t,l),mg(a,n,l)))}function fg(t,n,a){var l=_n();pl(t,n,a,l)}function pl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ru(t))dg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,a);if(c.hasEagerState=!0,c.eagerState=b,dn(b,p))return Bo(t,n,c,0),ne===null&&ko(),!1}catch{}finally{}if(a=qc(t,n,c,l),a!==null)return un(a,t,l),mg(a,n,l),!0}return!1}function Sh(t,n,a,l){if(l={lane:2,revertLane:af(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(s(479))}else n=qc(t,a,l,2),n!==null&&un(n,t,2)}function ru(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function dg(t,n){tr=Wo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function mg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ur(t,a)}}var yl={readContext:He,use:nu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};yl.useEffectEvent=he;var gg={readContext:He,use:nu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Jm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,au(4194308,4,ng.bind(null,n,t),a)},useLayoutEffect:function(t,n){return au(4194308,4,t,n)},useInsertionEffect:function(t,n){au(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var l=t();if(fs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=en();if(a!==void 0){var c=a(n);if(fs){En(!0);try{a(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=g1.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,a=fg.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:bh,useDeferredValue:function(t,n){var a=en();return Th(a,t,n)},useTransition:function(){var t=vh(!1);return t=lg.bind(null,wt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,c=en();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ne===null)throw Error(s(349));(jt&127)!==0||zm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Jm(Um.bind(null,l,f,t),[t]),l.flags|=2048,nr(9,{destroy:void 0},Lm.bind(null,l,f,a,n),null),a},useId:function(){var t=en(),n=ne.identifierPrefix;if(Ut){var a=gi,l=mi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=o1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:Ym,useActionState:Ym,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Sh.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:gh,useCacheRefresh:function(){return en().memoizedState=m1.bind(null,wt)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nh={readContext:He,use:nu,useCallback:ag,useContext:He,useEffect:Eh,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:eg,useMemo:sg,useReducer:iu,useRef:Zm,useState:function(){return iu(Oi)},useDebugValue:bh,useDeferredValue:function(t,n){var a=pe();return rg(a,Wt.memoizedState,t,n)},useTransition:function(){var t=iu(Oi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Om,useId:cg,useHostTransitionStatus:Ah,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var a=pe();return Pm(a,Wt,t,n)},useMemoCache:gh,useCacheRefresh:hg};Nh.useEffectEvent=Wm;var pg={readContext:He,use:nu,useCallback:ag,useContext:He,useEffect:Eh,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:eg,useMemo:sg,useReducer:yh,useRef:Zm,useState:function(){return yh(Oi)},useDebugValue:bh,useDeferredValue:function(t,n){var a=pe();return Wt===null?Th(a,t,n):rg(a,Wt.memoizedState,t,n)},useTransition:function(){var t=yh(Oi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Om,useId:cg,useHostTransitionStatus:Ah,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=pe();return Wt!==null?Pm(a,Wt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gh,useCacheRefresh:hg};pg.useEffectEvent=Wm;function wh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ha(l);c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(un(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ha(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(un(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ha(a);l.tag=2,n!=null&&(l.callback=n),n=fa(t,l,a),n!==null&&(un(n,t,a),hl(n,t,a))}};function yg(t,n,a,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,f):!0}function vg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function ds(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function _g(t){Uo(t)}function Eg(t){console.error(t)}function bg(t){Uo(t)}function lu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ch(t,n,a){return a=ha(a),a.tag=3,a.payload={element:null},a.callback=function(){lu(t,n)},a}function xg(t){return t=ha(t),t.tag=3,t}function Ag(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Tg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Tg(n,a,l),typeof c!="function"&&(va===null?va=new Set([this]):va.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function p1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ks(n,a,c,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?_u():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Ko?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return a.flags|=65536,l===Ko?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),tf(t,l,c)),!1}throw Error(s(435,a.tag))}return tf(t,l,c),_u(),!1}if(Ut)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Kc&&(t=Error(s(422),{cause:l}),rl(Nn(t,a)))):(l!==Kc&&(n=Error(s(423),{cause:l}),rl(Nn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Nn(l,a),c=Ch(t.stateNode,l,c),sh(t,c),fe!==4&&(fe=2)),!1;var f=Error(s(520),{cause:l});if(f=Nn(f,a),Sl===null?Sl=[f]:Sl.push(f),fe!==4&&(fe=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ch(a.stateNode,l,t),sh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(va===null||!va.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=xg(c),Ag(c,t,a,l),sh(a,c),!1}a=a.return}while(a!==null);return!1}var Mh=Error(s(461)),we=!1;function Ge(t,n,a,l){n.child=t===null?Rm(n,null,a,l):hs(n,t.child,a,l)}function Sg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return ls(n),l=hh(t,n,a,p,f,c),b=fh(),t!==null&&!we?(dh(t,n,c),zi(t,n,c)):(Ut&&b&&Qc(n),n.flags|=1,Ge(t,n,l,c),n.child)}function Ng(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Hc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,wg(t,n,f,l,c)):(t=qo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(p,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=Mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function wg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=f,Uh(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,zi(t,n,c)}return Dh(t,n,a,l,c)}function Rg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Cg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?Dm(n,f):lh(),Im(n);else return l=n.lanes=536870912,Cg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Qo(n,f.cachePool),Dm(n,f),ma(),n.memoizedState=null):(t!==null&&Qo(n,null),lh(),ma());return Ge(t,n,c,a),n.child}function vl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Cg(t,n,a,l,c){var f=eh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qo(n,null),lh(),Im(n),t!==null&&Ks(t,n,l,!0),n.childLanes=c,null}function ou(t,n){return n=cu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Mg(t,n,a){return hs(n,t.child,null,a),t=ou(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function y1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=ou(n,l),n.lanes=536870912,vl(null,t);if(uh(n),(t=ae)?(t=qp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ra!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=dm(t),a.return=n,n.child=a,qe=n,ae=null)):t=null,t===null)throw oa(n);return n.lanes=536870912,null}return ou(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(uh(n),c)if(n.flags&256)n.flags&=-257,n=Mg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||Ks(t,n,a,!1),c=(a&t.childLanes)!==0,we||c){if(l=ne,l!==null&&(p=kr(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,is(t,p),un(l,t,p),Mh;_u(),n=Mg(t,n,a)}else t=f.treeContext,ae=Dn(p.nextSibling),qe=n,Ut=!0,la=null,Cn=!1,t!==null&&pm(n,t),n=ou(n,l),n.flags|=4096;return n}return t=Mi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Dh(t,n,a,l,c){return ls(n),a=hh(t,n,a,l,void 0,c),l=fh(),t!==null&&!we?(dh(t,n,c),zi(t,n,c)):(Ut&&l&&Qc(n),n.flags|=1,Ge(t,n,a,c),n.child)}function Dg(t,n,a,l,c,f){return ls(n),n.updateQueue=null,a=jm(n,l,a,c),Vm(t),l=fh(),t!==null&&!we?(dh(t,n,f),zi(t,n,f)):(Ut&&l&&Qc(n),n.flags|=1,Ge(t,n,a,f),n.child)}function Ig(t,n,a,l,c){if(ls(n),n.stateNode===null){var f=Gs,p=a.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ih(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?He(p):Gs,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(wh(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Rh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,D=ds(a,b);f.props=D;var B=f.context,Y=a.contextType;p=Gs,typeof Y=="object"&&Y!==null&&(p=He(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||B!==p)&&vg(n,f,l,p),ca=!1;var P=n.memoizedState;f.state=P,dl(n,l,f,c),fl(),B=n.memoizedState,b||P!==B||ca?(typeof Z=="function"&&(wh(n,a,Z,l),B=n.memoizedState),(D=ca||yg(n,a,D,l,P,B,p))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=p,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ah(t,n),p=n.memoizedProps,Y=ds(a,p),f.props=Y,Z=n.pendingProps,P=f.context,B=a.contextType,D=Gs,typeof B=="object"&&B!==null&&(D=He(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Z||P!==D)&&vg(n,f,l,D),ca=!1,P=n.memoizedState,f.state=P,dl(n,l,f,c),fl();var F=n.memoizedState;p!==Z||P!==F||ca||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof b=="function"&&(wh(n,a,b,l),F=n.memoizedState),(Y=ca||yg(n,a,Y,l,P,F,D)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=D,l=Y):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=hs(n,t.child,null,c),n.child=hs(n,null,a,c)):Ge(t,n,a,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function Vg(t,n,a,l){return ss(),n.flags|=256,Ge(t,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:Tm()}}function jh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function jg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?da(n):ma(),(t=ae)?(t=qp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ra!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=dm(t),a.return=n,n.child=a,qe=n,ae=null)):t=null,t===null)throw oa(n);return yf(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,c?(ma(),c=n.mode,b=cu({mode:"hidden",children:b},c),l=as(l,c,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Vh(a),l.childLanes=jh(t,p,a),n.memoizedState=Ih,vl(null,l)):(da(n),Oh(n,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(f)n.flags&256?(da(n),n.flags&=-257,n=zh(t,n,a)):n.memoizedState!==null?(ma(),n.child=t.child,n.flags|=128,n=null):(ma(),b=l.fallback,c=n.mode,l=cu({mode:"visible",children:l.children},c),b=as(b,c,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,hs(n,t.child,null,a),l=n.child,l.memoizedState=Vh(a),l.childLanes=jh(t,p,a),n.memoizedState=Ih,n=vl(null,l));else if(da(n),yf(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var B=p.dgst;p=B,l=Error(s(419)),l.stack="",l.digest=p,rl({value:l,source:null,stack:null}),n=zh(t,n,a)}else if(we||Ks(t,n,a,!1),p=(a&t.childLanes)!==0,we||p){if(p=ne,p!==null&&(l=kr(p,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,is(t,l),un(p,t,l),Mh;pf(b)||_u(),n=zh(t,n,a)}else pf(b)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ae=Dn(b.nextSibling),qe=n,Ut=!0,la=null,Cn=!1,t!==null&&pm(n,t),n=Oh(n,l.children),n.flags|=4096);return n}return c?(ma(),b=l.fallback,c=n.mode,D=t.child,B=D.sibling,l=Mi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?b=Mi(B,b):(b=as(b,c,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,vl(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Vh(a):(c=b.cachePool,c!==null?(D=Se._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Tm(),b={baseLanes:b.baseLanes|a,cachePool:c}),l.memoizedState=b,l.childLanes=jh(t,p,a),n.memoizedState=Ih,vl(t.child,l)):(da(n),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Oh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=mn(22,t,null,n),t.lanes=0,t}function zh(t,n,a){return hs(n,t.child,null,a),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Og(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Zc(t.return,n,a)}function Lh(t,n,a,l,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=f)}function zg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=ge.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,et(ge,p),Ge(t,n,l,a),l=Ut?sl:0,!b&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Og(t,a,n);else if(t.tag===19)Og(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Jo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Lh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Jo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Lh(n,!0,a,null,f,l);break;case"together":Lh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ya|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ks(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Mi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function v1(t,n,a){switch(n.tag){case 3:ie(n,n.stateNode.containerInfo),ua(n,Se,t.memoizedState.cache),ss();break;case 27:case 5:Xn(n);break;case 4:ie(n,n.stateNode.containerInfo);break;case 10:ua(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(da(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jg(t,n,a):(da(n),t=zi(t,n,a),t!==null?t.sibling:null);da(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ks(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return zg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(ge,ge.current),l)break;return null;case 22:return n.lanes=0,Rg(t,n,a,n.pendingProps);case 24:ua(n,Se,t.memoizedState.cache)}return zi(t,n,a)}function Lg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Uh(t,a)&&(n.flags&128)===0)return we=!1,v1(t,n,a);we=(t.flags&131072)!==0}else we=!1,Ut&&(n.flags&1048576)!==0&&gm(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=us(n.elementType),n.type=t,typeof t=="function")Hc(t)?(l=ds(t,l),n.tag=1,n=Ig(null,n,t,l,a)):(n.tag=0,n=Dh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Et){n.tag=11,n=Sg(null,n,t,l,a);break t}else if(c===M){n.tag=14,n=Ng(null,n,t,l,a);break t}}throw n=_t(t)||t,Error(s(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ds(l,n.pendingProps),Ig(t,n,l,c,a);case 3:t:{if(ie(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ah(t,n),dl(n,l,null,a);var p=n.memoizedState;if(l=p.cache,ua(n,Se,l),l!==f.cache&&Jc(n,[Se],a,!0),fl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vg(t,n,l,a);break t}else if(l!==c){c=Nn(Error(s(424)),n),rl(c),n=Vg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Dn(t.firstChild),qe=n,Ut=!0,la=null,Cn=!0,a=Rm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ss(),l===c){n=zi(t,n,a);break t}Ge(t,n,l,a)}n=n.child}return n;case 26:return uu(t,n),t===null?(a=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=Nu(pt.current).createElement(a),l[Te]=n,l[ze]=t,Fe(l,a,t),xe(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xn(n),t===null&&Ut&&(l=n.stateNode=Fp(n.type,n.pendingProps,pt.current),qe=n,Cn=!0,c=ae,Ta(n.type)?(vf=c,ae=Dn(l.firstChild)):ae=c),Ge(t,n,n.pendingProps.children,a),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ae)&&(l=K1(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,qe=n,ae=Dn(l.firstChild),Cn=!1,c=!0):c=!1),c||oa(n)),Xn(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:p!==null&&df(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,u1,null,null,a),Vl._currentValue=c),uu(t,n),Ge(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ae)&&(a=X1(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,qe=n,ae=null,t=!0):t=!1),t||oa(n)),null;case 13:return jg(t,n,a);case 4:return ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=hs(n,null,l,a):Ge(t,n,l,a),n.child;case 11:return Sg(t,n,n.type,n.pendingProps,a);case 7:return Ge(t,n,n.pendingProps,a),n.child;case 8:return Ge(t,n,n.pendingProps.children,a),n.child;case 12:return Ge(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ua(n,n.type,l.value),Ge(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ls(n),c=He(c),l=l(c),n.flags|=1,Ge(t,n,l,a),n.child;case 14:return Ng(t,n,n.type,n.pendingProps,a);case 15:return wg(t,n,n.type,n.pendingProps,a);case 19:return zg(t,n,a);case 31:return y1(t,n,a);case 22:return Rg(t,n,a,n.pendingProps);case 24:return ls(n),l=He(Se),t===null?(c=eh(),c===null&&(c=ne,f=Wc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ih(n),ua(n,Se,c)):((t.lanes&a)!==0&&(ah(t,n),dl(n,null,null,a),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ua(n,Se,l)):(l=f.cache,ua(n,Se,l),l!==c.cache&&Jc(n,[Se],a,!0))),Ge(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Li(t){t.flags|=4}function kh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(cp())t.flags|=8192;else throw cs=Ko,nh}else t.flags&=-16777217}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wp(n))if(cp())t.flags|=8192;else throw cs=Ko,nh}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?yo():536870912,t.lanes|=n,rr|=n)}function _l(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function _1(t,n,a){var l=n.pendingProps;switch(Yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Se),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xc())),se(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(se(n),Ug(n,f)):(se(n),kh(n,c,null,l,a))):f?f!==t.memoizedState?(Li(n),se(n),Ug(n,f)):(se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Li(n),se(n),kh(n,c,t,l,a)),null;case 27:if(Ss(n),a=pt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}t=st.current,Ys(n)?ym(n):(t=Fp(c,l,a),n.stateNode=t,Li(n))}return se(n),null;case 5:if(Ss(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(f=st.current,Ys(n))ym(n);else{var p=Nu(pt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[Te]=n,f[ze]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return se(n),kh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pt.current,Ys(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=qe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,a)),t||oa(n,!0)}else t=Nu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return se(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ys(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Te]=n}else ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),t=!1}else a=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),hu(n,n.updateQueue),se(n),null);case 4:return Yt(),t===null&&of(n.stateNode.containerInfo),se(n),null;case 10:return Vi(n.type),se(n),null;case 19:if(X(ge),l=n.memoizedState,l===null)return se(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)_l(l,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Jo(t),f!==null){for(n.flags|=128,_l(l,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)fm(a,t),a=a.sibling;return et(ge,ge.current&1|2),Ut&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&We()>pu&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304)}else{if(!c)if(t=Jo(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return se(n),null}else 2*We()-l.renderingStartTime>pu&&a!==536870912&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=We(),t.sibling=null,a=ge.current,et(ge,c?a&1|2:a&1),Ut&&Di(n,l.treeForkCount),t):(se(n),null);case 22:case 23:return pn(n),oh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&hu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Se),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function E1(t,n){switch(Yc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Se),Yt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ss(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(s(340));ss()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ss()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(ge),null;case 4:return Yt(),null;case 10:return Vi(n.type),null;case 22:case 23:return pn(n),oh(),t!==null&&X(os),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Se),null;case 25:return null;default:return null}}function kg(t,n){switch(Yc(n),n.tag){case 3:Vi(Se),Yt();break;case 26:case 27:case 5:Ss(n);break;case 4:Yt();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:X(ge);break;case 10:Vi(n.type);break;case 22:case 23:pn(n),oh(),t!==null&&X(os);break;case 24:Vi(Se)}}function El(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==c)}}catch(b){Zt(n,n.return,b)}}function ga(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,c=n;var D=a,B=b;try{B()}catch(Y){Zt(c,D,Y)}}}l=l.next}while(l!==f)}}catch(Y){Zt(n,n.return,Y)}}function Bg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Mm(n,a)}catch(l){Zt(t,t.return,l)}}}function Pg(t,n,a){a.props=ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Zt(t,n,c)}}function pi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Zt(t,n,c)}else a.current=null}function qg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Zt(t,t.return,c)}}function Bh(t,n,a){try{var l=t.stateNode;q1(l,t.type,a,n),l[ze]=n}catch(c){Zt(t,t.return,c)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function Ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(qh(t,n,a),t=t.sibling;t!==null;)qh(t,n,a),t=t.sibling}function fu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fu(t,n,a),t=t.sibling;t!==null;)fu(t,n,a),t=t.sibling}function Gg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Fe(n,l,a),n[Te]=t,n[ze]=a}catch(f){Zt(t,t.return,f)}}var Ui=!1,Re=!1,Hh=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function b1(t,n){if(t=t.containerInfo,hf=Vu,t=im(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,b=-1,D=-1,B=0,Y=0,Z=t,P=null;e:for(;;){for(var F;Z!==a||c!==0&&Z.nodeType!==3||(b=p+c),Z!==f||l!==0&&Z.nodeType!==3||(D=p+l),Z.nodeType===3&&(p+=Z.nodeValue.length),(F=Z.firstChild)!==null;)P=Z,Z=F;for(;;){if(Z===t)break e;if(P===a&&++B===c&&(b=p),P===f&&++Y===l&&(D=p),(F=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=F}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:t,selectionRange:a},Vu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ut=ds(a.type,c);t=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Zt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Qg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),l&4&&El(5,a);break;case 1:if(Bi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Zt(a,a.return,p)}else{var c=ds(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Zt(a,a.return,p)}}l&64&&Bg(a),l&512&&bl(a,a.return);break;case 3:if(Bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Mm(t,n)}catch(p){Zt(a,a.return,p)}}break;case 27:n===null&&l&4&&Gg(a);case 26:case 5:Bi(t,a),n===null&&l&4&&qg(a),l&512&&bl(a,a.return);break;case 12:Bi(t,a);break;case 31:Bi(t,a),l&4&&Xg(t,a);break;case 13:Bi(t,a),l&4&&$g(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=M1.bind(null,a),$1(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||Re,c=Ui;var f=Re;Ui=l,(Re=n)&&!f?Pi(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),Ui=c,Re=f}break;case 30:break;default:Bi(t,a)}}function Yg(t){var n=t.alternate;n!==null&&(t.alternate=null,Yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ms(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,sn=!1;function ki(t,n,a){for(a=a.child;a!==null;)Kg(t,n,a),a=a.sibling}function Kg(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Re||pi(a,n),ki(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||pi(a,n);var l=ue,c=sn;Ta(a.type)&&(ue=a.stateNode,sn=!1),ki(t,n,a),Ml(a.stateNode),ue=l,sn=c;break;case 5:Re||pi(a,n);case 6:if(l=ue,c=sn,ue=null,ki(t,n,a),ue=l,sn=c,ue!==null)if(sn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{ue.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:ue!==null&&(sn?(t=ue,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):Bp(ue,a.stateNode));break;case 4:l=ue,c=sn,ue=a.stateNode.containerInfo,sn=!0,ki(t,n,a),ue=l,sn=c;break;case 0:case 11:case 14:case 15:ga(2,a,n),Re||ga(4,a,n),ki(t,n,a);break;case 1:Re||(pi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pg(a,n,l)),ki(t,n,a);break;case 21:ki(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,ki(t,n,a),Re=l;break;default:ki(t,n,a)}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(a){Zt(n,n.return,a)}}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){Zt(n,n.return,a)}}function T1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Fg),n;default:throw Error(s(435,t.tag))}}function du(t,n){var a=T1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=D1.bind(null,t,l);l.then(c,c)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,p=n,b=p;t:for(;b!==null;){switch(b.tag){case 27:if(Ta(b.type)){ue=b.stateNode,sn=!1;break t}break;case 5:ue=b.stateNode,sn=!1;break t;case 3:case 4:ue=b.stateNode.containerInfo,sn=!0;break t}b=b.return}if(ue===null)throw Error(s(160));Kg(f,p,c),ue=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zg(n,t),n=n.sibling}var Qn=null;function Zg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),ln(t),l&4&&(ga(3,t,t.return),El(3,t),ga(5,t,t.return));break;case 1:rn(n,t),ln(t),l&512&&(Re||a===null||pi(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Qn;if(rn(n,t),ln(t),l&512&&(Re||a===null||pi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ni]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Fe(f,l,a),f[Te]=t,xe(f),l=f;break t;case"link":var p=Zp("link","href",c).get(l+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break e}}f=c.createElement(l),Fe(f,l,a),c.head.appendChild(f);break;case"meta":if(p=Zp("meta","content",c).get(l+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break e}}f=c.createElement(l),Fe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,xe(f),l=f}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jp(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bh(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),ln(t),l&512&&(Re||a===null||pi(a,a.return)),a!==null&&l&4&&Bh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),ln(t),l&512&&(Re||a===null||pi(a,a.return)),t.flags&32){c=t.stateNode;try{an(c,"")}catch(ut){Zt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Bh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Hh=!0);break;case 6:if(rn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ut){Zt(t,t.return,ut)}}break;case 3:if(Cu=null,c=Qn,Qn=wu(n.containerInfo),rn(n,t),Qn=c,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(ut){Zt(t,t.return,ut)}Hh&&(Hh=!1,Jg(t));break;case 4:l=Qn,Qn=wu(t.stateNode.containerInfo),rn(n,t),ln(t),Qn=l;break;case 12:rn(n,t),ln(t);break;case 31:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 13:rn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gu=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Ui,Y=Re;if(Ui=B||c,Re=Y||D,rn(n,t),Re=Y,Ui=B,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Ui||Re||ms(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=D.stateNode;var Z=D.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ut){Zt(D,D.return,ut)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ut){Zt(D,D.return,ut)}}}else if(n.tag===18){if(a===null){D=n;try{var F=D.stateNode;c?Pp(F,!0):Pp(D.stateNode,!1)}catch(ut){Zt(D,D.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,du(t,a))));break;case 19:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 30:break;case 21:break;default:rn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Hg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Ph(t);fu(t,f,c);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var b=Ph(t);fu(t,b,p);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Ph(t);qh(t,B,D);break;default:throw Error(s(161))}}catch(Y){Zt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qg(t,n.alternate,n),n=n.sibling}function ms(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ga(4,n,n.return),ms(n);break;case 1:pi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pg(n,n.return,a),ms(n);break;case 27:Ml(n.stateNode);case 26:case 5:pi(n,n.return),ms(n);break;case 22:n.memoizedState===null&&ms(n);break;case 30:ms(n);break;default:ms(n)}t=t.sibling}}function Pi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Pi(c,f,a),El(4,f);break;case 1:if(Pi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var b=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Cm(D[c],b)}catch(B){Zt(l,l.return,B)}}a&&p&64&&Bg(f),bl(f,f.return);break;case 27:Gg(f);case 26:case 5:Pi(c,f,a),a&&l===null&&p&4&&qg(f),bl(f,f.return);break;case 12:Pi(c,f,a);break;case 31:Pi(c,f,a),a&&p&4&&Xg(c,f);break;case 13:Pi(c,f,a),a&&p&4&&$g(c,f);break;case 22:f.memoizedState===null&&Pi(c,f,a),bl(f,f.return);break;case 30:break;default:Pi(c,f,a)}n=n.sibling}}function Gh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Fh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function Yn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,a,l),n=n.sibling}function Wg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,a,l),c&2048&&El(9,n);break;case 1:Yn(t,n,a,l);break;case 3:Yn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){Yn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Zt(n,n.return,D)}}else Yn(t,n,a,l);break;case 31:Yn(t,n,a,l);break;case 13:Yn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,a,l):Tl(t,n):f._visibility&2?Yn(t,n,a,l):(f._visibility|=2,ir(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Gh(p,n);break;case 24:Yn(t,n,a,l),c&2048&&Fh(n.alternate,n);break;default:Yn(t,n,a,l)}}function ir(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=a,D=l,B=p.flags;switch(p.tag){case 0:case 11:case 15:ir(f,p,b,D,c),El(8,p);break;case 23:break;case 22:var Y=p.stateNode;p.memoizedState!==null?Y._visibility&2?ir(f,p,b,D,c):Tl(f,p):(Y._visibility|=2,ir(f,p,b,D,c)),c&&B&2048&&Gh(p.alternate,p);break;case 24:ir(f,p,b,D,c),c&&B&2048&&Fh(p.alternate,p);break;default:ir(f,p,b,D,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&Gh(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Fh(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var xl=8192;function ar(t,n,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)tp(t,n,a),t=t.sibling}function tp(t,n,a){switch(t.tag){case 26:ar(t,n,a),t.flags&xl&&t.memoizedState!==null&&oE(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,n,a);break;case 3:case 4:var l=Qn;Qn=wu(t.stateNode.containerInfo),ar(t,n,a),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,ar(t,n,a),xl=l):ar(t,n,a));break;default:ar(t,n,a)}}function ep(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,ip(l,t)}ep(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&ga(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mu(t)):Al(t);break;default:Al(t)}}function mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,ip(l,t)}ep(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ga(8,n,n.return),mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mu(n));break;default:mu(n)}t=t.sibling}}function ip(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:ga(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(Yg(l),l===a){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var x1={getCacheForType:function(t){var n=He(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return He(Se).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ne=null,Dt=null,jt=0,$t=0,yn=null,pa=!1,sr=!1,Qh=!1,qi=0,fe=0,ya=0,gs=0,Yh=0,vn=0,rr=0,Sl=null,on=null,Kh=!1,gu=0,ap=0,pu=1/0,yu=null,va=null,Ie=0,_a=null,lr=null,Hi=0,Xh=0,$h=null,sp=null,Nl=0,Zh=null;function _n(){return(Ft&2)!==0&&jt!==0?jt&-jt:Q.T!==null?af():vo()}function rp(){if(vn===0)if((jt&536870912)===0||Ut){var t=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===ne&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(or(t,0),Ea(t,jt,vn,!1)),Ha(t,a),((Ft&2)===0||t!==ne)&&(t===ne&&((Ft&2)===0&&(gs|=a),fe===4&&Ea(t,jt,vn,!1)),yi(t))}function lp(t,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),c=l?w1(t,n):Wh(t,n,!0),f=l;do{if(c===0){sr&&!l&&Ea(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!S1(a)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var b=t;c=Sl;var D=b.current.memoizedState.isDehydrated;if(D&&(or(b,p).flags|=256),p=Wh(b,p,!1),p!==2){if(Qh&&!D){b.errorRecoveryDisabledLanes|=f,gs|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){or(t,0),Ea(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ea(l,n,vn,!pa);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=gu+300-We(),10<c)){if(Ea(l,n,vn,!pa),Wn(l,0,!0)!==0)break t;Hi=n,l.timeoutHandle=Up(op.bind(null,l,a,on,yu,Kh,n,vn,gs,rr,pa,f,"Throttled",-0,0),c);break t}op(l,a,on,yu,Kh,n,vn,gs,rr,pa,f,null,-0,0)}}break}while(!0);yi(t)}function op(t,n,a,l,c,f,p,b,D,B,Y,Z,P,F){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},tp(n,f,Z);var ut=(f&62914560)===f?gu-We():(f&4194048)===f?ap-We():0;if(ut=uE(Z,ut),ut!==null){Hi=f,t.cancelPendingCommit=ut(pp.bind(null,t,n,f,a,l,c,p,b,D,Y,Z,null,P,F)),Ea(t,f,p,!B);return}}pp(t,n,f,a,l,c,p,b,D)}function S1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ea(t,n,a,l){n&=~Yh,n&=~gs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-de(c),p=1<<f;l[f]=-1,c&=~p}a!==0&&Ga(t,a,n)}function vu(){return(Ft&6)===0?(wl(0),!1):!0}function Jh(){if(Dt!==null){if($t===0)var t=Dt.return;else t=Dt,Ii=rs=null,mh(t),Js=null,ul=0,t=Dt;for(;t!==null;)kg(t.alternate,t),t=t.return;Dt=null}}function or(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,F1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Hi=0,Jh(),ne=t,Dt=a=Mi(t.current,null),jt=n,$t=0,yn=null,pa=!1,sr=Ln(t,n),Qh=!1,rr=vn=Yh=gs=ya=fe=0,on=Sl=null,Kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-de(l),f=1<<c;n|=t[c],l&=~f}return qi=n,ko(),a}function up(t,n){wt=null,Q.H=yl,n===Zs||n===Yo?(n=Sm(),$t=3):n===nh?(n=Sm(),$t=4):$t=n===Mh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Dt===null&&(fe=1,lu(t,Nn(n,t.current)))}function cp(){var t=gn.current;return t===null?!0:(jt&4194048)===jt?Mn===null:(jt&62914560)===jt||(jt&536870912)!==0?t===Mn:!1}function hp(){var t=Q.H;return Q.H=yl,t===null?yl:t}function fp(){var t=Q.A;return Q.A=x1,t}function _u(){fe=4,pa||(jt&4194048)!==jt&&gn.current!==null||(sr=!0),(ya&134217727)===0&&(gs&134217727)===0||ne===null||Ea(ne,jt,vn,!1)}function Wh(t,n,a){var l=Ft;Ft|=2;var c=hp(),f=fp();(ne!==t||jt!==n)&&(yu=null,or(t,n)),n=!1;var p=fe;t:do try{if($t!==0&&Dt!==null){var b=Dt,D=yn;switch($t){case 8:Jh(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var B=$t;if($t=0,yn=null,ur(t,b,D,B),a&&sr){p=0;break t}break;default:B=$t,$t=0,yn=null,ur(t,b,D,B)}}N1(),p=fe;break}catch(Y){up(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ii=rs=null,Ft=l,Q.H=c,Q.A=f,Dt===null&&(ne=null,jt=0,ko()),p}function N1(){for(;Dt!==null;)dp(Dt)}function w1(t,n){var a=Ft;Ft|=2;var l=hp(),c=fp();ne!==t||jt!==n?(yu=null,pu=We()+500,or(t,n)):sr=Ln(t,n);t:do try{if($t!==0&&Dt!==null){n=Dt;var f=yn;e:switch($t){case 1:$t=0,yn=null,ur(t,n,f,1);break;case 2:case 9:if(xm(f)){$t=0,yn=null,mp(n);break}n=function(){$t!==2&&$t!==9||ne!==t||($t=7),yi(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:xm(f)?($t=0,yn=null,mp(n)):($t=0,yn=null,ur(t,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var b=Dt;if(p?Wp(p):b.stateNode.complete){$t=0,yn=null;var D=b.sibling;if(D!==null)Dt=D;else{var B=b.return;B!==null?(Dt=B,Eu(B)):Dt=null}break e}}$t=0,yn=null,ur(t,n,f,5);break;case 6:$t=0,yn=null,ur(t,n,f,6);break;case 8:Jh(),fe=6;break t;default:throw Error(s(462))}}R1();break}catch(Y){up(t,Y)}while(!0);return Ii=rs=null,Q.H=l,Q.A=c,Ft=a,Dt!==null?0:(ne=null,jt=0,ko(),fe)}function R1(){for(;Dt!==null&&!Cc();)dp(Dt)}function dp(t){var n=Lg(t.alternate,t,qi);t.memoizedProps=t.pendingProps,n===null?Eu(t):Dt=n}function mp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Dg(a,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Dg(a,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:mh(n);default:kg(a,n),n=Dt=fm(n,qi),n=Lg(a,n,qi)}t.memoizedProps=t.pendingProps,n===null?Eu(t):Dt=n}function ur(t,n,a,l){Ii=rs=null,mh(n),Js=null,ul=0;var c=n.return;try{if(p1(t,c,n,a,jt)){fe=1,lu(t,Nn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;fe=1,lu(t,Nn(a,t.current)),Dt=null;return}n.flags&32768?(Ut||l===1?t=!0:sr||(jt&536870912)!==0?t=!1:(pa=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){gp(n,pa);return}t=n.return;var a=_1(n.alternate,n,qi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);fe===0&&(fe=5)}function gp(t,n){do{var a=E1(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);fe=6,Dt=null}function pp(t,n,a,l,c,f,p,b,D){t.cancelPendingCommit=null;do bu();while(Ie!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Pc,Ic(t,a,f,p,b,D),t===ne&&(Dt=ne=null,jt=0),lr=n,_a=t,Hi=a,Xh=f,$h=c,sp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,I1($i,function(){return bp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=at.p,at.p=2,p=Ft,Ft|=4;try{b1(t,n,a)}finally{Ft=p,at.p=c,Q.T=l}}Ie=1,yp(),vp(),_p()}}function yp(){if(Ie===1){Ie=0;var t=_a,n=lr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var c=Ft;Ft|=4;try{Zg(n,t);var f=ff,p=im(t.containerInfo),b=f.focusedElem,D=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&nm(b.ownerDocument.documentElement,b)){if(D!==null&&zc(b)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(Y,b.value.length);else{var Z=b.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var F=P.getSelection(),ut=b.textContent.length,yt=Math.min(D.start,ut),ee=D.end===void 0?yt:Math.min(D.end,ut);!F.extend&&yt>ee&&(p=ee,ee=yt,yt=p);var L=em(b,yt),j=em(b,ee);if(L&&j&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==j.node||F.focusOffset!==j.offset)){var k=Z.createRange();k.setStart(L.node,L.offset),F.removeAllRanges(),yt>ee?(F.addRange(k),F.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),F.addRange(k))}}}}for(Z=[],F=b;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var $=Z[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Vu=!!hf,ff=hf=null}finally{Ft=c,at.p=l,Q.T=a}}t.current=n,Ie=2}}function vp(){if(Ie===2){Ie=0;var t=_a,n=lr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var c=Ft;Ft|=4;try{Qg(t,n.alternate,n)}finally{Ft=c,at.p=l,Q.T=a}}Ie=3}}function _p(){if(Ie===4||Ie===3){Ie=0,co();var t=_a,n=lr,a=Hi,l=sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,lr=_a=null,Ep(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(va=null),Ni(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=at.p,at.p=2,Q.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{Q.T=n,at.p=c}}(Hi&3)!==0&&bu(),yi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Zh?Nl++:(Nl=0,Zh=t):Nl=0,wl(0)}}function Ep(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function bu(){return yp(),vp(),_p(),bp()}function bp(){if(Ie!==5)return!1;var t=_a,n=Xh;Xh=0;var a=Ni(Hi),l=Q.T,c=at.p;try{at.p=32>a?32:a,Q.T=null,a=$h,$h=null;var f=_a,p=Hi;if(Ie=0,lr=_a=null,Hi=0,(Ft&6)!==0)throw Error(s(331));var b=Ft;if(Ft|=4,np(f.current),Wg(f,f.current,p,a),Ft=b,wl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{at.p=c,Q.T=l,Ep(t,n)}}function Tp(t,n,a){n=Nn(a,n),n=Ch(t.stateNode,n,2),t=fa(t,n,2),t!==null&&(Ha(t,2),yi(t))}function Zt(t,n,a){if(t.tag===3)Tp(t,t,a);else for(;n!==null;){if(n.tag===3){Tp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(va===null||!va.has(l))){t=Nn(a,t),a=xg(2),l=fa(n,a,2),l!==null&&(Ag(a,l,n,t),Ha(l,2),yi(l));break}}n=n.return}}function tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new A1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Qh=!0,c.add(a),t=C1.bind(null,t,n,a),n.then(t,t))}function C1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ne===t&&(jt&a)===a&&(fe===4||fe===3&&(jt&62914560)===jt&&300>We()-gu?(Ft&2)===0&&or(t,0):Yh|=a,rr===jt&&(rr=0)),yi(t)}function xp(t,n){n===0&&(n=yo()),t=is(t,n),t!==null&&(Ha(t,n),yi(t))}function M1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),xp(t,a)}function D1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),xp(t,a)}function I1(t,n){return De(t,n)}var Tu=null,cr=null,ef=!1,xu=!1,nf=!1,ba=0;function yi(t){t!==cr&&t.next===null&&(cr===null?Tu=cr=t:cr=cr.next=t),xu=!0,ef||(ef=!0,j1())}function wl(t,n){if(!nf&&xu){nf=!0;do for(var a=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-de(42|t)+1)-1,f&=c&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,wp(l,f))}else f=jt,f=Wn(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(a=!0,wp(l,f));l=l.next}while(a);nf=!1}}function V1(){Ap()}function Ap(){xu=ef=!1;var t=0;ba!==0&&G1()&&(t=ba);for(var n=We(),a=null,l=Tu;l!==null;){var c=l.next,f=Sp(l,n);f===0?(l.next=null,a===null?Tu=c:a.next=c,c===null&&(cr=a)):(a=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=c}Ie!==0&&Ie!==5||wl(t),ba!==0&&(ba=0)}function Sp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-de(f),b=1<<p,D=c[p];D===-1?((b&a)===0||(b&l)!==0)&&(c[p]=Dc(b,n)):D<=n&&(t.expiredLanes|=b),f&=~b}if(n=ne,a=jt,a=Wn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ln(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Xi(l),Ni(a)){case 2:case 8:a=Lr;break;case 32:a=$i;break;case 268435456:a=ho;break;default:a=$i}return l=Np.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Xi(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bu()&&t.callbackNode!==a)return null;var l=jt;return l=Wn(t,t===ne?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(lp(t,l,n),Sp(t,We()),t.callbackNode!=null&&t.callbackNode===a?Np.bind(null,t):null)}function wp(t,n){if(bu())return null;lp(t,n,!0)}function j1(){Q1(function(){(Ft&6)!==0?De(zr,V1):Ap()})}function af(){if(ba===0){var t=Xs;t===0&&(t=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),ba=t}return ba}function Rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:js(""+t)}function Cp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function O1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Rp((c[ze]||null).action),p=l.submitter;p&&(n=(n=p[ze]||null)?Rp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new ci("action","action",null,l,c);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ba!==0){var D=p?Cp(c,p):new FormData(c);xh(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(b.preventDefault(),D=p?Cp(c,p):new FormData(c),xh(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var sf=0;sf<Bc.length;sf++){var rf=Bc[sf],z1=rf.toLowerCase(),L1=rf[0].toUpperCase()+rf.slice(1);Fn(z1,"on"+L1)}Fn(rm,"onAnimationEnd"),Fn(lm,"onAnimationIteration"),Fn(om,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(W_,"onTransitionRun"),Fn(t1,"onTransitionStart"),Fn(e1,"onTransitionCancel"),Fn(um,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Mp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],D=b.instance,B=b.currentTarget;if(b=b.listener,D!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=B;try{f(c)}catch(Y){Uo(Y)}c.currentTarget=null,f=D}else for(p=0;p<l.length;p++){if(b=l[p],D=b.instance,B=b.currentTarget,b=b.listener,D!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=B;try{f(c)}catch(Y){Uo(Y)}c.currentTarget=null,f=D}}}}function It(t,n){var a=n[Cs];a===void 0&&(a=n[Cs]=new Set);var l=t+"__bubble";a.has(l)||(Dp(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),Dp(a,t,l,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[Au]){t[Au]=!0,Br.forEach(function(a){a!=="selectionchange"&&(U1.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Au]||(n[Au]=!0,lf("selectionchange",!1,n))}}function Dp(t,n,a,l){switch(ry(n)){case 2:var c=fE;break;case 8:c=dE;break;default:c=xf}a=c.bind(null,n,a,t),c=void 0,!Xa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===c)break;if(p===4)for(p=l.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;b!==null;){if(p=ii(b),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){l=f=p;continue t}b=b.parentNode}}l=l.return}na(function(){var B=f,Y=Tn(a),Z=[];t:{var P=cm.get(t);if(P!==void 0){var F=ci,ut=t;switch(t){case"keypress":if(Za(a)===0)break t;case"keydown":case"keyup":F=Oo;break;case"focusin":ut="focus",F=Wa;break;case"focusout":ut="blur",F=Wa;break;case"beforeblur":case"afterblur":F=Wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case rm:case lm:case om:F=Ro;break;case um:F=x;break;case"scroll":case"scrollend":F=Jr;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ci;break;case"toggle":case"beforetoggle":F=Nt}var yt=(n&4)!==0,ee=!yt&&(t==="scroll"||t==="scrollend"),L=yt?P!==null?P+"Capture":null:P;yt=[];for(var j=B,k;j!==null;){var $=j;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||L===null||($=Pn(j,L),$!=null&&yt.push(Cl(j,$,k))),ee)break;j=j.return}0<yt.length&&(P=new F(P,ut,null,a,Y),Z.push({event:P,listeners:yt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",P&&a!==Xr&&(ut=a.relatedTarget||a.fromElement)&&(ii(ut)||ut[ei]))break t;if((F||P)&&(P=Y.window===Y?Y:(P=Y.ownerDocument)?P.defaultView||P.parentWindow:window,F?(ut=a.relatedTarget||a.toElement,F=B,ut=ut?ii(ut):null,ut!==null&&(ee=h(ut),yt=ut.tag,ut!==ee||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(F=null,ut=B),F!==ut)){if(yt=Wr,$="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Ci,$="onPointerLeave",L="onPointerEnter",j="pointer"),ee=F==null?P:hn(F),k=ut==null?P:hn(ut),P=new yt($,j+"leave",F,a,Y),P.target=ee,P.relatedTarget=k,$=null,ii(Y)===B&&(yt=new yt(L,j+"enter",ut,a,Y),yt.target=k,yt.relatedTarget=ee,$=yt),ee=$,F&&ut)e:{for(yt=k1,L=F,j=ut,k=0,$=L;$;$=yt($))k++;$=0;for(var mt=j;mt;mt=yt(mt))$++;for(;0<k-$;)L=yt(L),k--;for(;0<$-k;)j=yt(j),$--;for(;k--;){if(L===j||j!==null&&L===j.alternate){yt=L;break e}L=yt(L),j=yt(j)}yt=null}else yt=null;F!==null&&Ip(Z,P,F,yt,!1),ut!==null&&ee!==null&&Ip(Z,ee,ut,yt,!0)}}t:{if(P=B?hn(B):window,F=P.nodeName&&P.nodeName.toLowerCase(),F==="select"||F==="input"&&P.type==="file")var qt=Xd;else if(Yd(P))if($d)qt=$_;else{qt=K_;var ct=Y_}else F=P.nodeName,!F||F.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Vs(B.elementType)&&(qt=Xd):qt=X_;if(qt&&(qt=qt(t,B))){Kd(Z,qt,a,Y);break t}ct&&ct(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Qr(P,"number",P.value)}switch(ct=B?hn(B):window,t){case"focusin":(Yd(ct)||ct.contentEditable==="true")&&(Ps=ct,Lc=B,al=null);break;case"focusout":al=Lc=Ps=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,am(Z,a,Y);break;case"selectionchange":if(J_)break;case"keydown":case"keyup":am(Z,a,Y)}var Rt;if(Gt)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Bs?ts(t,a)&&(Ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(di&&a.locale!=="ko"&&(Bs||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Bs&&(Rt=Zr()):(ui=Y,$r="value"in ui?ui.value:ui.textContent,Bs=!0)),ct=Su(B,Ot),0<ct.length&&(Ot=new fi(Ot,t,null,a,Y),Z.push({event:Ot,listeners:ct}),Rt?Ot.data=Rt:(Rt=ks(a),Rt!==null&&(Ot.data=Rt)))),(Rt=An?H_(t,a):G_(t,a))&&(Ot=Su(B,"onBeforeInput"),0<Ot.length&&(ct=new fi("onBeforeInput","beforeinput",null,a,Y),Z.push({event:ct,listeners:Ot}),ct.data=Rt)),O1(Z,t,B,a,Y)}Mp(Z,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Su(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pn(t,a),c!=null&&l.unshift(Cl(t,c,f)),c=Pn(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function k1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ip(t,n,a,l,c){for(var f=n._reactName,p=[];a!==null&&a!==l;){var b=a,D=b.alternate,B=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||B===null||(D=B,c?(B=Pn(a,f),B!=null&&p.unshift(Cl(a,B,D))):c||(B=Pn(a,f),B!=null&&p.push(Cl(a,B,D)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var B1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function Vp(t){return(typeof t=="string"?t:""+t).replace(B1,`
`).replace(P1,"")}function jp(t,n){return n=Vp(n),Vp(t)===n}function te(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,a,l);break;case"style":Kr(t,l,f);break;case"data":if(n!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=js(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=js(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=js(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Ds(t,"popover",l);break;case"xlinkActuate":Ae(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=So.get(a)||a,Ds(t,a,l))}}function cf(t,n,a,l,c,f){switch(a){case"style":Kr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ds(t,a,l)}}}function Fe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(t,n,f,p,a,null)}}c&&te(t,n,"srcSet",a.srcSet,a,null),l&&te(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var b=f=p=c=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":p=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:te(t,n,l,Y,a,null)}}To(t,f,b,D,B,p,c,!1);return;case"select":It("invalid",t),l=p=f=null;for(c in a)if(a.hasOwnProperty(c)&&(b=a[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:te(t,n,c,b,a,null)}n=f,a=p,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):a!=null&&Ji(t,!!l,a,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:te(t,n,p,b,a,null)}Wi(t,l,c,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,D,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)It(Rl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(t,n,B,l,a,null)}return;default:if(Vs(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&cf(t,n,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&te(t,n,b,l,a,null))}function q1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,b=null,D=null,B=null,Y=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(F)||te(t,n,F,null,l,Z)}}for(var P in l){var F=l[P];if(Z=a[P],l.hasOwnProperty(P)&&(F!=null||Z!=null))switch(P){case"type":f=F;break;case"name":c=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":p=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Z&&te(t,n,P,F,l,Z)}}Is(t,p,b,D,B,Y,f,c);return;case"select":F=p=b=P=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(f)||te(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":P=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==D&&te(t,n,c,f,l,D)}n=b,a=p,l=F,P!=null?Ji(t,!!a,P,!1):!!l!=!!a&&(n!=null?Ji(t,!!a,n,!0):Ji(t,!!a,a?[]:"",!1));return;case"textarea":F=P=null;for(b in a)if(c=a[b],a.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:te(t,n,b,null,l,c)}for(p in l)if(c=l[p],f=a[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":P=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&te(t,n,p,c,l,f)}xo(t,P,F);return;case"option":for(var ut in a)if(P=a[ut],a.hasOwnProperty(ut)&&P!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:te(t,n,ut,null,l,P)}for(D in l)if(P=l[D],F=a[D],l.hasOwnProperty(D)&&P!==F&&(P!=null||F!=null))switch(D){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:te(t,n,D,P,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)P=a[yt],a.hasOwnProperty(yt)&&P!=null&&!l.hasOwnProperty(yt)&&te(t,n,yt,null,l,P);for(B in l)if(P=l[B],F=a[B],l.hasOwnProperty(B)&&P!==F&&(P!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:te(t,n,B,P,l,F)}return;default:if(Vs(n)){for(var ee in a)P=a[ee],a.hasOwnProperty(ee)&&P!==void 0&&!l.hasOwnProperty(ee)&&cf(t,n,ee,void 0,l,P);for(Y in l)P=l[Y],F=a[Y],!l.hasOwnProperty(Y)||P===F||P===void 0&&F===void 0||cf(t,n,Y,P,l,F);return}}for(var L in a)P=a[L],a.hasOwnProperty(L)&&P!=null&&!l.hasOwnProperty(L)&&te(t,n,L,null,l,P);for(Z in l)P=l[Z],F=a[Z],!l.hasOwnProperty(Z)||P===F||P==null&&F==null||te(t,n,Z,P,l,F)}function Op(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,p=c.initiatorType,b=c.duration;if(f&&b&&Op(p)){for(p=0,b=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>b)break;var Y=D.transferSize,Z=D.initiatorType;Y&&Op(Z)&&(D=D.responseEnd,p+=Y*(D<b?1:(b-B)/(D-B)))}if(--l,n+=8*(f+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hf=null,ff=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function G1(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(t){return kp.resolve(null).then(t).catch(Y1)}:Up;function Y1(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function Bp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),mr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[ni]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Ml(t.ownerDocument.body);a=c}while(a);mr(n)}function Pp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function K1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function X1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function qp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$?"||t.data==="$~"}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vf=null;function Hp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Gp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Fp(t,n,a){switch(n=Nu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ms(t)}var In=new Map,Qp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=at.d;at.d={f:Z1,r:J1,D:W1,C:tE,L:eE,m:nE,X:aE,S:iE,M:sE};function Z1(){var t=Gi.f(),n=vu();return t||n}function J1(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?ug(n):Gi.r(t)}var hr=typeof document>"u"?null:document;function Yp(t,n,a){var l=hr;if(l&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Qp.has(c)||(Qp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Fe(n,"link",t),xe(n),l.head.appendChild(n)))}}function W1(t){Gi.D(t),Yp("dns-prefetch",t,null)}function tE(t,n){Gi.C(t,n),Yp("preconnect",t,n)}function eE(t,n,a){Gi.L(t,n,a);var l=hr;if(l&&t&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+nn(a.imageSizes)+'"]')):c+='[href="'+nn(t)+'"]';var f=c;switch(n){case"style":f=fr(t);break;case"script":f=dr(t)}In.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Fe(n,"link",t),xe(n),l.head.appendChild(n)))}}function nE(t,n){Gi.m(t,n);var a=hr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(t)}if(!In.has(f)&&(t=w({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Fe(l,"link",t),xe(l),a.head.appendChild(l)}}}function iE(t,n,a){Gi.S(t,n,a);var l=hr;if(l&&t){var c=ai(l).hoistableStyles,f=fr(t);n=n||"default";var p=c.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(Dl(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&_f(t,a);var D=p=l.createElement("link");xe(D),Fe(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ru(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},c.set(f,p)}}}function aE(t,n){Gi.X(t,n);var a=hr;if(a&&t){var l=ai(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=w({src:t,async:!0},n),(n=In.get(c))&&Ef(t,n),f=a.createElement("script"),xe(f),Fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sE(t,n){Gi.M(t,n);var a=hr;if(a&&t){var l=ai(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Ef(t,n),f=a.createElement("script"),xe(f),Fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,a,l){var c=(c=pt.current)?wu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fr(a.href),a=ai(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fr(a.href);var f=ai(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Dl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||rE(c,t,a,p.state))),n&&l===null)throw Error(s(528,""));return p}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dr(a),a=ai(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fr(t){return'href="'+nn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function rE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",a),xe(n),t.head.appendChild(n))}function dr(t){return'[src="'+nn(t)+'"]'}function Il(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return n.instance=l,xe(l),l;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xe(l),Fe(l,"style",c),Ru(l,a.precedence,t),n.instance=l;case"stylesheet":c=fr(a.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;l=Xp(a),(c=In.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),xe(f);var p=f;return p._p=new Promise(function(b,D){p.onload=b,p.onerror=D}),Fe(f,"link",l),n.state.loading|=4,Ru(f,a.precedence,t),n.instance=f;case"script":return f=dr(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,xe(c),c):(l=a,(c=In.get(f))&&(l=w({},a),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),xe(c),Fe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ru(l,a.precedence,t));return n.instance}function Ru(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cu=null;function Zp(t,n,a){if(Cu===null){var l=new Map,c=Cu=new Map;c.set(a,l)}else c=Cu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ni]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function lE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fr(l.href),f=n.querySelector(Dl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Mu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,xe(f);return}f=n.ownerDocument||n,l=Xp(l),(c=In.get(c))&&_f(l,c),f=f.createElement("link"),xe(f);var p=f;p._p=new Promise(function(b,D){p.onload=b,p.onerror=D}),Fe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var bf=0;function uE(t,n){return t.stylesheets&&t.count===0&&Iu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bf===0&&(bf=62500*H1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function Iu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,n.forEach(cE,t),Du=null,Mu.call(t))}function cE(t,n){if(!(n.state.loading&4)){var a=Du.get(t);if(a)var l=a.get(null);else{a=new Map,Du.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,c),a.set(p,c),this.count++,l=Mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function hE(t,n,a,l,c,f,p,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ty(t,n,a,l,c,f,p,b,D,B,Y,Z){return t=new hE(t,n,a,p,D,B,Y,Z,b),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),t.current=f,f.stateNode=t,n=Wc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ih(f),t}function ey(t){return t?(t=Gs,t):Gs}function ny(t,n,a,l,c,f){c=ey(c),l.context===null?l.context=c:l.pendingContext=c,l=ha(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=fa(t,l,n),a!==null&&(un(a,t,n),hl(a,t,n))}function iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){iy(t,n),(t=t.alternate)&&iy(t,n)}function ay(t){if(t.tag===13||t.tag===31){var n=is(t,67108864);n!==null&&un(n,t,67108864),Tf(t,67108864)}}function sy(t){if(t.tag===13||t.tag===31){var n=_n();n=Fa(n);var a=is(t,n);a!==null&&un(a,t,n),Tf(t,n)}}var Vu=!0;function fE(t,n,a,l){var c=Q.T;Q.T=null;var f=at.p;try{at.p=2,xf(t,n,a,l)}finally{at.p=f,Q.T=c}}function dE(t,n,a,l){var c=Q.T;Q.T=null;var f=at.p;try{at.p=8,xf(t,n,a,l)}finally{at.p=f,Q.T=c}}function xf(t,n,a,l){if(Vu){var c=Af(l);if(c===null)uf(t,n,l,ju,a),ly(t,l);else if(gE(c,t,n,a,l))l.stopPropagation();else if(ly(t,l),n&4&&-1<mE.indexOf(t)){for(;c!==null;){var f=bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Jn(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var D=1<<31-de(p);b.entanglements[1]|=D,p&=~D}yi(f),(Ft&6)===0&&(pu=We()+500,wl(0))}}break;case 31:case 13:b=is(f,2),b!==null&&un(b,f,2),vu(),Tf(f,2)}if(f=Af(l),f===null&&uf(t,n,l,ju,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function Af(t){return t=Tn(t),Sf(t)}var ju=null;function Sf(t){if(ju=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ju=t,null}function ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case zr:return 2;case Lr:return 8;case $i:case Mc:return 32;case ho:return 268435456;default:return 32}default:return 32}}var Nf=!1,xa=null,Aa=null,Sa=null,jl=new Map,Ol=new Map,Na=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(t,n){switch(t){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function zl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=bn(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function gE(t,n,a,l,c){switch(n){case"focusin":return xa=zl(xa,t,n,a,l,c),!0;case"dragenter":return Aa=zl(Aa,t,n,a,l,c),!0;case"mouseover":return Sa=zl(Sa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,zl(jl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,zl(Ol.get(f)||null,t,n,a,l,c)),!0}return!1}function oy(t){var n=ii(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){sy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Un(t.priority,function(){sy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Af(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xr=l,a.target.dispatchEvent(l),Xr=null}else return n=bn(a),n!==null&&ay(n),t.blockedOn=a,!1;n.shift()}return!0}function uy(t,n,a){Ou(t)&&a.delete(n)}function pE(){Nf=!1,xa!==null&&Ou(xa)&&(xa=null),Aa!==null&&Ou(Aa)&&(Aa=null),Sa!==null&&Ou(Sa)&&(Sa=null),jl.forEach(uy),Ol.forEach(uy)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pE)))}var Lu=null;function cy(t){Lu!==t&&(Lu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Sf(l||a)===null)continue;break}var f=bn(a);f!==null&&(t.splice(n,3),n-=3,xh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function mr(t){function n(D){return zu(D,t)}xa!==null&&zu(xa,t),Aa!==null&&zu(Aa,t),Sa!==null&&zu(Sa,t),jl.forEach(n),Ol.forEach(n);for(var a=0;a<Na.length;a++){var l=Na[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Na.length&&(a=Na[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&Na.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=c[ze]||null;if(typeof f=="function")p||cy(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[ze]||null)b=p.formAction;else if(Sf(c)!==null)continue}else b=p.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),cy(a)}}}function hy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function wf(t){this._internalRoot=t}Uu.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();ny(a,l,t,n,null,null)},Uu.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ny(t.current,2,null,t,null,null),vu(),n[ei]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=vo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Na.length&&n!==0&&n<Na[a].priority;a++);Na.splice(a,0,t),a===0&&oy(t)}};var fy=e.version;if(fy!=="19.2.1")throw Error(s(527,fy,"19.2.1"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var yE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{zn=ku.inject(yE),Be=ku}catch{}}return Ul.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=_g,f=Eg,p=bg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=ty(t,1,!1,null,null,a,l,null,c,f,p,hy),t[ei]=n.current,of(t),new wf(n)},Ul.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=_g,p=Eg,b=bg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=ty(t,1,!0,n,a??null,l,c,D,f,p,b,hy),n.context=ey(null),a=n.current,l=_n(),l=Fa(l),c=ha(l),c.callback=null,fa(a,c,l),a=l,n.current.lanes=a,Ha(n,a),yi(n),t[ei]=n.current,of(t),new Uu(n)},Ul.version="19.2.1",Ul}var Ty;function RE(){if(Ty)return Mf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=wE(),Mf.exports}var CE=RE();const ME=B0(CE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),xy=r=>{const e=IE(r);return e.charAt(0).toUpperCase()+e.slice(1)},P0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),VE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=Mt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...y},E)=>Mt.createElement("svg",{ref:E,...jE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:P0("lucide",o),...!h&&!VE(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Mt.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(r,e)=>{const i=Mt.forwardRef(({className:s,...o},h)=>Mt.createElement(OE,{ref:h,iconNode:e,className:P0(`lucide-${DE(xy(r))}`,`lucide-${r}`,s),...o}));return i.displayName=xy(r),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],LE=kt("arrow-left-right",zE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kE=kt("arrow-left",UE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ay=kt("book-open",BE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q0=kt("calendar",PE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sy=kt("chevron-down",qE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GE=kt("chevron-right",HE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QE=kt("chevron-left",FE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ny=kt("chevron-up",YE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wy=kt("circle-alert",KE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ry=kt("circle-check",XE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Cy=kt("circle-plus",$E);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],JE=kt("crown",ZE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],H0=kt("hash",WE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],G0=kt("history",tb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],nb=kt("landmark",eb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ab=kt("layout-dashboard",ib);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],rb=kt("list",sb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ob=kt("log-out",lb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],F0=kt("map-pin",ub);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hb=kt("menu",cb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Q0=kt("panels-top-left",fb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mb=kt("pencil",db);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pb=kt("plus",gb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mc=kt("printer",yb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Y0=kt("save",vb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Eb=kt("search",_b);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K0=kt("settings",bb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X0=kt("shield-check",Tb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hf=kt("shield",xb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sb=kt("trash-2",Ab);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dd=kt("triangle-alert",Nb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gf=kt("user-cog",wb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Cb=kt("user-x",Rb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$0=kt("users",Mb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ib=kt("x",Db),Vb=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},jb=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],E=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(E>>10)),e[s++]=String.fromCharCode(56320+(E&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},J0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,E=o+2<r.length,_=E?r[o+2]:0,A=h>>2,w=(h&3)<<4|y>>4;let N=(y&15)<<2|_>>6,q=_&63;E||(q=64,d||(N=64)),s.push(i[A],i[w],i[N],i[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Z0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):jb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||_==null||w==null)throw new Ob;const N=h<<2|y>>4;if(s.push(N),_!==64){const q=y<<4&240|_>>2;if(s.push(q),w!==64){const G=_<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const e=Z0(r);return J0.encodeByteArray(e,!0)},Zu=function(r){return zb(r).replace(/\./g,"")},Lb=function(r){try{return J0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=()=>Ub().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof My>"u")return;const r=My.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Pb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Lb(r[1]);return e&&JSON.parse(e)},md=()=>{try{return Vb()||kb()||Bb()||Pb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qb=r=>{var e,i;return(i=(e=md())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},Hb=r=>{const e=qb(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},W0=()=>{var r;return(r=md())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(d)),""].join(".")}const Gl={};function Yb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function Kb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Dy=!1;function Xb(r,e){if(typeof window>"u"||typeof document>"u"||!gd(window.location.host)||Gl[r]===e||Gl[r]||Dy)return;Gl[r]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=Yb().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function E(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Dy=!0,d()},N}function A(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=Kb(s),q=i("text"),G=document.getElementById(q)||document.createElement("span"),z=i("learnmore"),K=document.getElementById(z)||document.createElement("a"),it=i("preprendIcon"),lt=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const rt=N.element;y(rt),A(K,z);const Et=_();E(lt,it),rt.append(lt,G,K,Et),document.body.appendChild(rt)}h?(G.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){var e;const r=(e=md())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wb(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="FirebaseError";class Rr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=eT,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tv.prototype.create)}}class tv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?nT(h,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Rr(o,y,s)}}function nT(r,e){return r.replace(iT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iT=/\{\$([^}]+)}/g;function Ju(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Iy(h)&&Iy(d)){if(!Ju(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Iy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){return r&&r._delegate?r._delegate:r}class $l{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Gb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rT(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sT(r){return r===ps?void 0:r}function rT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const oT={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},uT=Pt.INFO,cT={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},hT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=cT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ev{constructor(e){this.name=e,this._logLevel=uT,this._logHandler=hT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const fT=(r,e)=>e.some(i=>r instanceof i);let Vy,jy;function dT(){return Vy||(Vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mT(){return jy||(jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nv=new WeakMap,Ff=new WeakMap,iv=new WeakMap,jf=new WeakMap,pd=new WeakMap;function gT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ca(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&nv.set(i,r)}).catch(()=>{}),pd.set(e,r),e}function pT(r){if(Ff.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Ff.set(r,e)}let Qf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ff.get(r);if(e==="objectStoreNames")return r.objectStoreNames||iv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ca(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yT(r){Qf=r(Qf)}function vT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Of(this),e,...i);return iv.set(s,e.sort?e.sort():[e]),Ca(s)}:mT().includes(r)?function(...e){return r.apply(Of(this),e),Ca(nv.get(this))}:function(...e){return Ca(r.apply(Of(this),e))}}function _T(r){return typeof r=="function"?vT(r):(r instanceof IDBTransaction&&pT(r),fT(r,dT())?new Proxy(r,Qf):r)}function Ca(r){if(r instanceof IDBRequest)return gT(r);if(jf.has(r))return jf.get(r);const e=_T(r);return e!==r&&(jf.set(r,e),pd.set(e,r)),e}const Of=r=>pd.get(r);function ET(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=Ca(d);return s&&d.addEventListener("upgradeneeded",E=>{s(Ca(d.result),E.oldVersion,E.newVersion,Ca(d.transaction),E)}),i&&d.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),y.then(E=>{h&&E.addEventListener("close",()=>h()),o&&E.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const bT=["get","getKey","getAll","getAllKeys","count"],TT=["put","add","delete","clear"],zf=new Map;function Oy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=TT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bT.includes(i)))return;const h=async function(d,...y){const E=this.transaction(d,o?"readwrite":"readonly");let _=E.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&E.done]))[0]};return zf.set(e,h),h}yT(r=>({...r,get:(e,i,s)=>Oy(e,i)||r.get(e,i,s),has:(e,i)=>!!Oy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function AT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",zy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new ev("@firebase/app"),ST="@firebase/app-compat",NT="@firebase/analytics-compat",wT="@firebase/analytics",RT="@firebase/app-check-compat",CT="@firebase/app-check",MT="@firebase/auth",DT="@firebase/auth-compat",IT="@firebase/database",VT="@firebase/data-connect",jT="@firebase/database-compat",OT="@firebase/functions",zT="@firebase/functions-compat",LT="@firebase/installations",UT="@firebase/installations-compat",kT="@firebase/messaging",BT="@firebase/messaging-compat",PT="@firebase/performance",qT="@firebase/performance-compat",HT="@firebase/remote-config",GT="@firebase/remote-config-compat",FT="@firebase/storage",QT="@firebase/storage-compat",YT="@firebase/firestore",KT="@firebase/ai",XT="@firebase/firestore-compat",$T="firebase",ZT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",JT={[Yf]:"fire-core",[ST]:"fire-core-compat",[wT]:"fire-analytics",[NT]:"fire-analytics-compat",[CT]:"fire-app-check",[RT]:"fire-app-check-compat",[MT]:"fire-auth",[DT]:"fire-auth-compat",[IT]:"fire-rtdb",[VT]:"fire-data-connect",[jT]:"fire-rtdb-compat",[OT]:"fire-fn",[zT]:"fire-fn-compat",[LT]:"fire-iid",[UT]:"fire-iid-compat",[kT]:"fire-fcm",[BT]:"fire-fcm-compat",[PT]:"fire-perf",[qT]:"fire-perf-compat",[HT]:"fire-rc",[GT]:"fire-rc-compat",[FT]:"fire-gcs",[QT]:"fire-gcs-compat",[YT]:"fire-fst",[XT]:"fire-fst-compat",[KT]:"fire-vertex","fire-js":"fire-js",[$T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,WT=new Map,Xf=new Map;function Ly(r,e){try{r.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function tc(r){const e=r.name;if(Xf.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,r);for(const i of Wu.values())Ly(i,r);for(const i of WT.values())Ly(i,r);return!0}function tx(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ex(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new tv("app","Firebase",nx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=ZT;function av(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Kf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ma.create("bad-app-name",{appName:String(o)});if(i||(i=W0()),!i)throw Ma.create("no-options");const h=Wu.get(o);if(h){if(Ju(i,h.options)&&Ju(s,h.config))return h;throw Ma.create("duplicate-app",{appName:o})}const d=new lT(o);for(const E of Xf.values())d.addComponent(E);const y=new ix(i,s,d);return Wu.set(o,y),y}function sx(r=Kf){const e=Wu.get(r);if(!e&&r===Kf&&W0())return av();if(!e)throw Ma.create("no-app",{appName:r});return e}function _r(r,e,i){let s=JT[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}tc(new $l(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebase-heartbeat-database",lx=1,Zl="firebase-heartbeat-store";let Lf=null;function sv(){return Lf||(Lf=ET(rx,lx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ma.create("idb-open",{originalErrorMessage:r.message})})),Lf}async function ox(r){try{const i=(await sv()).transaction(Zl),s=await i.objectStore(Zl).get(rv(r));return await i.done,s}catch(e){if(e instanceof Rr)Qi.warn(e.message);else{const i=Ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(i.message)}}}async function Uy(r,e){try{const s=(await sv()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,rv(r)),await s.done}catch(i){if(i instanceof Rr)Qi.warn(i.message);else{const s=Ma.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Qi.warn(s.message)}}}function rv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=1024,cx=30;class hx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dx(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ky();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>cx){const d=mx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ky(),{heartbeatsToSend:s,unsentEntries:o}=fx(this._heartbeatsCache.heartbeats),h=Zu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Qi.warn(i),""}}}function ky(){return new Date().toISOString().substring(0,10)}function fx(r,e=ux){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),By(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),By(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wb()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ox(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function By(r){return Zu(JSON.stringify({version:2,heartbeats:r})).length}function mx(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){tc(new $l("platform-logger",e=>new xT(e),"PRIVATE")),tc(new $l("heartbeat",e=>new hx(e),"PRIVATE")),_r(Yf,zy,r),_r(Yf,zy,"esm2020"),_r("fire-js","")}gx("");var px="firebase",yx="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(px,yx,"app");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,lv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,T){function R(){}R.prototype=T.prototype,M.F=T.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(C,I,O){for(var S=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)S[_t-2]=arguments[_t];return T.prototype[I].apply(C,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,T,R){R||(R=0);const C=Array(16);if(typeof T=="string")for(var I=0;I<16;++I)C[I]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(I=0;I<16;++I)C[I]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=M.g[0],R=M.g[1],I=M.g[2];let O=M.g[3],S;S=T+(O^R&(I^O))+C[0]+3614090360&4294967295,T=R+(S<<7&4294967295|S>>>25),S=O+(I^T&(R^I))+C[1]+3905402710&4294967295,O=T+(S<<12&4294967295|S>>>20),S=I+(R^O&(T^R))+C[2]+606105819&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(T^I&(O^T))+C[3]+3250441966&4294967295,R=I+(S<<22&4294967295|S>>>10),S=T+(O^R&(I^O))+C[4]+4118548399&4294967295,T=R+(S<<7&4294967295|S>>>25),S=O+(I^T&(R^I))+C[5]+1200080426&4294967295,O=T+(S<<12&4294967295|S>>>20),S=I+(R^O&(T^R))+C[6]+2821735955&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(T^I&(O^T))+C[7]+4249261313&4294967295,R=I+(S<<22&4294967295|S>>>10),S=T+(O^R&(I^O))+C[8]+1770035416&4294967295,T=R+(S<<7&4294967295|S>>>25),S=O+(I^T&(R^I))+C[9]+2336552879&4294967295,O=T+(S<<12&4294967295|S>>>20),S=I+(R^O&(T^R))+C[10]+4294925233&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(T^I&(O^T))+C[11]+2304563134&4294967295,R=I+(S<<22&4294967295|S>>>10),S=T+(O^R&(I^O))+C[12]+1804603682&4294967295,T=R+(S<<7&4294967295|S>>>25),S=O+(I^T&(R^I))+C[13]+4254626195&4294967295,O=T+(S<<12&4294967295|S>>>20),S=I+(R^O&(T^R))+C[14]+2792965006&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(T^I&(O^T))+C[15]+1236535329&4294967295,R=I+(S<<22&4294967295|S>>>10),S=T+(I^O&(R^I))+C[1]+4129170786&4294967295,T=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(T^R))+C[6]+3225465664&4294967295,O=T+(S<<9&4294967295|S>>>23),S=I+(T^R&(O^T))+C[11]+643717713&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^T&(I^O))+C[0]+3921069994&4294967295,R=I+(S<<20&4294967295|S>>>12),S=T+(I^O&(R^I))+C[5]+3593408605&4294967295,T=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(T^R))+C[10]+38016083&4294967295,O=T+(S<<9&4294967295|S>>>23),S=I+(T^R&(O^T))+C[15]+3634488961&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^T&(I^O))+C[4]+3889429448&4294967295,R=I+(S<<20&4294967295|S>>>12),S=T+(I^O&(R^I))+C[9]+568446438&4294967295,T=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(T^R))+C[14]+3275163606&4294967295,O=T+(S<<9&4294967295|S>>>23),S=I+(T^R&(O^T))+C[3]+4107603335&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^T&(I^O))+C[8]+1163531501&4294967295,R=I+(S<<20&4294967295|S>>>12),S=T+(I^O&(R^I))+C[13]+2850285829&4294967295,T=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(T^R))+C[2]+4243563512&4294967295,O=T+(S<<9&4294967295|S>>>23),S=I+(T^R&(O^T))+C[7]+1735328473&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^T&(I^O))+C[12]+2368359562&4294967295,R=I+(S<<20&4294967295|S>>>12),S=T+(R^I^O)+C[5]+4294588738&4294967295,T=R+(S<<4&4294967295|S>>>28),S=O+(T^R^I)+C[8]+2272392833&4294967295,O=T+(S<<11&4294967295|S>>>21),S=I+(O^T^R)+C[11]+1839030562&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^T)+C[14]+4259657740&4294967295,R=I+(S<<23&4294967295|S>>>9),S=T+(R^I^O)+C[1]+2763975236&4294967295,T=R+(S<<4&4294967295|S>>>28),S=O+(T^R^I)+C[4]+1272893353&4294967295,O=T+(S<<11&4294967295|S>>>21),S=I+(O^T^R)+C[7]+4139469664&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^T)+C[10]+3200236656&4294967295,R=I+(S<<23&4294967295|S>>>9),S=T+(R^I^O)+C[13]+681279174&4294967295,T=R+(S<<4&4294967295|S>>>28),S=O+(T^R^I)+C[0]+3936430074&4294967295,O=T+(S<<11&4294967295|S>>>21),S=I+(O^T^R)+C[3]+3572445317&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^T)+C[6]+76029189&4294967295,R=I+(S<<23&4294967295|S>>>9),S=T+(R^I^O)+C[9]+3654602809&4294967295,T=R+(S<<4&4294967295|S>>>28),S=O+(T^R^I)+C[12]+3873151461&4294967295,O=T+(S<<11&4294967295|S>>>21),S=I+(O^T^R)+C[15]+530742520&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^T)+C[2]+3299628645&4294967295,R=I+(S<<23&4294967295|S>>>9),S=T+(I^(R|~O))+C[0]+4096336452&4294967295,T=R+(S<<6&4294967295|S>>>26),S=O+(R^(T|~I))+C[7]+1126891415&4294967295,O=T+(S<<10&4294967295|S>>>22),S=I+(T^(O|~R))+C[14]+2878612391&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~T))+C[5]+4237533241&4294967295,R=I+(S<<21&4294967295|S>>>11),S=T+(I^(R|~O))+C[12]+1700485571&4294967295,T=R+(S<<6&4294967295|S>>>26),S=O+(R^(T|~I))+C[3]+2399980690&4294967295,O=T+(S<<10&4294967295|S>>>22),S=I+(T^(O|~R))+C[10]+4293915773&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~T))+C[1]+2240044497&4294967295,R=I+(S<<21&4294967295|S>>>11),S=T+(I^(R|~O))+C[8]+1873313359&4294967295,T=R+(S<<6&4294967295|S>>>26),S=O+(R^(T|~I))+C[15]+4264355552&4294967295,O=T+(S<<10&4294967295|S>>>22),S=I+(T^(O|~R))+C[6]+2734768916&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~T))+C[13]+1309151649&4294967295,R=I+(S<<21&4294967295|S>>>11),S=T+(I^(R|~O))+C[4]+4149444226&4294967295,T=R+(S<<6&4294967295|S>>>26),S=O+(R^(T|~I))+C[11]+3174756917&4294967295,O=T+(S<<10&4294967295|S>>>22),S=I+(T^(O|~R))+C[2]+718787259&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~T))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+T&4294967295,M.g[1]=M.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,M.g[2]=M.g[2]+I&4294967295,M.g[3]=M.g[3]+O&4294967295}s.prototype.v=function(M,T){T===void 0&&(T=M.length);const R=T-this.blockSize,C=this.C;let I=this.h,O=0;for(;O<T;){if(I==0)for(;O<=R;)o(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<T;)if(C[I++]=M.charCodeAt(O++),I==this.blockSize){o(this,C),I=0;break}}else for(;O<T;)if(C[I++]=M[O++],I==this.blockSize){o(this,C),I=0;break}}this.h=I,this.o+=T},s.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var T=1;T<M.length-8;++T)M[T]=0;T=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=T&255,T/=256;for(this.v(M),M=Array(16),T=0,R=0;R<4;++R)for(let C=0;C<32;C+=8)M[T++]=this.g[R]>>>C&255;return M};function h(M,T){var R=y;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=T(M)}function d(M,T){this.h=T;const R=[];let C=!0;for(let I=M.length-1;I>=0;I--){const O=M[I]|0;C&&O==T||(R[I]=O,C=!1)}this.g=R}var y={};function E(M){return-128<=M&&M<128?h(M,function(T){return new d([T|0],T<0?-1:0)}):new d([M|0],M<0?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return w;if(M<0)return K(_(-M));const T=[];let R=1;for(let C=0;M>=R;C++)T[C]=M/R|0,R*=4294967296;return new d(T,0)}function A(M,T){if(M.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(M.charAt(0)=="-")return K(A(M.substring(1),T));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(T,8));let C=w;for(let O=0;O<M.length;O+=8){var I=Math.min(8,M.length-O);const S=parseInt(M.substring(O,O+I),T);I<8?(I=_(Math.pow(T,I)),C=C.j(I).add(_(S))):(C=C.j(R),C=C.add(_(S)))}return C}var w=E(0),N=E(1),q=E(16777216);r=d.prototype,r.m=function(){if(z(this))return-K(this).m();let M=0,T=1;for(let R=0;R<this.g.length;R++){const C=this.i(R);M+=(C>=0?C:4294967296+C)*T,T*=4294967296}return M},r.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(G(this))return"0";if(z(this))return"-"+K(this).toString(M);const T=_(Math.pow(M,6));var R=this;let C="";for(;;){const I=Et(R,T).g;R=it(R,I.j(T));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=I,G(R))return O+C;for(;O.length<6;)O="0"+O;C=O+C}},r.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function G(M){if(M.h!=0)return!1;for(let T=0;T<M.g.length;T++)if(M.g[T]!=0)return!1;return!0}function z(M){return M.h==-1}r.l=function(M){return M=it(this,M),z(M)?-1:G(M)?0:1};function K(M){const T=M.g.length,R=[];for(let C=0;C<T;C++)R[C]=~M.g[C];return new d(R,~M.h).add(N)}r.abs=function(){return z(this)?K(this):this},r.add=function(M){const T=Math.max(this.g.length,M.g.length),R=[];let C=0;for(let I=0;I<=T;I++){let O=C+(this.i(I)&65535)+(M.i(I)&65535),S=(O>>>16)+(this.i(I)>>>16)+(M.i(I)>>>16);C=S>>>16,O&=65535,S&=65535,R[I]=S<<16|O}return new d(R,R[R.length-1]&-2147483648?-1:0)};function it(M,T){return M.add(K(T))}r.j=function(M){if(G(this)||G(M))return w;if(z(this))return z(M)?K(this).j(K(M)):K(K(this).j(M));if(z(M))return K(this.j(K(M)));if(this.l(q)<0&&M.l(q)<0)return _(this.m()*M.m());const T=this.g.length+M.g.length,R=[];for(var C=0;C<2*T;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(let I=0;I<M.g.length;I++){const O=this.i(C)>>>16,S=this.i(C)&65535,_t=M.i(I)>>>16,Qt=M.i(I)&65535;R[2*C+2*I]+=S*Qt,lt(R,2*C+2*I),R[2*C+2*I+1]+=O*Qt,lt(R,2*C+2*I+1),R[2*C+2*I+1]+=S*_t,lt(R,2*C+2*I+1),R[2*C+2*I+2]+=O*_t,lt(R,2*C+2*I+2)}for(M=0;M<T;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=T;M<2*T;M++)R[M]=0;return new d(R,0)};function lt(M,T){for(;(M[T]&65535)!=M[T];)M[T+1]+=M[T]>>>16,M[T]&=65535,T++}function rt(M,T){this.g=M,this.h=T}function Et(M,T){if(G(T))throw Error("division by zero");if(G(M))return new rt(w,w);if(z(M))return T=Et(K(M),T),new rt(K(T.g),K(T.h));if(z(T))return T=Et(M,K(T)),new rt(K(T.g),T.h);if(M.g.length>30){if(z(M)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var R=N,C=T;C.l(M)<=0;)R=Vt(R),C=Vt(C);var I=xt(R,1),O=xt(C,1);for(C=xt(C,2),R=xt(R,2);!G(C);){var S=O.add(C);S.l(M)<=0&&(I=I.add(R),O=S),C=xt(C,1),R=xt(R,1)}return T=it(M,I.j(T)),new rt(I,T)}for(I=w;M.l(T)>=0;){for(R=Math.max(1,Math.floor(M.m()/T.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),O=_(R),S=O.j(T);z(S)||S.l(M)>0;)R-=C,O=_(R),S=O.j(T);G(O)&&(O=N),I=I.add(O),M=it(M,S)}return new rt(I,M)}r.B=function(M){return Et(this,M).h},r.and=function(M){const T=Math.max(this.g.length,M.g.length),R=[];for(let C=0;C<T;C++)R[C]=this.i(C)&M.i(C);return new d(R,this.h&M.h)},r.or=function(M){const T=Math.max(this.g.length,M.g.length),R=[];for(let C=0;C<T;C++)R[C]=this.i(C)|M.i(C);return new d(R,this.h|M.h)},r.xor=function(M){const T=Math.max(this.g.length,M.g.length),R=[];for(let C=0;C<T;C++)R[C]=this.i(C)^M.i(C);return new d(R,this.h^M.h)};function Vt(M){const T=M.g.length+1,R=[];for(let C=0;C<T;C++)R[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(R,M.h)}function xt(M,T){const R=T>>5;T%=32;const C=M.g.length-R,I=[];for(let O=0;O<C;O++)I[O]=T>0?M.i(O+R)>>>T|M.i(O+R+1)<<32-T:M.i(O+R);return new d(I,M.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Da=d}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ov,Bl,uv,Fu,$f,cv,hv,fv;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var x=0;x<u.length-1;x++){var U=u[x];if(!(U in v))break t;v=v[U]}u=u[u.length-1],x=v[u],m=m(x),m!=x&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&v.push([x,m[x]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=E,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(x,U,H){for(var nt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)nt[Nt-2]=arguments[Nt];return m.prototype[U].apply(x,nt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let x=0;x<m;x++)v[x]=u[x];return v}return[]}function G(u,m){for(let x=1;x<arguments.length;x++){const U=arguments[x];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let nt=0;nt<H;nt++)u[v+nt]=U[nt]}else u.push(U)}}class z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){d.setTimeout(()=>{throw u},0)}function it(){var u=M;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,v){const x=rt.get();x.set(m,v),this.h?this.h.next=x:this.g=x,this.h=x}}var rt=new z(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,xt=!1,M=new lt,T=()=>{const u=Promise.resolve(void 0);Vt=()=>{u.then(R)}};function R(){for(var u;u=it();){try{u.h.call(u.g)}catch(v){K(v)}var m=rt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function _t(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(_t,I),_t.prototype.init=function(u,m){const v=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&_t.Z.h.call(this)},_t.prototype.h=function(){_t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(u,m,v,x,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!x,this.ha=U,this.key=++Q,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tt(u,m,v){for(const x in u)m.call(v,u[x],x,u)}function bt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,x;for(let U=1;U<arguments.length;U++){x=arguments[U];for(v in x)u[v]=x[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(x,v)&&(u[v]=x[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,x,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const nt=pt(u,m,x,U);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new at(m,this.src,H,!!x,U),m.fa=v,u.push(m)),m};function ft(u,m){const v=m.type;if(v in u.g){var x=u.g[v],U=Array.prototype.indexOf.call(x,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(x,U,1),H&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function pt(u,m,v,x){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==x)return U}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),ie={};function Yt(u,m,v,x,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Yt(u,m[H],v,x,U);return null}return v=Or(v),u&&u[Qt]?u.J(m,v,y(x)?!!x.capture:!1,U):Xn(u,m,v,!1,x,U)}function Xn(u,m,v,x,U,H){if(!m)throw Error("Invalid event type");const nt=y(U)?!!U.capture:!!U;let Nt=Ba(u);if(Nt||(u[Ct]=Nt=new st(u)),v=Nt.add(m,v,x,nt,H),v.proxy)return v;if(x=Ss(),v.proxy=x,x.src=u,x.listener=v,u.addEventListener)O||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),x,U);else if(u.attachEvent)u.attachEvent($n(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ss(){function u(v){return m.call(u.src,u.listener,v)}const m=Vr;return u}function Ns(u,m,v,x,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ns(u,m[H],v,x,U);else x=y(x)?!!x.capture:!!x,v=Or(v),u&&u[Qt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=pt(m,v,x,U),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ba(u))&&(m=u.g[m.toString()],u=-1,m&&(u=pt(m,v,x,U)),(v=u>-1?m[u]:null)&&ws(v))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])ft(m.i,u);else{var v=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(v,x,u.capture):m.detachEvent?m.detachEvent($n(v),x):m.addListener&&m.removeListener&&m.removeListener(x),(v=Ba(m))?(ft(v,u),v.h==0&&(v.src=null,m[Ct]=null)):dt(u)}}}function $n(u){return u in ie?ie[u]:ie[u]="on"+u}function Vr(u,m){if(u.da)u=!0;else{m=new _t(m,this);const v=u.listener,x=u.ha||u.src;u.fa&&ws(u),u=v.call(x,m)}return u}function Ba(u){return u=u[Ct],u instanceof st?u:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(u){return typeof u=="function"?u:(u[jr]||(u[jr]=function(m){return u.handleEvent(m)}),u[jr])}function Ee(){C.call(this),this.i=new st(this),this.M=this,this.G=null}w(Ee,C),Ee.prototype[Qt]=!0,Ee.prototype.removeEventListener=function(u,m,v,x){Ns(this,u,m,v,x)};function De(u,m){var v,x=u.G;if(x)for(v=[];x;x=x.G)v.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var U=m;m=new I(x,u),et(m,U)}U=!0;let H,nt;if(v)for(nt=v.length-1;nt>=0;nt--)H=m.g=v[nt],U=Xi(H,x,!0,m)&&U;if(H=m.g=u,U=Xi(H,x,!0,m)&&U,U=Xi(H,x,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)H=m.g=v[nt],U=Xi(H,x,!1,m)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let x=0;x<v.length;x++)dt(v[x]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,x){return this.i.add(String(u),m,!1,v,x)},Ee.prototype.K=function(u,m,v,x){return this.i.add(String(u),m,!0,v,x)};function Xi(u,m,v,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const nt=m[H];if(nt&&!nt.da&&nt.capture==v){const Nt=nt.listener,me=nt.ha||nt.src;nt.fa&&ft(u.i,nt),U=Nt.call(me,x)!==!1&&U}}return U&&!x.defaultPrevented}function Cc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function co(u){u.g=Cc(()=>{u.g=null,u.i&&(u.i=!1,co(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends C{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(u){C.call(this),this.h=u,this.g={}}w(Pa,C);var zr=[];function Lr(u){tt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ws(m)},u),u.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),Lr(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=d.JSON.stringify,Mc=d.JSON.parse,ho=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fo(){}function mo(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){I.call(this,"d")}w(Be,I);function En(){I.call(this,"c")}w(En,I);var de={},go=null;function Rs(){return go=go||new Ee}de.Ia="serverreachability";function po(u){I.call(this,de.Ia,u)}w(po,I);function Zn(u){const m=Rs();De(m,new po(m))}de.STAT_EVENT="statevent";function qa(u,m){I.call(this,de.STAT_EVENT,u),this.stat=m}w(qa,I);function be(u){const m=Rs();De(m,new qa(m,u))}de.Ja="timingevent";function Jn(u,m){I.call(this,de.Ja,u),this.size=m}w(Jn,I);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Dc(u,m,v,x,U,H){u.info(function(){if(u.g)if(H){var nt="",Nt=H.split("&");for(let Gt=0;Gt<Nt.length;Gt++){var me=Nt[Gt].split("=");if(me.length>1){const oe=me[0];me=me[1];const An=oe.split("_");nt=An.length>=2&&An[1]=="type"?nt+(oe+"="+me+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=H;return"XMLHTTP REQ ("+x+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function yo(u,m,v,x,U,H,nt){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+nt})}function ti(u,m,v,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ic(u,v)+(x?" "+x:"")})}function Ha(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Ic(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var x=v[1];if(Array.isArray(x)&&!(x.length<1)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<x.length;nt++)x[nt]=""}}}}return $i(H)}catch{return m}}var Ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ur={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kr;function Fa(){}w(Fa,fo),Fa.prototype.g=function(){return new XMLHttpRequest},kr=new Fa;function Ni(u){return encodeURIComponent(String(u))}function vo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Un(u,m,v,x){this.j=u,this.i=m,this.l=v,this.S=x||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var Te={},ze={};function ei(u,m,v){u.M=1,u.A=Qa(Ae(m)),u.u=v,u.R=!0,Cs(u,null)}function Cs(u,m){u.F=Date.now(),ni(u),u.B=Ae(u.A);var v=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Vs(v.i,"t",x),u.C=0,v=u.j.L,u.h=new kn,u.g=Vo(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,x=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(zr[0]=U.toString()),U=zr);for(let H=0;H<U.length;H++){const nt=Yt(v,U[H],x||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),Dc(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=qn(this.g),me=this.g.ya(),Gt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Nt!=4||me==7||(me==8||Gt<=0?Zn(3):Zn(2)),ii(this);var m=this.g.ca();this.X=m;var v=Vc(this);if(this.o=m==200,yo(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(x)){var H=x;break e}}H=null}if(u=H)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,be(12),hn(this),bn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Eo(this,v),oe==ze){Nt==4&&(this.m=4,be(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,be(15),ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,oe,null),ai(this,oe);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(nt),nt.P=!0,be(11))}}else ti(this.i,this.l,v,null),ai(this,v);Nt==4&&hn(this),this.o&&!this.K&&(Nt==4?Co(this.j,this):(this.o=!1,ni(this)))}else Ri(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),hn(this),bn(this)}}}catch{}finally{}};function Vc(u){if(!_o(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let v="";const x=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<x;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==x-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function _o(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eo(u,m){var v=u.C,x=m.indexOf(`
`,v);return x==-1?ze:(v=Number(m.substring(v,x)),isNaN(v)?Te:(x+=1,x+v>m.length?ze:(m=m.slice(x,x+v),u.C=x+v,m)))}Un.prototype.cancel=function(){this.K=!0,hn(this)};function ni(u){u.T=Date.now()+u.H,Ms(u,u.H)}function Ms(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(_(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ha(this.i,this.B),this.M!=2&&(Zn(),be(17)),hn(this),this.m=2,bn(this)):Ms(this,this.T-u)};function bn(u){u.j.I==0||u.K||Co(u.j,u)}function hn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Lr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ri(v.h,u))){if(!u.L&&ri(v.h,u)&&v.I==3){try{var x=v.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var U=x;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Us(v),aa(v);else break t;Wa(v),be(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Wn(_(v.Va,v),6e3));si(v.h)<=1&&v.ta&&(v.ta=void 0)}else fi(v,11)}else if((u.L||v.g==u)&&Us(v),!S(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const An=Gt[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const di=Gt[4];di!=null&&(v.za=di,v.j.info("SVER="+v.za));const Hn=Gt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(x=1.5*Hn,v.O=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const Gn=u.g;if(Gn){const ts=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ts){var H=x.h;H.g||ts.indexOf("spdy")==-1&&ts.indexOf("quic")==-1&&ts.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(qr(H,H.h),H.h=null))}if(x.G){const ks=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(x.wa=ks,Xt(x.J,x.G,ks))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),x=v;var nt=u;if(x.na=Io(x,x.L?x.ba:null,x.W),nt.L){Hr(x.h,nt);var Nt=nt,me=x.O;me&&(Nt.H=me),Nt.D&&(ii(Nt),ni(Nt)),x.g=nt}else wo(x);v.i.length>0&&hi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||fi(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?fi(v,7):Jr(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}Zn(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function Br(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qr(u,m){u.g?u.g.add(m):u.h=m}function Hr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Br.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const x=u[v].indexOf("=");let U,H=null;x>=0?(U=u[v].substring(0,x),H=u[v].substring(x+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,Fr(this,So(u.i)),this.m=u.m):u&&(m=String(u).match(bo))?(this.l=!1,Le(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),Zi(this,m[4]),this.h=li(m[5]||"",!0),Fr(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new Wi(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ya(m,Is,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ya(m,Is,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ya(v,v.charAt(0)=="/"?Qr:To,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ya(v,xo)),u.join("")},fn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var x=u.h;if(v)Zi(m,u.u);else if(v=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var U=m.h.lastIndexOf("/");U!=-1&&(x=m.h.slice(0,U+1)+x)}if(U=x,U==".."||U==".")x="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){x=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let nt=0;nt<U.length;){const Nt=U[nt++];Nt=="."?x&&nt==U.length&&H.push(""):Nt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),x&&nt==U.length&&H.push("")):(H.push(Nt),x=!0)}x=H.join("/")}else x=U}return v?m.h=x:v=u.i.toString()!=="",v?Fr(m,So(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new fn(u)}function Le(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Fr(u,m,v){m instanceof Wi?(u.i=m,js(u.i,u.l)):(v||(m=Ya(m,Ji)),u.i=new Wi(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function Qa(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ya(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Is=/[#\/\?@]/g,To=/[#\?:]/g,Qr=/[#\?]/g,Ji=/[#\?@]/g,xo=/#/g;function Wi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&Ds(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Wi.prototype,r.add=function(u,m){an(this),this.i=null,u=ta(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ao(u,m){an(u),m=ta(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Yr(u,m){return an(u),m=ta(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,x){v.forEach(function(U){u.call(m,U,x,this)},this)},this)};function Kr(u,m){an(u);let v=[];if(typeof m=="string")Yr(u,m)&&(v=v.concat(u.g.get(ta(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ta(this,u),Yr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Kr(this,u),u.length>0?String(u[0]):m):m};function Vs(u,m,v){Ao(u,m),v.length>0&&(u.i=null,u.g.set(ta(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var v=m[x];const U=Ni(v);v=Kr(this,v);for(let H=0;H<v.length;H++){let nt=U;v[H]!==""&&(nt+="="+Ni(v[H])),u.push(nt)}}return this.i=u.join("&")};function So(u){const m=new Wi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ta(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function js(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,x){const U=x.toLowerCase();x!=U&&(Ao(this,x),Vs(this,U,v))},u)),u.j=m}function Bn(u,m){const v=new Ln;if(d.Image){const x=new Image;x.onload=A(Tn,v,"TestLoadImage: loaded",!0,m,x),x.onerror=A(Tn,v,"TestLoadImage: error",!1,m,x),x.onabort=A(Tn,v,"TestLoadImage: abort",!1,m,x),x.ontimeout=A(Tn,v,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function Xr(u,m){const v=new Ln,x=new AbortController,U=setTimeout(()=>{x.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(H=>{clearTimeout(U),H.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,x,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),x(v)}catch{}}function ea(){this.g=new ho}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(oi,fo),oi.prototype.g=function(){return new Ka(this.i,this.h)};function Ka(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ka,Ee),r=Ka.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Pn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Os(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Os(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?na(this):Pn(this),this.readyState==3&&Os(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,na(this))},r.Na=function(u){this.g&&(this.response=u,na(this))},r.ga=function(){this.g&&na(this)};function na(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Pn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Pn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return tt(u,function(v,x){m+=x,m+=":",m+=v,m+=`\r
`}),m}function Xa(u,m,v){t:{for(x in v){var x=!1;break t}x=!0}x||(v=xn(v),typeof u=="string"?v!=null&&Ni(v):Xt(u,m,v))}function Jt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,Ee);var ui=/^https?$/i,$r=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kr.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){$a(this,H);return}if(u=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var U in x)v.set(U,x[U]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const H of x.keys())v.set(H,x.get(H));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($r,m,void 0)>=0)||x||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of v)this.g.setRequestHeader(H,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){$a(this,H)}};function $a(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zr(u),wi(u)}function Zr(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Za(this):this.Xa())},r.Xa=function(){Za(this)};function Za(u){if(u.h&&typeof h<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),qn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var x;if(x=H===0){let nt=String(u.D).match(bo)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),x=!ui.test(nt?nt.toLowerCase():"")}v=x}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Zr(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mc(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(S(u[x]))continue;var v=vo(u[x]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}bt(m,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ia(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Br(u&&u.concurrentRequestLimit),this.Ba=new ea,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ia.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,x){be(0),this.W=u,this.H=m||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.J=Io(this,null,this.W),hi(this)};function Jr(u){if(zs(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),Ja(u,v),m=new Un(u,u.j,m),m.M=2,m.A=Qa(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}Do(u)}function aa(u){u.g&&(tl(u),u.g.cancel(),u.g=null)}function zs(u){aa(u),u.v&&(d.clearTimeout(u.v),u.v=null),Us(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!Pr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Vt||T(),xt||(Vt(),xt=!0),M.add(m,u),u.D=0}}function Ls(u,m){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(_(u.Ea,u,m),Mo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Un(this,this.j,u);let H=this.o;if(this.U&&(H?(H=V(H),et(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=No(this,U,m),v=Ae(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),Ja(this,v),H&&(this.R?m="headers="+Ni(xn(H))+"&"+m:this.u&&Xa(v,this.u,H)),qr(this.h,U),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),U.U=!0,ei(U,v,null)):ei(U,v,m),this.I=2}}else this.I==3&&(u?Wr(this,u):this.i.length==0||Pr(this.h)||Wr(this))};function Wr(u,m){var v;m?v=m.l:v=u.V++;const x=Ae(u.J);Xt(x,"SID",u.M),Xt(x,"RID",v),Xt(x,"AID",u.K),Ja(u,x),u.u&&u.o&&Xa(x,u.u,u.o),v=new Un(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=No(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qr(u.h,v),ei(v,x,m)}function Ja(u,m){u.H&&tt(u.H,function(v,x){Xt(m,x,v)}),u.l&&tt({},function(v,x){Xt(m,x,v)})}function No(u,m,v){v=Math.min(u.i.length,v);const x=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Nt=-1;for(;;){const me=["count="+v];Nt==-1?v>0?(Nt=U[0].g,me.push("ofs="+Nt)):Nt=0:me.push("ofs="+Nt);let Gt=!0;for(let oe=0;oe<v;oe++){var H=U[oe].g;const An=U[oe].map;if(H-=Nt,H<0)Nt=Math.max(0,U[oe].g-100),Gt=!1;else try{H="req"+H+"_"||"";try{var nt=An instanceof Map?An:Object.entries(An);for(const[di,Hn]of nt){let Gn=Hn;y(Hn)&&(Gn=$i(Hn)),me.push(H+di+"="+encodeURIComponent(Gn))}}catch(di){throw me.push(H+"type="+encodeURIComponent("_badmap")),di}}catch{x&&x(An)}}if(Gt){nt=me.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function wo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Vt||T(),xt||(Vt(),xt=!0),M.add(m,u),u.A=0}}function Wa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(_(u.Da,u),Mo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Ro(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),aa(this),Ro(this))};function tl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ro(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),Ja(u,m),u.u&&u.o&&Xa(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Qa(Ae(m)),v.u=null,v.R=!0,Cs(v,u)}r.Va=function(){this.C!=null&&(this.C=null,aa(this),Wa(this),be(19))};function Us(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Co(u,m){var v=null;if(u.g==m){Us(u),tl(u),u.g=null;var x=2}else if(ri(u.h,m))v=m.G,Hr(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;x=Rs(),De(x,new Jn(x,v)),hi(u)}else wo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(x==1&&Ls(u,m)||x==2&&Wa(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function Mo(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),x=u.Ua;const U=!x;x=new fn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(x,"https"),Qa(x),U?Bn(x.toString(),v):Xr(x.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Do(u),zs(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Do(u){if(u.I=0,u.ja=[],u.l){const m=Gr(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Io(u,m,v){var x=v instanceof fn?Ae(v):new fn(v);if(x.g!="")m&&(x.g=m+"."+x.g),Zi(x,x.u);else{var U=d.location;x=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new fn(null);x&&Le(H,x),m&&(H.g=m),U&&Zi(H,U),v&&(H.h=v),x=H}return v=u.G,m=u.wa,v&&m&&Xt(x,v,m),Xt(x,"VER",u.ka),Ja(u,x),x}function Vo(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new oi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}r=jo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function sa(){}sa.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ee.call(this),this.g=new ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ci(this)}w(tn,Ee),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Jr(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=$i(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&hi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Jr(this.g),delete this.g,tn.Z.N.call(this)};function Oo(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Oo,Be);function zo(){En.call(this),this.status=1}w(zo,En);function Ci(u){this.g=u}w(Ci,jo),Ci.prototype.ra=function(){De(this.g,"a")},Ci.prototype.qa=function(u){De(this.g,new Oo(u))},Ci.prototype.pa=function(u){De(this.g,new zo)},Ci.prototype.oa=function(){De(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,fv=function(){return new sa},hv=function(){return Rs()},cv=de,$f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,Fu=Ga,Ur.COMPLETE="complete",uv=Ur,mo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Bl=mo,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,ov=Jt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const qy="@firebase/firestore",Hy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new ev("@firebase/firestore");function gr(){return _s.logLevel}function ot(r,...e){if(_s.logLevel<=Pt.DEBUG){const i=e.map(yd);_s.debug(`Firestore (${Cr}): ${r}`,...i)}}function Yi(r,...e){if(_s.logLevel<=Pt.ERROR){const i=e.map(yd);_s.error(`Firestore (${Cr}): ${r}`,...i)}}function Tr(r,...e){if(_s.logLevel<=Pt.WARN){const i=e.map(yd);_s.warn(`Firestore (${Cr}): ${r}`,...i)}}function yd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,dv(r,s,i)}function dv(r,e,i){let s=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Yi(s),new Error(s)}function Kt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||dv(e,o,s)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Rr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class _x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ex{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kt(this.o===void 0,42304);let s=this.i;const o=E=>this.i!==s?(s=this.i,i(E)):Promise.resolve();let h=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Fi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const E=h;e.enqueueRetryable((async()=>{await E.promise,await o(this.currentUser)}))},y=E=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((E=>y(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Fi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new mv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class bx{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tx{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new bx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ex(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Kt(this.o===void 0,3512);const s=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ax(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function zt(r,e){return r<e?-1:r>e?1:0}function Zf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return Uf(o)===Uf(h)?zt(o,h):Uf(o)?1:-1}return zt(r.length,e.length)}const Sx=55296,Nx=57343;function Uf(r){const e=r.charCodeAt(0);return e>=Sx&&e<=Nx}function xr(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="__name__";class vi{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=vi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return zt(e.length,i.length)}static compareSegments(e,i){const s=vi.isNumericId(e),o=vi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(e).compare(vi.extractNumericId(i)):Zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class re extends vi{construct(e,i,s){return new re(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const wx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends vi{construct(e,i,s){return new Ye(e,i,s)}static isValidIdentifier(e){return wx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fy}static keyField(){return new Ye([Fy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ht(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new ht(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=E,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(h(),o++)}if(h(),d)throw new ht(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(re.fromString(e))}static fromName(e){return new gt(re.fromString(e).popFirst(5))}static empty(){return new gt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r,e,i){if(!i)throw new ht(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Rx(r,e,i,s){if(e===!0&&s===!0)throw new ht(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Qy(r){if(!gt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yy(r){if(gt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _d(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Va(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_d(r);throw new ht(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,e){const i={typeString:r};return e&&(i.value=e),i}function ao(r,e){if(!pv(r))throw new ht(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ht(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-62135596800,Xy=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(e){return le.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Xy);return new le(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ky)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xy}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ao(e,le._jsonSchema))return new le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Me("string",le._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new le(0,0))}static max(){return new Tt(new le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function Cx(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new le(i+1,0):new le(i,s));return new ja(o,gt.empty(),e)}function Mx(r){return new ja(r.readTime,r.key,Jl)}class ja{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ja(Tt.min(),gt.empty(),Jl)}static max(){return new ja(Tt.max(),gt.empty(),Jl)}}function Dx(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:zt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mr(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==Ix)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,s)=>{i(e)}))}static reject(e){return new J(((i,s)=>{s(e)}))}static waitFor(e){return new J(((i,s)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(E=>s(E)))})),d=!0,h===o&&i()}))}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next((o=>o?J.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new J(((s,o)=>{const h=e.length,d=new Array(h);let y=0;for(let E=0;E<h;E++){const _=E;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new J(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function jx(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Dr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function pc(r){return r==null}function ec(r){return r===0&&1/r==-1/0}function Ox(r){return typeof r=="number"&&Number.isInteger(r)&&!ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="";function zx(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=$y(e)),e=Lx(r.get(i),e);return $y(e)}function Lx(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case yv:i+="";break;default:i+=h}}return i}function $y(r){return r+yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function bs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function vv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Qe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Jy(this.data.getIterator())}getIteratorFrom(e){return new Jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class Jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Kn([])}unionWith(e){let i=new Oe(Ye.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return xr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new _v("Invalid base64 string: "+h):h}})(e);return new Ke(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(Kt(!!r,39018),typeof r=="string"){let e=0;const i=Ux.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function za(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="server_timestamp",bv="__type__",Tv="__previous_value__",xv="__local_write_time__";function bd(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[bv])==null?void 0:s.stringValue)===Ev}function yc(r){const e=r.mapValue.fields[Tv];return bd(e)?yc(e):e}function Wl(r){const e=Oa(r.mapValue.fields[xv].timestampValue);return new le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,i,s,o,h,d,y,E,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=E,this.useFetchStreams=_,this.isUsingEmulator=A}}const nc="(default)";class to{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__type__",Bx="__max__",qu={mapValue:{}},Sv="__vector__",ic="value";function La(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bd(r)?4:qx(r)?9007199254740991:Px(r)?10:11:vt(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const i=La(r);if(i!==La(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Oa(o.timestampValue),y=Oa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return za(o.bytesValue).isEqual(za(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ve(o.geoPointValue.latitude)===ve(h.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ve(o.integerValue)===ve(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ve(o.doubleValue),y=ve(h.doubleValue);return d===y?ec(d)===ec(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return xr(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Zy(d)!==Zy(y))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(y[E]===void 0||!Ai(d[E],y[E])))return!1;return!0})(r,e);default:return vt(52216,{left:r})}}function eo(r,e){return(r.values||[]).find((i=>Ai(i,e)))!==void 0}function Ar(r,e){if(r===e)return 0;const i=La(r),s=La(e);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=ve(h.integerValue||h.doubleValue),E=ve(d.integerValue||d.doubleValue);return y<E?-1:y>E?1:y===E?0:isNaN(y)?isNaN(E)?0:-1:1})(r,e);case 3:return Wy(r.timestampValue,e.timestampValue);case 4:return Wy(Wl(r),Wl(e));case 5:return Zf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=za(h),E=za(d);return y.compareTo(E)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),E=d.split("/");for(let _=0;_<y.length&&_<E.length;_++){const A=zt(y[_],E[_]);if(A!==0)return A}return zt(y.length,E.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=zt(ve(h.latitude),ve(d.latitude));return y!==0?y:zt(ve(h.longitude),ve(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return t0(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var N,q,G,z;const y=h.fields||{},E=d.fields||{},_=(N=y[ic])==null?void 0:N.arrayValue,A=(q=E[ic])==null?void 0:q.arrayValue,w=zt(((G=_==null?void 0:_.values)==null?void 0:G.length)||0,((z=A==null?void 0:A.values)==null?void 0:z.length)||0);return w!==0?w:t0(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const y=h.fields||{},E=Object.keys(y),_=d.fields||{},A=Object.keys(_);E.sort(),A.sort();for(let w=0;w<E.length&&w<A.length;++w){const N=Zf(E[w],A[w]);if(N!==0)return N;const q=Ar(y[E[w]],_[A[w]]);if(q!==0)return q}return zt(E.length,A.length)})(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function Wy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return zt(r,e);const i=Oa(r),s=Oa(e),o=zt(i.seconds,s.seconds);return o!==0?o:zt(i.nanos,s.nanos)}function t0(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Ar(i[o],s[o]);if(h)return h}return zt(i.length,s.length)}function Sr(r){return Jf(r)}function Jf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Oa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return za(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Jf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Jf(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function Qu(r){switch(La(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return za(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Qu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((h,d)=>{o+=h.length+Qu(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function Wf(r){return!!r&&"integerValue"in r}function Td(r){return!!r&&"arrayValue"in r}function e0(r){return!!r&&"nullValue"in r}function n0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yu(r){return!!r&&"mapValue"in r}function Px(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[Av])==null?void 0:s.stringValue)===Sv}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return bs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(r.arrayValue.values[i]);return e}return{...r}}function qx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Bx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Ye.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const E=this.getFieldsMap(i);this.applyChanges(E,s,o),s={},o=[],i=y.popLast()}d?s[y.lastSegment()]=Fl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){bs(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new jn(Fl(this.value))}}function Nv(r){const e=[];return bs(r.fields,((i,s)=>{const o=new Ye([i]);if(Yu(s)){const h=Nv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,s,o,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Je(e,0,Tt.min(),Tt.min(),Tt.min(),jn.empty(),0)}static newFoundDocument(e,i,s,o){return new Je(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Je(e,2,i,Tt.min(),Tt.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,Tt.min(),Tt.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.position=e,this.inclusive=i}}function i0(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Ar(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function a0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Hx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{}class Ve extends wv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Fx(e,i,s):i==="array-contains"?new Kx(e,s):i==="in"?new Xx(e,s):i==="not-in"?new $x(e,s):i==="array-contains-any"?new Zx(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Qx(e,s):new Yx(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ar(i,this.value)):i!==null&&La(this.value)===La(i)&&this.matchesComparison(Ar(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends wv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Si(e,i)}matches(e){return Rv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rv(r){return r.op==="and"}function Cv(r){return Gx(r)&&Rv(r)}function Gx(r){for(const e of r.filters)if(e instanceof Si)return!1;return!0}function td(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Sr(r.value);if(Cv(r))return r.filters.map((e=>td(e))).join(",");{const e=r.filters.map((i=>td(i))).join(",");return`${r.op}(${e})`}}function Mv(r,e){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)})(r,e):r instanceof Si?(function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,y)=>h&&Mv(d,o.filters[y])),!0):!1})(r,e):void vt(19439)}function Dv(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Sr(i.value)}`})(r):r instanceof Si?(function(i){return i.op.toString()+" {"+i.getFilters().map(Dv).join(" ,")+"}"})(r):"Filter"}class Fx extends Ve{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Qx extends Ve{constructor(e,i){super(e,"in",i),this.keys=Iv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Yx extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=Iv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Iv(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>gt.fromName(s.referenceValue)))}class Kx extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Td(i)&&eo(i.arrayValue,this.value)}}class Xx extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eo(this.value.arrayValue,i)}}class $x extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eo(this.value.arrayValue,i)}}class Zx extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Td(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>eo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,i=null,s=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function s0(r,e=null,i=[],s=[],o=null,h=null,d=null){return new Jx(r,e,i,s,o,h,d)}function xd(r){const e=St(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>td(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Sr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Sr(s))).join(",")),e.Te=i}return e.Te}function Ad(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Hx(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Mv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!a0(r.startAt,e.startAt)&&a0(r.endAt,e.endAt)}function ed(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i=null,s=[],o=[],h=null,d="F",y=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Wx(r,e,i,s,o,h,d,y){return new vc(r,e,i,s,o,h,d,y)}function Sd(r){return new vc(r)}function r0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tA(r){return r.collectionGroup!==null}function Ql(r){const e=St(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe(Ye.comparator);return d.filters.forEach((E=>{E.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new sc(h,s))})),i.has(Ye.keyField().canonicalString())||e.Ie.push(new sc(Ye.keyField(),s))}return e.Ie}function _i(r){const e=St(r);return e.Ee||(e.Ee=eA(e,Ql(r))),e.Ee}function eA(r,e){if(r.limitType==="F")return s0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new sc(o.field,h)}));const i=r.endAt?new ac(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ac(r.startAt.position,r.startAt.inclusive):null;return s0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function nd(r,e,i){return new vc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function _c(r,e){return Ad(_i(r),_i(e))&&r.limitType===e.limitType}function Vv(r){return`${xd(_i(r))}|lt:${r.limitType}`}function pr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Dv(o))).join(", ")}]`),pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Sr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Sr(o))).join(",")),`Target(${s})`})(_i(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of Ql(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,E){const _=i0(d,y,E);return d.inclusive?_<=0:_<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(d,y,E){const _=i0(d,y,E);return d.inclusive?_>=0:_>0})(s.endAt,Ql(s),o))})(r,e)}function nA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jv(r){return(e,i)=>{let s=!1;for(const o of Ql(r)){const h=iA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function iA(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):(function(h,d,y){const E=d.data.field(h),_=y.data.field(h);return E!==null&&_!==null?Ar(E,_):vt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new ce(gt.comparator);function Ki(){return aA}const Ov=new ce(gt.comparator);function Pl(...r){let e=Ov;for(const i of r)e=e.insert(i.key,i);return e}function zv(r){let e=Ov;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ys(){return Yl()}function Lv(){return Yl()}function Yl(){return new Ts((r=>r.toString()),((r,e)=>r.isEqual(e)))}const sA=new ce(gt.comparator),rA=new Oe(gt.comparator);function Lt(...r){let e=rA;for(const i of r)e=e.add(i);return e}const lA=new Oe(zt);function oA(){return lA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Uv(r){return{integerValue:""+r}}function uA(r,e){return Ox(e)?Uv(e):Nd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function cA(r,e,i){return r instanceof rc?(function(o,h){const d={fields:{[bv]:{stringValue:Ev},[xv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bd(h)&&(h=yc(h)),h&&(d.fields[Tv]=h),{mapValue:d}})(i,e):r instanceof no?Bv(r,e):r instanceof io?Pv(r,e):(function(o,h){const d=kv(o,h),y=l0(d)+l0(o.Ae);return Wf(d)&&Wf(o.Ae)?Uv(y):Nd(o.serializer,y)})(r,e)}function hA(r,e,i){return r instanceof no?Bv(r,e):r instanceof io?Pv(r,e):i}function kv(r,e){return r instanceof lc?(function(s){return Wf(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class rc extends bc{}class no extends bc{constructor(e){super(),this.elements=e}}function Bv(r,e){const i=qv(e);for(const s of r.elements)i.some((o=>Ai(o,s)))||i.push(s);return{arrayValue:{values:i}}}class io extends bc{constructor(e){super(),this.elements=e}}function Pv(r,e){let i=qv(e);for(const s of r.elements)i=i.filter((o=>!Ai(o,s)));return{arrayValue:{values:i}}}class lc extends bc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function l0(r){return ve(r.integerValue||r.doubleValue)}function qv(r){return Td(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function fA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof no&&o instanceof no||s instanceof io&&o instanceof io?xr(s.elements,o.elements,Ai):s instanceof lc&&o instanceof lc?Ai(s.Ae,o.Ae):s instanceof rc&&o instanceof rc})(r.transform,e.transform)}class dA{constructor(e,i){this.version=e,this.transformResults=i}}class Ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tc{}function Hv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wd(r.key,Ei.none()):new so(r.key,r.data,Ei.none());{const i=r.data,s=jn.empty();let o=new Oe(Ye.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new xs(r.key,s,new Kn(o.toArray()),Ei.none())}}function mA(r,e,i){r instanceof so?(function(o,h,d){const y=o.value.clone(),E=u0(o.fieldTransforms,h,d.transformResults);y.setAll(E),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof xs?(function(o,h,d){if(!Ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=u0(o.fieldTransforms,h,d.transformResults),E=h.data;E.setAll(Gv(o)),E.setAll(y),h.convertToFoundDocument(d.version,E).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(r,e,i,s){return r instanceof so?(function(h,d,y,E){if(!Ku(h.precondition,d))return y;const _=h.value.clone(),A=c0(h.fieldTransforms,E,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof xs?(function(h,d,y,E){if(!Ku(h.precondition,d))return y;const _=c0(h.fieldTransforms,E,d),A=d.data;return A.setAll(Gv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(r,e,i,s):(function(h,d,y){return Ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function gA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=kv(s.transform,o||null);h!=null&&(i===null&&(i=jn.empty()),i.set(s.field,h))}return i||null}function o0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xr(s,o,((h,d)=>fA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class so extends Tc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends Tc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function u0(r,e,i){const s=new Map;Kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);s.set(h.field,hA(d,y,i[o]))}return s}function c0(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,cA(h,d,e))}return s}class wd extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pA extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&mA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Lv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const E=Hv(d,y);E!==null&&s.set(o.key,E),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&xr(this.mutations,e.mutations,((i,s)=>o0(i,s)))&&xr(this.baseMutations,e.baseMutations,((i,s)=>o0(i,s)))}}class Rd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Kt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return sA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Rd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Bt;function EA(r){switch(r){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function Fv(r){if(r===void 0)return Yi("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ce.OK:return W.OK;case Ce.CANCELLED:return W.CANCELLED;case Ce.UNKNOWN:return W.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return W.INTERNAL;case Ce.UNAVAILABLE:return W.UNAVAILABLE;case Ce.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ce.NOT_FOUND:return W.NOT_FOUND;case Ce.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ce.ABORTED:return W.ABORTED;case Ce.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ce.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=Ce||(Ce={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new Da([4294967295,4294967295],0);function h0(r){const e=bA().encode(r),i=new lv;return i.update(e),new Uint8Array(i.digest())}function f0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Da([i,s],0),new Da([o,h],0)]}class Cd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Da.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Da.fromNumber(s)));return o.compare(TA)===1&&(o=new Da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=h0(e),[s,o]=f0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Cd(h,o,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=h0(e),[s,o]=f0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new xc(Tt.min(),o,new ce(zt),Ki(),Lt())}}class ro{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ro(s,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Qv{constructor(e,i){this.targetId=e,this.Ce=i}}class Yv{constructor(e,i,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class d0{constructor(){this.ve=0,this.Fe=m0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),s=Lt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:h})}})),new ro(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=m0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=Hu(),this.He=Hu(),this.Ye=new ce(zt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ed(h))if(s===0){const d=new gt(h.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),E=y?this.ct(y,e,d):1;if(E!==0){this.it(i);const _=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=za(s).toUint8Array()}catch(E){if(E instanceof _v)return Tr("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{y=new Cd(d,o,h)}catch(E){return Tr(E instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&ed(y.target)){const E=new gt(y.target.path);this.It(E).has(d)||this.Et(d,E)||this.et(d,E,Je.newNoDocument(E,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Lt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((E=>{const _=this.ot(E);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new xc(e,i,this.Ye,this.je,s);return this.je=Ki(),this.Je=Hu(),this.He=Hu(),this.Ye=new ce(zt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new d0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Oe(zt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Oe(zt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new ce(gt.comparator)}function m0(){return new ce(gt.comparator)}const AA={asc:"ASCENDING",desc:"DESCENDING"},SA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NA={and:"AND",or:"OR"};class wA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function id(r,e){return r.useProto3Json||pc(e)?e:{value:e}}function oc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function RA(r,e){return oc(r,e.toTimestamp())}function bi(r){return Kt(!!r,49232),Tt.fromTimestamp((function(i){const s=Oa(i);return new le(s.seconds,s.nanos)})(r))}function Md(r,e){return ad(r,e).canonicalString()}function ad(r,e){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Xv(r){const e=re.fromString(r);return Kt(t_(e),10190,{key:e.toString()}),e}function sd(r,e){return Md(r.databaseId,e.path)}function kf(r,e){const i=Xv(e);if(i.get(1)!==r.databaseId.projectId)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(Zv(i))}function $v(r,e){return Md(r.databaseId,e)}function CA(r){const e=Xv(r);return e.length===4?re.emptyPath():Zv(e)}function rd(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zv(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function g0(r,e,i){return{name:sd(r,e),fields:i.value.mapValue.fields}}function MA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Kt(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?W.UNKNOWN:Fv(_.code);return new ht(A,_.message||"")})(d);i=new Yv(s,o,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=kf(r,s.document.name),h=bi(s.document.updateTime),d=s.document.createTime?bi(s.document.createTime):Tt.min(),y=new jn({mapValue:{fields:s.document.fields}}),E=Je.newFoundDocument(o,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Xu(_,A,E.key,E)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=kf(r,s.document),h=s.readTime?bi(s.readTime):Tt.min(),d=Je.newNoDocument(o,h),y=s.removedTargetIds||[];i=new Xu([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=kf(r,s.document),h=s.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new _A(o,h),y=s.targetId;i=new Qv(y,d)}}return i}function DA(r,e){let i;if(e instanceof so)i={update:g0(r,e.key,e.value)};else if(e instanceof wd)i={delete:sd(r,e.key)};else if(e instanceof xs)i={update:g0(r,e.key,e.data),updateMask:BA(e.fieldMask)};else{if(!(e instanceof pA))return vt(16599,{Vt:e.type});i={verify:sd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof lc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw vt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:RA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(r,e.precondition)),i}function IA(r,e){return r&&r.length>0?(Kt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?bi(o.updateTime):bi(h);return d.isEqual(Tt.min())&&(d=bi(h)),new dA(d,o.transformResults||[])})(i,e)))):[]}function VA(r,e){return{documents:[$v(r,e.path)]}}function jA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$v(r,o);const h=(function(_){if(_.length!==0)return Wv(Si.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:yr(N.field),direction:LA(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=id(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function OA(r){let e=CA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(w){const N=Jv(w);return N instanceof Si&&Cv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((N=>(function(G){return new sc(vr(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(N)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let N;return N=typeof w=="object"?w.value:w,pc(N)?null:N})(i.limit));let E=null;i.startAt&&(E=(function(w){const N=!!w.before,q=w.values||[];return new ac(q,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const N=!w.before,q=w.values||[];return new ac(q,N)})(i.endAt)),Wx(e,o,d,h,y,"F",E,_)}function zA(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Jv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vr(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vr(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vr(i.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vr(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(vr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Si.create(i.compositeFilter.filters.map((s=>Jv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function LA(r){return AA[r]}function UA(r){return SA[r]}function kA(r){return NA[r]}function yr(r){return{fieldPath:r.canonicalString()}}function vr(r){return Ye.fromServerFormat(r.fieldPath)}function Wv(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(n0(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NAN"}};if(e0(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(n0(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NAN"}};if(e0(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(i.field),op:UA(i.op),value:i.value}}})(r):r instanceof Si?(function(i){const s=i.getFilters().map((o=>Wv(o)));return s.length===1?s[0]:{compositeFilter:{op:kA(i.op),filters:s}}})(r):vt(54877,{filter:r})}function BA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function t_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),y=Ke.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=E}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.yt=e}}function qA(r){const e=OA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.Cn=new GA}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(ja.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class GA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Oe(re.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Oe(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e_=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(e_,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nr(0)}static cr(){return new Nr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="LruGarbageCollector",FA=1048576;function v0([r,e],[i,s]){const o=zt(r,i);return o===0?zt(e,s):o}class QA{constructor(e){this.Ir=e,this.buffer=new Oe(v0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();v0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Dr(i)?ot(y0,"Ignoring IndexedDB error during garbage collection: ",i):await Mr(i)}await this.Vr(3e5)}))}}class KA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(gc.ce);const s=new QA(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(p0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,y,E,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,y=Date.now(),this.removeTargets(e,s,i)))).next((w=>(h=w,E=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(_=Date.now(),gr()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(E-y)+`ms
	Removed ${w} documents in `+(_-E)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function XA(r,e){return new KA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.changes=new Ts((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Kl(s.mutation,o,Kn.empty(),le.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Lt()){const o=ys();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Pl();return h.forEach(((y,E)=>{d=d.insert(y,E.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ys();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Lt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,o){let h=Ki();const d=Yl(),y=(function(){return Yl()})();return i.forEach(((E,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof xs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),le.now())):d.set(_.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,h).next((E=>(E.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new ZA(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Yl();let o=new ce(((d,y)=>d-y)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((E=>{const _=i.get(E);if(_===null)return;let A=s.get(E)||Kn.empty();A=y.applyToLocalView(_,A),s.set(E,A);const w=(o.get(y.batchId)||Lt()).add(E);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const E=y.getNext(),_=E.key,A=E.value,w=Lv();A.forEach((N=>{if(!h.has(N)){const q=Hv(i.get(N),s.get(N));q!==null&&w.set(N,q),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):J.resolve(ys());let y=Jl,E=h;return d.next((_=>J.forEach(_,((A,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),h.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{E=E.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,E,_,Lt()))).next((A=>({batchId:y,changes:zv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next((y=>J.forEach(y,(E=>{const _=(function(w,N){return new vc(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,E.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((E,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let y=Pl();return d.forEach(((E,_)=>{const A=h.get(E);A!==void 0&&Kl(A.mutation,_,Kn.empty(),le.now()),Ec(i,_)&&(y=y.insert(E,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:qA(o.bundledQuery),readTime:bi(o.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ys();return J.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=ys(),h=i.length+1,d=new gt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const E=y.getNext().value,_=E.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&E.largestBatchId>s&&o.set(E.getKey(),E)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ce(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ys(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=ys(),E=h.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return J.resolve(y)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vA(i,s));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.Qr=new Oe(ke.$r),this.Ur=new Oe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ke(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ke(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new gt(new re([])),s=new ke(i,e),o=new ke(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new re([])),s=new ke(i,e),o=new ke(i,e+1);let h=Lt();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ke(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ke{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||zt(e.Yr,i.Yr)}static Kr(e,i){return zt(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(ke.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yA(h,i,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new ke(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ed:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Oe(zt);return i.forEach((o=>{const h=new ke(o,0),d=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new ke(new gt(h),0);let y=new Oe(zt);return this.Zr.forEachWhile((E=>{const _=E.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(E.Yr)),!0)}),d),J.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(i.mutations,(o=>{const h=new ke(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ke(i,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.ri=e,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=Ki();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Je.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ki();const d=i.path,y=new gt(d.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(y);for(;E.hasNext();){const{key:_,value:{document:A}}=E.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Dx(Mx(A),s)<=0||(o.has(A.key)||Ec(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ii(e,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new a2(this)}getSize(e){return J.resolve(this.size)}}class a2 extends $A{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.persistence=e,this.si=new Ts((i=>xd(i)),Ad),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dd,this.targetCount=0,this.ai=Nr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Nr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),J.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,i){this.ui={},this.overlays={},this.ci=new gc(0),this.li=!1,this.li=!0,this.hi=new e2,this.referenceDelegate=e(this),this.Pi=new s2(this),this.indexManager=new HA,this.remoteDocumentCache=(function(o){return new i2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new PA(i),this.Ii=new WA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new t2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new n2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new r2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class r2 extends Vx{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Ri=new Dd,this.Vi=null}static mi(e){return new Id(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.pi=new Ts((s=>zx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=XA(this,i)}static mi(e,i){return new uc(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?J.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,s){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Lt(),o=Lt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Vd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jb()?8:jx($b())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new l2;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(gr()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",pr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(gr()<=Pt.DEBUG&&ot("QueryEngine","Query:",pr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(gr()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",pr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(i))):J.resolve())}ys(e,i){if(r0(i))return J.resolve(null);let s=_i(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=nd(i,null,"F"),s=_i(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((E=>{const _=this.Ds(i,y);return this.Cs(i,_,d,E.readTime)?this.ys(e,nd(i,null,"F")):this.vs(e,_,i,E)}))))})))))}ws(e,i,s,o){return r0(i)||o.isEqual(Tt.min())?J.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?J.resolve(null):(gr()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pr(i)),this.vs(e,d,i,Cx(o,Jl)).next((y=>y)))}))}Ds(e,i){let s=new Oe(jv(e));return i.forEach(((o,h)=>{Ec(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return gr()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",pr(i)),this.ps.getDocumentsMatchingQuery(e,i,ja.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",u2=3e8;class c2{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ce(zt),this.xs=new Ts((h=>xd(h)),Ad),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function h2(r,e,i,s){return new c2(r,e,i,s)}async function i_(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let E=Lt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)E=E.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)E=E.add(A.key)}return i.localDocuments.getDocuments(s,E).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function f2(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,E,_,A){const w=_.batch,N=w.keys();let q=J.resolve();return N.forEach((G=>{q=q.next((()=>A.getEntry(E,G))).next((z=>{const K=_.docVersions.get(G);Kt(K!==null,48541),z.version.compareTo(K)<0&&(w.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),A.addEntry(z)))}))})),q.next((()=>y.mutationQueue.removeMutationBatch(E,w)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let E=Lt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(E=E.add(y.batch.mutations[_].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function a_(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function d2(r,e){const i=St(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,w)=>{const N=o.get(w);if(!N)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,w))));let q=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(w,q),(function(z,K,it){return z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=u2?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(N,q,A)&&y.push(i.Pi.updateTargetData(h,q))}));let E=Ki(),_=Lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(m2(h,d,e.documentUpdates).next((A=>{E=A.ks,_=A.qs}))),!s.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((w=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return J.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,E,_))).next((()=>E))})).then((h=>(i.Ms=o,h)))}function m2(r,e,i){let s=Lt(),o=Lt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Ki();return i.forEach(((y,E)=>{const _=h.get(y);E.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),E.isNoDocument()&&E.version.isEqual(Tt.min())?(e.removeEntry(y,E.readTime),d=d.insert(y,E)):!_.isValidDocument()||E.version.compareTo(_.version)>0||E.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(E),d=d.insert(y,E)):ot(jd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",E.version)})),{ks:d,qs:o}}))}function g2(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function p2(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ra(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function ld(r,e,i){const s=St(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Dr(d))throw d;ot(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function _0(r,e,i){const s=St(r);let o=Tt.min(),h=Lt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(E,_,A){const w=St(E),N=w.xs.get(A);return N!==void 0?J.resolve(w.Ms.get(N)):w.Pi.getTargetData(_,A)})(s,d,_i(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((E=>{h=E}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Lt()))).next((y=>(y2(s,nA(e),y),{documents:y,Qs:h})))))}function y2(r,e,i){let s=r.Os.get(e)||Tt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class E0{constructor(){this.activeTargetIds=oA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v2{constructor(){this.Mo=new E0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="ConnectivityMonitor";class T0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(b0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(b0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function od(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=od(),y=this.zo(e,i.toUriEncodedString());ot(Bf,`Sending RPC '${e}' ${d}:`,y,s);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,o,h);const{host:_}=new URL(y),A=gd(_);return this.Jo(e,y,E,s,A).then((w=>(ot(Bf,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Tr(Bf,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",s),w}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=E2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class x2 extends b2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=od();return new Promise(((y,E)=>{const _=new ov;_.setWithCredentials(!0),_.listenOnce(uv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fu.NO_ERROR:const w=_.getResponseJson();ot($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Fu.TIMEOUT:ot($e,`RPC '${e}' ${d} timed out`),E(new ht(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const N=_.getStatus();if(ot($e,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q==null?void 0:q.error;if(G&&G.status&&G.message){const z=(function(it){const lt=it.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(lt)>=0?lt:W.UNKNOWN})(G.status);E(new ht(z,G.message))}else E(new ht(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else E(new ht(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot($e,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ot($e,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=od(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fv(),y=hv(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(E.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,i,s),E.encodeInitMessageHeaders=!0;const A=h.join("");ot($e,`Creating RPC '${e}' stream ${o}: ${A}`,E);const w=d.createWebChannel(A,E);this.I_(w);let N=!1,q=!1;const G=new T2({Yo:K=>{q?ot($e,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(N||(ot($e,`Opening RPC '${e}' stream ${o} transport.`),w.open(),N=!0),ot($e,`RPC '${e}' stream ${o} sending:`,K),w.send(K))},Zo:()=>w.close()}),z=(K,it,lt)=>{K.listen(it,(rt=>{try{lt(rt)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return z(w,Bl.EventType.OPEN,(()=>{q||(ot($e,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),z(w,Bl.EventType.CLOSE,(()=>{q||(q=!0,ot($e,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(w))})),z(w,Bl.EventType.ERROR,(K=>{q||(q=!0,Tr($e,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),G.a_(new ht(W.UNAVAILABLE,"The operation could not be completed")))})),z(w,Bl.EventType.MESSAGE,(K=>{var it;if(!q){const lt=K.data[0];Kt(!!lt,16349);const rt=lt,Et=(rt==null?void 0:rt.error)||((it=rt[0])==null?void 0:it.error);if(Et){ot($e,`RPC '${e}' stream ${o} received error:`,Et);const Vt=Et.status;let xt=(function(R){const C=Ce[R];if(C!==void 0)return Fv(C)})(Vt),M=Et.message;xt===void 0&&(xt=W.INTERNAL,M="Unknown error status: "+Vt+" with message "+Et.message),q=!0,G.a_(new ht(xt,M)),w.close()}else ot($e,`RPC '${e}' stream ${o} received:`,lt),G.u_(lt)}})),z(y,cv.STAT_EVENT,(K=>{K.stat===$f.PROXY?ot($e,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===$f.NOPROXY&&ot($e,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return new wA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="PersistentStream";class r_{constructor(e,i,s,o,h,d,y,E){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ht(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(x0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(x0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A2 extends r_{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=MA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?bi(d.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=rd(this.serializer),i.addTarget=(function(h,d){let y;const E=d.target;if(y=ed(E)?{documents:VA(h,E)}:{query:jA(h,E).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Kv(h,d.resumeToken);const _=id(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){y.readTime=oc(h,d.snapshotVersion.toTimestamp());const _=id(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=zA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=rd(this.serializer),i.removeTarget=e,this.q_(i)}}class S2 extends r_{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IA(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=rd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>DA(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{}class w2 extends N2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ad(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(W.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,ad(i,s),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class R2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class C2{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{As(this)&&(ot(Es,"Restarting streams for network reachability change."),await(async function(E){const _=St(E);_.Ea.add(4),await lo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sc(_)})(this))}))})),this.Ra=new R2(s,o)}}async function Sc(r){if(As(r))for(const e of r.da)await e(!0)}async function lo(r){for(const e of r.da)await e(!1)}function l_(r,e){const i=St(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?Ld(i):Ir(i).O_()&&zd(i,e))}function Od(r,e){const i=St(r),s=Ir(i);i.Ia.delete(e),s.O_()&&o_(i,e),i.Ia.size===0&&(s.O_()?s.L_():As(i)&&i.Ra.set("Unknown"))}function zd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ir(r).Y_(e)}function o_(r,e){r.Va.Ue(e),Ir(r).Z_(e)}function Ld(r){r.Va=new xA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ir(r).start(),r.Ra.ua()}function Ud(r){return As(r)&&!Ir(r).x_()&&r.Ia.size>0}function As(r){return St(r).Ea.size===0}function u_(r){r.Va=void 0}async function M2(r){r.Ra.set("Online")}async function D2(r){r.Ia.forEach(((e,i)=>{zd(r,e)}))}async function I2(r,e){u_(r),Ud(r)?(r.Ra.ha(e),Ld(r)):r.Ra.set("Unknown")}async function V2(r,e,i){if(r.Ra.set("Online"),e instanceof Yv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(s){ot(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cc(r,s)}else if(e instanceof Xu?r.Va.Ze(e):e instanceof Qv?r.Va.st(e):r.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await a_(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((E,_)=>{if(E.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(E.resumeToken,d))}})),y.targetMismatches.forEach(((E,_)=>{const A=h.Ia.get(E);if(!A)return;h.Ia.set(E,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),o_(h,E);const w=new Ra(A.target,E,_,A.sequenceNumber);zd(h,w)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){ot(Es,"Failed to raise snapshot:",s),await cc(r,s)}}async function cc(r,e,i){if(!Dr(e))throw e;r.Ea.add(1),await lo(r),r.Ra.set("Offline"),i||(i=()=>a_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Es,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sc(r)}))}function c_(r,e){return e().catch((i=>cc(r,i,e)))}async function Nc(r){const e=St(r),i=Ua(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ed;for(;j2(e);)try{const o=await g2(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,O2(e,o)}catch(o){await cc(e,o)}h_(e)&&f_(e)}function j2(r){return As(r)&&r.Ta.length<10}function O2(r,e){r.Ta.push(e);const i=Ua(r);i.O_()&&i.X_&&i.ea(e.mutations)}function h_(r){return As(r)&&!Ua(r).x_()&&r.Ta.length>0}function f_(r){Ua(r).start()}async function z2(r){Ua(r).ra()}async function L2(r){const e=Ua(r);for(const i of r.Ta)e.ea(i.mutations)}async function U2(r,e,i){const s=r.Ta.shift(),o=Rd.from(s,e,i);await c_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Nc(r)}async function k2(r,e){e&&Ua(r).X_&&await(async function(s,o){if((function(d){return EA(d)&&d!==W.ABORTED})(o.code)){const h=s.Ta.shift();Ua(s).B_(),await c_(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Nc(s)}})(r,e),h_(r)&&f_(r)}async function A0(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(Es,"RemoteStore received new credentials");const s=As(i);i.Ea.add(3),await lo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sc(i)}async function B2(r,e){const i=St(r);e?(i.Ea.delete(2),await Sc(i)):e||(i.Ea.add(2),await lo(i),i.Ra.set("Unknown"))}function Ir(r){return r.ma||(r.ma=(function(i,s,o){const h=St(i);return h.sa(),new A2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:M2.bind(null,r),t_:D2.bind(null,r),r_:I2.bind(null,r),H_:V2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ud(r)?Ld(r):r.Ra.set("Unknown")):(await r.ma.stop(),u_(r))}))),r.ma}function Ua(r){return r.fa||(r.fa=(function(i,s,o){const h=St(i);return h.sa(),new S2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:z2.bind(null,r),r_:k2.bind(null,r),ta:L2.bind(null,r),na:U2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Nc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Es,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,y=new kd(e,i,d,o,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),Dr(r))return new ht(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{static emptySet(e){return new Er(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Er;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.ga=new ce(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class wr{constructor(e,i,s,o,h,d,y,E,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=E,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new wr(e,i,Er.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class q2{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=N0(),h.forEach(((d,y)=>{for(const E of y.Sa)E.onError(s)}))})(this,new ht(W.ABORTED,"Firestore shutting down"))}}function N0(){return new Ts((r=>Vv(r)),_c)}async function d_(r,e){const i=St(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new P2,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Bd(d,`Initialization of query '${pr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Pd(i)}async function m_(r,e){const i=St(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function H2(r,e){const i=St(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&Pd(i)}function G2(r,e,i){const s=St(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Pd(r){r.Ca.forEach((e=>{e.next()}))}var ud,w0;(w0=ud||(ud={})).Ma="default",w0.Cache="cache";class g_{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=wr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.key=e}}class y_{constructor(e){this.key=e}}class F2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=jv(e),this.tu=new Er(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new S0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const E=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,w)=>{const N=o.get(A),q=Ec(this.query,w)?w:null,G=!!N&&this.mutatedKeys.has(N.key),z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let K=!1;N&&q?N.data.isEqual(q.data)?G!==z&&(s.track({type:3,doc:q}),K=!0):this.su(N,q)||(s.track({type:2,doc:q}),K=!0,(E&&this.eu(q,E)>0||_&&this.eu(q,_)<0)&&(y=!0)):!N&&q?(s.track({type:0,doc:q}),K=!0):N&&!q&&(s.track({type:1,doc:N}),K=!0,(E||_)&&(y=!0)),K&&(q?(d=d.add(q),h=z?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(q,G){const z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:K})}};return z(q)-z(G)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(s),o=o??!1;const y=i&&!o?this._u():[],E=this.Xa.size===0&&this.current&&!o?1:0,_=E!==this.Za;return this.Za=E,d.length!==0||_?{snapshot:new wr(this.query,e.tu,h,d,e.mutatedKeys,E===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new y_(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new p_(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return wr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qd="SyncEngine";class Q2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Y2{constructor(e){this.key=e,this.hu=!1}}class K2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ts((y=>Vv(y)),_c),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new Dd,this.Vu={},this.mu=new Map,this.fu=Nr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X2(r,e,i=!0){const s=x_(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await v_(s,e,i,!0),o}async function $2(r,e){const i=x_(r);await v_(i,e,!0,!1)}async function v_(r,e,i,s){const o=await p2(r.localStore,_i(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await Z2(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&l_(r.remoteStore,o),y}async function Z2(r,e,i,s,o){r.pu=(w,N,q)=>(async function(z,K,it,lt){let rt=K.view.ru(it);rt.Cs&&(rt=await _0(z.localStore,K.query,!1).then((({documents:M})=>K.view.ru(M,rt))));const Et=lt&&lt.targetChanges.get(K.targetId),Vt=lt&&lt.targetMismatches.get(K.targetId)!=null,xt=K.view.applyChanges(rt,z.isPrimaryClient,Et,Vt);return C0(z,K.targetId,xt.au),xt.snapshot})(r,w,N,q);const h=await _0(r.localStore,e,!0),d=new F2(e,h.Qs),y=d.ru(h.documents),E=ro.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,E);C0(r,i,_.au);const A=new Q2(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function J2(r,e,i){const s=St(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!_c(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ld(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Od(s.remoteStore,o.targetId),cd(s,o.targetId)})).catch(Mr)):(cd(s,o.targetId),await ld(s.localStore,o.targetId,!0))}async function W2(r,e){const i=St(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Od(i.remoteStore,s.targetId))}async function tS(r,e,i){const s=lS(r);try{const o=await(function(d,y){const E=St(d),_=le.now(),A=y.reduce(((q,G)=>q.add(G.key)),Lt());let w,N;return E.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let G=Ki(),z=Lt();return E.Ns.getEntries(q,A).next((K=>{G=K,G.forEach(((it,lt)=>{lt.isValidDocument()||(z=z.add(it))}))})).next((()=>E.localDocuments.getOverlayedDocuments(q,G))).next((K=>{w=K;const it=[];for(const lt of y){const rt=gA(lt,w.get(lt.key).overlayedDocument);rt!=null&&it.push(new xs(lt.key,rt,Nv(rt.value.mapValue),Ei.exists(!0)))}return E.mutationQueue.addMutationBatch(q,_,it,y)})).next((K=>{N=K;const it=K.applyToLocalDocumentSet(w,z);return E.documentOverlayCache.saveOverlays(q,K.batchId,it)}))})).then((()=>({batchId:N.batchId,changes:zv(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,E){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(zt)),_=_.insert(y,E),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await oo(s,o.changes),await Nc(s.remoteStore)}catch(o){const h=Bd(o,"Failed to persist write");i.reject(h)}}async function __(r,e){const i=St(r);try{const s=await d2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Kt(d.hu,14607):o.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await oo(i,s,e)}catch(s){await Mr(s)}}function R0(r,e,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const E=St(d);E.onlineState=y;let _=!1;E.queries.forEach(((A,w)=>{for(const N of w.Sa)N.va(y)&&(_=!0)})),_&&Pd(E)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eS(r,e,i){const s=St(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new ce(gt.comparator);d=d.insert(h,Je.newNoDocument(h,Tt.min()));const y=Lt().add(h),E=new xc(Tt.min(),new Map,new ce(zt),d,y);await __(s,E),s.du=s.du.remove(h),s.Au.delete(e),Hd(s)}else await ld(s.localStore,e,!1).then((()=>cd(s,e,i))).catch(Mr)}async function nS(r,e){const i=St(r),s=e.batch.batchId;try{const o=await f2(i.localStore,e);b_(i,s,null),E_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await oo(i,o)}catch(o){await Mr(o)}}async function iS(r,e,i){const s=St(r);try{const o=await(function(d,y){const E=St(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return E.mutationQueue.lookupMutationBatch(_,y).next((w=>(Kt(w!==null,37113),A=w.keys(),E.mutationQueue.removeMutationBatch(_,w)))).next((()=>E.mutationQueue.performConsistencyCheck(_))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>E.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);b_(s,e,i),E_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await oo(s,o)}catch(o){await Mr(o)}}function E_(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function b_(r,e,i){const s=St(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function cd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||T_(r,s)}))}function T_(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Od(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Hd(r))}function C0(r,e,i){for(const s of i)s instanceof p_?(r.Ru.addReference(s.key,e),aS(r,s)):s instanceof y_?(ot(qd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||T_(r,s.key)):vt(19791,{wu:s})}function aS(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ot(qd,"New document in limbo: "+i),r.Eu.add(s),Hd(r))}function Hd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(re.fromString(e)),s=r.fu.next();r.Au.set(s,new Y2(i)),r.du=r.du.insert(i,s),l_(r.remoteStore,new Ra(_i(Sd(i.path)),s,"TargetPurposeLimboResolution",gc.ce))}}async function oo(r,e,i){const s=St(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,E)=>{d.push(s.pu(E,e,i).then((_=>{var A;if((_||i)&&s.isPrimaryClient){const w=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(E.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(E.targetId,w?"current":"not-current")}if(_){o.push(_);const w=Vd.As(E.targetId,_);h.push(w)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(E,_){const A=St(E);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(N=>J.forEach(N.Es,(q=>A.persistence.referenceDelegate.addReference(w,N.targetId,q))).next((()=>J.forEach(N.ds,(q=>A.persistence.referenceDelegate.removeReference(w,N.targetId,q)))))))))}catch(w){if(!Dr(w))throw w;ot(jd,"Failed to update sequence numbers: "+w)}for(const w of _){const N=w.targetId;if(!w.fromCache){const q=A.Ms.get(N),G=q.snapshotVersion,z=q.withLastLimboFreeSnapshotVersion(G);A.Ms=A.Ms.insert(N,z)}}})(s.localStore,h))}async function sS(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){ot(qd,"User change. New user:",e.toKey());const s=await i_(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((E=>{E.reject(new ht(W.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oo(i,s.Ls)}}function rS(r,e){const i=St(r),s=i.Au.get(e);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function x_(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=__.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eS.bind(null,e),e.Pu.H_=H2.bind(null,e.eventManager),e.Pu.yu=G2.bind(null,e.eventManager),e}function lS(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iS.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return h2(this.persistence,new o2,e.initialUser,this.serializer)}Cu(e){return new n_(Id.mi,this.serializer)}Du(e){return new v2}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class oS extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Kt(this.persistence.referenceDelegate instanceof uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new n_((s=>uc.mi(s,i)),this.serializer)}}class hd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>R0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sS.bind(null,this.syncEngine),await B2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new q2})()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),s=(function(h){return new x2(h)})(e.databaseInfo);return(function(h,d,y,E){return new w2(h,d,y,E)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,y){return new C2(s,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>R0(this.syncEngine,i,0)),(function(){return T0.v()?new T0:new _2})())}createSyncEngine(e,i){return(function(o,h,d,y,E,_,A){const w=new K2(o,h,d,y,E,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=St(o);ot(Es,"RemoteStore shutting down."),h.Ea.add(5),await lo(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}hd.provider={build:()=>new hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class uS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{ot(ka,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ot(ka,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Bd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qf(r,e){r.asyncQueue.verifyOperationInProgress(),ot(ka,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await i_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function M0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await cS(r);ot(ka,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>A0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>A0(e.remoteStore,o))),r._onlineComponents=e}async function cS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(ka,"Using user provided OfflineComponentProvider");try{await qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Tr("Error using user provided cache. Falling back to memory cache: "+i),await qf(r,new hc)}}else ot(ka,"Using default OfflineComponentProvider"),await qf(r,new oS(void 0));return r._offlineComponents}async function S_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(ka,"Using user provided OnlineComponentProvider"),await M0(r,r._uninitializedComponentsProvider._online)):(ot(ka,"Using default OnlineComponentProvider"),await M0(r,new hd))),r._onlineComponents}function hS(r){return S_(r).then((e=>e.syncEngine))}async function N_(r){const e=await S_(r),i=e.eventManager;return i.onListen=X2.bind(null,e.syncEngine),i.onUnlisten=J2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=W2.bind(null,e.syncEngine),i}function fS(r,e,i={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,E,_){const A=new A_({next:N=>{A.Nu(),d.enqueueAndForget((()=>m_(h,w)));const q=N.docs.has(y);!q&&N.fromCache?_.reject(new ht(W.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&E&&E.source==="server"?_.reject(new ht(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),w=new g_(Sd(y.path),A,{includeMetadataChanges:!0,qa:!0});return d_(h,w)})(await N_(r),r.asyncQueue,e,i,s))),s.promise}function dS(r,e,i={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,E,_){const A=new A_({next:N=>{A.Nu(),d.enqueueAndForget((()=>m_(h,w))),N.fromCache&&E.source==="server"?_.reject(new ht(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),w=new g_(y,A,{includeMetadataChanges:!0,qa:!0});return d_(h,w)})(await N_(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="firestore.googleapis.com",I0=!0;class V0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ht(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R_,this.ssl=I0}else this.host=e.host,this.ssl=e.ssl??I0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FA)throw new ht(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vx;switch(s.type){case"firstParty":return new Tx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=D0.get(i);s&&(ot("ComponentProvider","Removing Datastore"),D0.delete(i),s.terminate())})(this),Promise.resolve()}}function mS(r,e,i,s={}){var _;r=Va(r,wc);const o=gd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(Fb(`https://${y}`),Xb("Firestore",!0)),h.host!==R_&&h.host!==y&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...h,host:y,ssl:o,emulatorOptions:s};if(!Ju(E,d)&&(r._setSettings(E),s.mockUserToken)){let A,w;if(typeof s.mockUserToken=="string")A=s.mockUserToken,w=Ze.MOCK_USER;else{A=Qb(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new ht(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ze(N)}r._authCredentials=new _x(new mv(A,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class je{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(ao(i,je._jsonSchema))return new je(e,s||null,new gt(re.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Me("string",je._jsonSchemaVersion),referencePath:Me("string")};class Ia extends Rc{constructor(e,i,s){super(e,i,Sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new gt(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function gS(r,e,...i){if(r=Xl(r),gv("collection","path",e),r instanceof wc){const s=re.fromString(e,...i);return Yy(s),new Ia(r,null,s)}{if(!(r instanceof je||r instanceof Ia))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(e,...i));return Yy(s),new Ia(r.firestore,null,s)}}function kl(r,e,...i){if(r=Xl(r),arguments.length===1&&(e=vd.newId()),gv("doc","path",e),r instanceof wc){const s=re.fromString(e,...i);return Qy(s),new je(r,null,new gt(s))}{if(!(r instanceof je||r instanceof Ia))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(e,...i));return Qy(s),new je(r.firestore,r instanceof Ia?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class O0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s_(this,"async_queue_retry"),this._c=()=>{const s=Pf();s&&ot(j0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Pf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Pf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dr(e))throw e;ot(j0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",z0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=kd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class uo extends wc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new O0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O0(e),this._firestoreClient=void 0,await e}}}function pS(r,e){const i=typeof r=="object"?r:sx(),s=typeof r=="string"?r:nc,o=tx(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=Hb("firestore");h&&mS(o,...h)}return o}function Gd(r){if(r._terminated)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yS(r),r._firestoreClient}function yS(r){var s,o,h;const e=r._freezeSettings(),i=(function(y,E,_,A){return new kx(y,E,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,w_(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new uS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(y){const E=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(E),_online:E}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ke.fromBase64String(e))}catch(i){throw new ht(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ao(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Me("string",On._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ht(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ht(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ht(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(ao(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Me("string",Ti._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ao(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new xi(e.vectorValues);throw new ht(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Me("string",xi._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=/^__.*__$/;class _S{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,i,this.fieldTransforms):new so(e,this.data,i,this.fieldTransforms)}}function M_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Qd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(M_(this.Ac)&&vS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ES{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ac(e)}Cc(e,i,s,o=!1){return new Qd({Ac:e,methodName:i,Dc:s,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bS(r){const e=r._freezeSettings(),i=Ac(r._databaseId);return new ES(r._databaseId,!!e.ignoreUndefinedProperties,i)}function TS(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);j_("Data must be an object, but it was:",d,s);const y=I_(s,d);let E,_;if(h.merge)E=new Kn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const w of h.mergeFields){const N=xS(e,w,i);if(!d.contains(N))throw new ht(W.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);SS(A,N)||A.push(N)}E=new Kn(A),_=d.fieldTransforms.filter((w=>E.covers(w.field)))}else E=null,_=d.fieldTransforms;return new _S(new jn(y),E,_)}function D_(r,e){if(V_(r=Xl(r)))return j_("Unsupported field value:",e,r),I_(r,e);if(r instanceof C_)return(function(s,o){if(!M_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const y of s){let E=D_(y,o.wc(d));E==null&&(E={nullValue:"NULL_VALUE"}),h.push(E),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Xl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=le.fromDate(s);return{timestampValue:oc(o.serializer,h)}}if(s instanceof le){const h=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:oc(o.serializer,h)}}if(s instanceof Ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:Kv(o.serializer,s._byteString)};if(s instanceof je){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Md(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xi)return(function(d,y){return{mapValue:{fields:{[Av]:{stringValue:Sv},[ic]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Nd(y.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${_d(s)}`)})(r,e)}function I_(r,e){const i={};return vv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(r,((s,o)=>{const h=D_(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function V_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Ti||r instanceof On||r instanceof je||r instanceof C_||r instanceof xi)}function j_(r,e,i){if(!V_(i)||!pv(i)){const s=_d(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function xS(r,e,i){if((e=Xl(e))instanceof Fd)return e._internalPath;if(typeof e=="string")return O_(r,e);throw fc("Field path arguments must be of type string or ",r,!1,void 0,i)}const AS=new RegExp("[~\\*/\\[\\]]");function O_(r,e,i){if(e.search(AS)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fd(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(h||d)&&(E+=" (found",h&&(E+=` in field ${s}`),d&&(E+=` in document ${o}`),E+=")"),new ht(W.INVALID_ARGUMENT,y+r+E)}function SS(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(L_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NS extends z_{data(){return super.data()}}function L_(r,e){return typeof e=="string"?O_(r,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RS{convertValue(e,i="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return bs(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[ic].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>ve(d.doubleValue)));return new xi(i)}convertGeoPoint(e){return new Ti(ve(e.latitude),ve(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=yc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=Oa(e);return new le(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=re.fromString(e);Kt(t_(s),9688,{name:e});const o=new to(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||Yi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends z_{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(L_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:Me("string",vs._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class $u extends vs{data(e={}){return super.data(e)}}class br{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new $u(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const E=new $u(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Hl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:E,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const E=new $u(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Hl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:MS(y.type),doc:E,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=br._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){r=Va(r,je);const e=Va(r.firestore,uo);return fS(Gd(e),r._key).then((i=>VS(e,r,i)))}br._jsonSchemaVersion="firestore/querySnapshot/1.0",br._jsonSchema={type:Me("string",br._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class U_ extends RS{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,i)}}function DS(r){r=Va(r,Rc);const e=Va(r.firestore,uo),i=Gd(e),s=new U_(e);return wS(r._query),dS(i,r._query).then((o=>new br(e,s,r,o)))}function U0(r,e,i){r=Va(r,je);const s=Va(r.firestore,uo),o=CS(r.converter,e,i);return k_(s,[TS(bS(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ei.none())])}function IS(r){return k_(Va(r.firestore,uo),[new wd(r._key,Ei.none())])}function k_(r,e){return(function(s,o){const h=new Fi;return s.asyncQueue.enqueueAndForget((async()=>tS(await hS(s),o,h))),h.promise})(Gd(r),e)}function VS(r,e,i){const s=i.docs.get(e._key),o=new U_(r);return new vs(r,o,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Cr=o})(ax),tc(new $l("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new uo(new Ex(s.getProvider("auth-internal")),new xx(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),_r(qy,Hy,e),_r(qy,Hy,"esm2020")})();const jS={apiKey:"AIzaSyCz0_p2klHvYZJ5xXWJE_eSrKy4pAz4Poc",authDomain:"gadu-staging.firebaseapp.com",projectId:"gadu-staging",storageBucket:"gadu-staging.firebasestorage.app",messagingSenderId:"88758278794",appId:"1:88758278794:web:ac41da27e151d31bbf6b73",measurementId:"G-2FC590JYSL"},OS=av(jS),k0=pS(OS);class zS{constructor(){this.USE_FIREBASE=!0,this.APP_VERSION="0.26",this.membersCollection=gS(k0,"members"),this.settingsDoc=kl(k0,"settings","appSettings"),this.init()}init(){this.USE_FIREBASE?console.log("Firebase mode enabled."):console.log("Local mode enabled. Firebase is not in use.")}async getMembers(){if(!this.USE_FIREBASE)return Promise.resolve([]);const e=await DS(this.membersCollection),i=[];return e.forEach(s=>{i.push({id:s.id,...s.data()})}),i}async getMemberById(e){if(!this.USE_FIREBASE)return Promise.resolve(void 0);if(e==="new")return this.getEmptyMember();const i=kl(this.membersCollection,e),s=await L0(i);return s.exists()?{id:s.id,...s.data()}:void 0}async saveMember(e){if(!this.USE_FIREBASE)return Promise.resolve(e);let i={...e};if(!i.id){const o=kl(this.membersCollection);i.id=o.id}const s=kl(this.membersCollection,i.id);return await U0(s,i,{merge:!0}),i}async deleteMember(e){if(!this.USE_FIREBASE)return Promise.resolve();const i=kl(this.membersCollection,e);await IS(i)}async getSettings(){if(!this.USE_FIREBASE)return Promise.resolve({lodgeName:"",lodgeNumber:"",province:""});const e=await L0(this.settingsDoc);return e.exists()?e.data():{lodgeName:"",lodgeNumber:"",province:""}}async saveSettings(e){return this.USE_FIREBASE?(await U0(this.settingsDoc,e),e):Promise.resolve(e)}getEmptyMember(){const e=()=>({statusEvents:[],degrees:[],roles:[],isMotherLodgeMember:!0,isFounder:!1});return{id:"",matricula:"",firstName:"",lastName:"",city:"",email:"",phone:"",craft:{...e(),statusEvents:[{date:new Date().toISOString().split("T")[0],status:"ACTIVE",note:"Iniziazione"}]},mark:e(),chapter:e(),ram:e()}}}const Vn=new zS,_e=[{type:"CRAFT",label:"Loggia (Craft)",shortLabel:"Craft",color:"bg-masonic-blue",degreeLabels:["Apprendista","Compagno di Mestiere","Maestro Muratore","Maestro Installato"]},{type:"MARK",label:"Loggia del Marchio",shortLabel:"MMM",color:"bg-masonic-mark",degreeLabels:["Uomo del Marchio","Maestro del Marchio"]},{type:"CHAPTER",label:"Capitolo (Arco Reale)",shortLabel:"Arco",color:"bg-masonic-red",degreeLabels:["Compagno dell'Arco Reale"]},{type:"RAM",label:"Royal Ark Mariner",shortLabel:"RAM",color:"bg-masonic-ram",degreeLabels:["Marinaio dell'Arca Reale"]}],B_={CRAFT:["Maestro Venerabile","IEM","Primo Sorvegliante","Secondo Sorvegliante","Cappellano","Tesoriere","Segretario","Assistente Segretario","Direttore delle Cerimonie","Elemosiniere","Primo Diacono","Secondo Diacono","Direttore delle Cerimonie Agg.","Organista","Copritore Interno","Copritore Esterno"],MARK:["Maestro Venerabile","Primo Sorvegliante","Secondo Sorvegliante","Maestro Ispettore","Primo Ispettore","Secondo Ispettore","Cappellano","Tesoriere","Segretario","Direttore delle Cerimonie","Primo Diacono","Secondo Diacono","Copritore Interno","Tegolatore"],CHAPTER:["Re Eccellente","Sommo Sacerdote","Primo Scriba","Scriba E.","Scriba N.","Tesoriere","Direttore delle Cerimonie","Capitano dell'Ospite","Soprintendente Principale","Primo Assistente Soprintendente","Secondo Assistente Soprintendente","Janitor"],RAM:["Venerabile Comandante No","Iafet (Primo Sorvegliante)","Sem (Secondo Sorvegliante)","Scriba","Tesoriere","Direttore delle Cerimonie","Conduttore","Guardiano","Tegolatore"]},P_=r=>r+4e3,dc=r=>`${P_(r)}`,ye=(r,e)=>{if(!r.statusEvents||r.statusEvents.length===0)return r.degrees&&r.degrees.length>0;const i=`${e}-12-31`,o=[...r.statusEvents].sort((h,d)=>h.date.localeCompare(d.date)).filter(h=>h.date<=i).pop();return o?o.status==="ACTIVE":!1},LS=r=>{switch(r){case"Apprendista":return"AA";case"Compagno di Mestiere":return"CdM";case"Maestro Muratore":return"MM";case"Maestro Installato":return"MI";case"Uomo del Marchio":return"UdM";case"Maestro del Marchio":return"MdM";case"Compagno dell'Arco Reale":return"CAR";case"Marinaio dell'Arca Reale":return"MAR";default:return r}},US=[{code:"AG",name:"Agrigento"},{code:"AL",name:"Alessandria"},{code:"AN",name:"Ancona"},{code:"AO",name:"Aosta"},{code:"AP",name:"Ascoli Piceno"},{code:"AQ",name:"L'Aquila"},{code:"AR",name:"Arezzo"},{code:"AT",name:"Asti"},{code:"AV",name:"Avellino"},{code:"BA",name:"Bari"},{code:"BG",name:"Bergamo"},{code:"BI",name:"Biella"},{code:"BL",name:"Belluno"},{code:"BN",name:"Benevento"},{code:"BO",name:"Bologna"},{code:"BR",name:"Brindisi"},{code:"BS",name:"Brescia"},{code:"BT",name:"Barletta-Andria-Trani"},{code:"BZ",name:"Bolzano"},{code:"CA",name:"Cagliari"},{code:"CB",name:"Campobasso"},{code:"CE",name:"Caserta"},{code:"CH",name:"Chieti"},{code:"CL",name:"Caltanissetta"},{code:"CN",name:"Cuneo"},{code:"CO",name:"Como"},{code:"CR",name:"Cremona"},{code:"CS",name:"Cosenza"},{code:"CT",name:"Catania"},{code:"CZ",name:"Catanzaro"},{code:"EN",name:"Enna"},{code:"FC",name:"Forl-Cesena"},{code:"FE",name:"Ferrara"},{code:"FG",name:"Foggia"},{code:"FI",name:"Firenze"},{code:"FM",name:"Fermo"},{code:"FR",name:"Frosinone"},{code:"GE",name:"Genova"},{code:"GO",name:"Gorizia"},{code:"GR",name:"Grosseto"},{code:"IM",name:"Imperia"},{code:"IS",name:"Isernia"},{code:"KR",name:"Crotone"},{code:"LC",name:"Lecco"},{code:"LE",name:"Lecce"},{code:"LI",name:"Livorno"},{code:"LO",name:"Lodi"},{code:"LT",name:"Latina"},{code:"LU",name:"Lucca"},{code:"MB",name:"Monza e della Brianza"},{code:"MC",name:"Macerata"},{code:"ME",name:"Messina"},{code:"MI",name:"Milano"},{code:"MN",name:"Mantova"},{code:"MO",name:"Modena"},{code:"MS",name:"Massa-Carrara"},{code:"MT",name:"Matera"},{code:"NA",name:"Napoli"},{code:"NO",name:"Novara"},{code:"NU",name:"Nuoro"},{code:"OR",name:"Oristano"},{code:"PA",name:"Palermo"},{code:"PC",name:"Piacenza"},{code:"PD",name:"Padova"},{code:"PE",name:"Pescara"},{code:"PG",name:"Perugia"},{code:"PI",name:"Pisa"},{code:"PN",name:"Pordenone"},{code:"PO",name:"Prato"},{code:"PR",name:"Parma"},{code:"PT",name:"Pistoia"},{code:"PU",name:"Pesaro e Urbino"},{code:"PV",name:"Pavia"},{code:"PZ",name:"Potenza"},{code:"RA",name:"Ravenna"},{code:"RC",name:"Reggio Calabria"},{code:"RE",name:"Reggio Emilia"},{code:"RG",name:"Ragusa"},{code:"RI",name:"Rieti"},{code:"RM",name:"Roma"},{code:"RN",name:"Rimini"},{code:"RO",name:"Rovigo"},{code:"SA",name:"Salerno"},{code:"SI",name:"Siena"},{code:"SO",name:"Sondrio"},{code:"SP",name:"La Spezia"},{code:"SR",name:"Siracusa"},{code:"SS",name:"Sassari"},{code:"SU",name:"Sud Sardegna"},{code:"SV",name:"Savona"},{code:"TA",name:"Taranto"},{code:"TE",name:"Teramo"},{code:"TN",name:"Trento"},{code:"TO",name:"Torino"},{code:"TP",name:"Trapani"},{code:"TR",name:"Terni"},{code:"TS",name:"Trieste"},{code:"TV",name:"Treviso"},{code:"UD",name:"Udine"},{code:"VA",name:"Varese"},{code:"VB",name:"Verbano-Cusio-Ossola"},{code:"VC",name:"Vercelli"},{code:"VE",name:"Venezia"},{code:"VI",name:"Vicenza"},{code:"VR",name:"Verona"},{code:"VT",name:"Viterbo"},{code:"VV",name:"Vibo Valentia"}],kS=({degrees:r,degreeOptions:e,onChange:i,branchColor:s,onValidate:o})=>{const[h,d]=Mt.useState({degreeName:e[0]||"",date:"",meetingNumber:""}),[y,E]=Mt.useState(null),_=[...r].sort((G,z)=>e.indexOf(G.degreeName)-e.indexOf(z.degreeName));Mt.useEffect(()=>{if(!h.degreeName){E(null);return}if(r.some(z=>z.degreeName===h.degreeName)){E("Questo grado  gi stato registrato.");return}E(o?o(h.degreeName):null)},[h.degreeName,r,o]);const A=()=>{h.degreeName&&!y&&(i([...r,h]),d({degreeName:e[0]||"",date:"",meetingNumber:""}))},w=G=>{const z=e.indexOf(G);if(r.some(lt=>e.indexOf(lt.degreeName)>z)){alert("Impossibile eliminare questo grado perch esistono gradi superiori registrati. Eliminare prima i gradi successivi.");return}const it=r.filter(lt=>lt.degreeName!==G);i(it)},N=G=>{d(G);const z=r.filter(K=>K.degreeName!==G.degreeName);i(z)},q=G=>{const z=e.indexOf(G);return r.some(K=>e.indexOf(K.degreeName)>z)};return g.jsxs("div",{className:"space-y-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[g.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Carriera Massonica"}),g.jsxs("div",{className:"space-y-2",children:[_.length===0&&g.jsx("p",{className:"text-xs text-slate-400 italic",children:"Nessun grado registrato."}),_.map((G,z)=>g.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-md border border-slate-100",children:[g.jsxs("div",{children:[g.jsx("span",{className:`font-serif font-bold text-sm ${s.replace("bg-","text-")}`,children:G.degreeName}),g.jsxs("div",{className:"text-[10px] text-slate-500 flex gap-2",children:[g.jsx("span",{children:G.date?`Data: ${G.date}`:"Data n.d."}),g.jsxs("span",{children:[" ",G.meetingNumber?`Tornata N. ${G.meetingNumber}`:"Tornata n.d."]})]})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>N(G),className:"text-slate-400 hover:text-blue-500 transition-colors p-1",title:"Modifica",children:g.jsx(mb,{size:14})}),g.jsx("button",{onClick:()=>w(G.degreeName),className:`transition-colors p-1 ${q(G.degreeName)?"text-slate-200 cursor-not-allowed":"text-slate-400 hover:text-red-500"}`,disabled:q(G.degreeName),title:q(G.degreeName)?"Impossibile eliminare: grado propedeutico a uno esistente":"Elimina",children:g.jsx(Sb,{size:14})})]})]},z))]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 items-end pt-4 border-t border-slate-100",children:[g.jsxs("div",{className:"md:col-span-5",children:[g.jsx("label",{className:"block text-[10px] font-medium text-slate-500 mb-1",children:"Grado"}),g.jsx("select",{value:h.degreeName,onChange:G=>d({...h,degreeName:G.target.value}),className:"w-full text-xs border-slate-300 rounded-md shadow-sm focus:ring-slate-500 focus:border-slate-500 p-1.5 border h-8",children:e.map(G=>g.jsx("option",{value:G,children:G},G))})]}),g.jsxs("div",{className:"md:col-span-3",children:[g.jsx("label",{className:"block text-[10px] font-medium text-slate-500 mb-1",children:"Data (Opz.)"}),g.jsx("input",{type:"date",value:h.date,onChange:G=>d({...h,date:G.target.value}),className:"w-full text-xs border-slate-300 rounded-md shadow-sm focus:ring-slate-500 focus:border-slate-500 p-1.5 border h-8"})]}),g.jsxs("div",{className:"md:col-span-3",children:[g.jsx("label",{className:"block text-[10px] font-medium text-slate-500 mb-1",children:"N. Tornata (Opz.)"}),g.jsx("input",{type:"text",placeholder:"N.",value:h.meetingNumber,onChange:G=>d({...h,meetingNumber:G.target.value}),className:"w-full text-xs border-slate-300 rounded-md shadow-sm focus:ring-slate-500 focus:border-slate-500 p-1.5 border h-8"})]}),g.jsx("div",{className:"md:col-span-1",children:g.jsx("button",{onClick:A,disabled:!!y,className:`w-full h-8 flex justify-center items-center rounded-md text-white transition-colors ${y?"bg-slate-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:g.jsx(pb,{size:16})})})]}),y&&g.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-600 bg-red-50 p-2 rounded-md border border-red-100",children:[g.jsx(dd,{size:14}),g.jsx("span",{children:y})]})]})},BS=({roles:r,branch:e,onChange:i,branchColor:s,defaultYear:o})=>{const h=(y,E,_)=>{const A=r.map(w=>w.id===y?{...w,[E]:_}:w);i(A)},d=[...r].sort((y,E)=>E.yearStart-y.yearStart);return g.jsxs("div",{className:"space-y-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200 mt-4",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx(X0,{className:`w-5 h-5 ${s.replace("bg-","text-")}`}),g.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Ruoli e Incarichi"})]}),g.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-1",children:[d.length===0&&g.jsx("p",{className:"text-xs text-slate-400 italic",children:"Nessun incarico assegnato."}),d.map(y=>g.jsxs("div",{className:`p-3 rounded-md border ${y.yearStart===o?"bg-yellow-50/50 border-yellow-200":"bg-slate-50 border-slate-100"}`,children:[g.jsx("div",{className:"flex justify-between items-start mb-2",children:g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-slate-800 text-xs",children:y.roleName}),g.jsxs("div",{className:"text-[10px] text-slate-500",children:["Anno ",y.yearStart,"-",y.yearStart+1," (",dc(y.yearStart),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] text-slate-400 uppercase font-semibold mb-0.5",children:"Data Inizio"}),g.jsx("input",{type:"date",value:y.startDate||"",onChange:E=>h(y.id,"startDate",E.target.value),className:"w-full text-[10px] md:text-xs border-slate-300 rounded border p-1 h-7 bg-white focus:ring-1 focus:ring-slate-400 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] text-slate-400 uppercase font-semibold mb-0.5",children:"N. Tornata"}),g.jsx("input",{type:"text",placeholder:"N.",value:y.installationMeeting||"",onChange:E=>h(y.id,"installationMeeting",E.target.value),className:"w-full text-[10px] md:text-xs border-slate-300 rounded border p-1 h-7 bg-white focus:ring-1 focus:ring-slate-400 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] text-slate-400 uppercase font-semibold mb-0.5",children:"Data Fine"}),g.jsx("input",{type:"date",value:y.endDate||"",onChange:E=>h(y.id,"endDate",E.target.value),className:"w-full text-[10px] md:text-xs border-slate-300 rounded border p-1 h-7 bg-white focus:ring-1 focus:ring-slate-400 outline-none"})]})]})]},y.id))]}),g.jsx("div",{className:"text-[10px] text-slate-400 italic pt-2 border-t border-slate-100",children:`* L'assegnazione e rimozione dei ruoli si effettua dalla schermata "Gestione Ufficiali". Qui puoi modificare i dettagli (date e tornata).`})]})},PS=({memberId:r,onBack:e,onSave:i,defaultYear:s})=>{const[o,h]=Mt.useState(null),[d,y]=Mt.useState("PROFILE"),[E,_]=Mt.useState(!0),[A,w]=Mt.useState(null),[N,q]=Mt.useState(null),[G,z]=Mt.useState(new Date().toISOString().split("T")[0]);Mt.useEffect(()=>{(async()=>{if(r==="new")h(Vn.getEmptyMember());else{const R=await Vn.getMemberById(r);R&&h(R)}_(!1)})()},[r]);const K=async T=>{if(w(null),!/^\d+$/.test(T.matricula))return w("La matricola deve contenere solo numeri."),!1;const C=(await Vn.getMembers()).find(O=>O.matricula===T.matricula&&O.id!==T.id);if(C)return w(`Matricola ${T.matricula} gi assegnata a ${C.lastName} ${C.firstName}.`),!1;const I=it(T);return I?(w(I),!1):!0},it=T=>{var R;for(const C of _e){const I=C.type.toLowerCase(),O=(R=T[I])==null?void 0:R.degrees;if(!O||O.length===0)continue;const S=O.map(_t=>C.degreeLabels.indexOf(_t.degreeName)).sort((_t,Qt)=>_t-Qt);if(S.length!==0){for(let _t=1;_t<S.length;_t++)S[_t],S[_t-1];Array.from(C.degreeLabels.keys());for(const _t of S)if(_t>0){const Qt=_t-1;if(!S.includes(Qt))return`Errore in ${C.label}: Manca il grado di "${C.degreeLabels[Qt]}" necessario per ottenere "${C.degreeLabels[_t]}".`}}}return null},lt=async()=>{if(o){if(!await K(o))return;await Vn.saveMember(o),i()}},rt=(T,R)=>{if(!o)return;const C=T.toLowerCase();h({...o,[C]:{...o[C],...R}})},Et=(T,R)=>{if(!o)return;const C=T.toLowerCase(),I=o[C],O={date:G,status:R},S=[...I.statusEvents,O];let _t=I.roles;if(R==="INACTIVE"){const Qt=parseInt(G.split("-")[0]);_t=_t.map(Q=>Q.yearStart>=Qt&&!Q.endDate?{...Q,endDate:G}:Q)}rt(T,{statusEvents:S,roles:_t}),q(null)},Vt=(T,R)=>{if(!o)return;const C=T.toLowerCase(),I={...o};if(I[C]={...I[C],isMotherLodgeMember:R},!R){const S=I["craft"];!ye(S,s)||S.statusEvents.push({date:new Date().toISOString().split("T")[0],status:"INACTIVE",note:"Auto-disattivazione per cambio Loggia Madre"})}h(I)},xt=()=>{if(!o)return;const T=new Date().toISOString().split("T")[0];h({...o,craft:{...o.craft,statusEvents:[...o.craft.statusEvents,{date:T,status:"ACTIVE",note:"Attivazione Manuale"}]}})},M=(T,R)=>{if(!o)return null;const C=(I,O)=>{const _t=o[I.toLowerCase()].degrees||[],Qt=Array.isArray(O)?O:[O];return _t.some(Q=>Qt.includes(Q.degreeName))};if(T==="CRAFT"){if(R==="Compagno di Mestiere"&&!C("CRAFT","Apprendista"))return"Requisito: Apprendista Ammesso.";if(R==="Maestro Muratore"&&!C("CRAFT","Compagno di Mestiere"))return"Requisito: Compagno di Mestiere.";if(R==="Maestro Installato"&&!C("CRAFT","Maestro Muratore"))return"Requisito: Maestro Muratore."}if(T==="MARK"){if(R==="Uomo del Marchio"&&!C("CRAFT",["Compagno di Mestiere","Maestro Muratore","Maestro Installato"]))return"Requisito: Compagno di Mestiere nel Craft.";if(R==="Maestro del Marchio"&&!C("CRAFT",["Maestro Muratore","Maestro Installato"]))return"Requisito: Maestro Muratore nel Craft."}return T==="CHAPTER"&&R==="Compagno dell'Arco Reale"&&!C("MARK","Maestro del Marchio")||T==="RAM"&&R==="Marinaio dell'Arca Reale"&&!C("MARK","Maestro del Marchio")?"Requisito: Maestro del Marchio.":null};return E||!o?g.jsx("div",{className:"p-8 text-center",children:"Caricamento..."}):g.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("button",{onClick:e,className:"flex items-center text-slate-500 hover:text-slate-800 transition-colors",children:[g.jsx(kE,{className:"mr-2",size:20})," ",g.jsx("span",{className:"hidden sm:inline",children:"Torna alla lista"}),g.jsx("span",{className:"sm:hidden",children:"Indietro"})]}),g.jsxs("button",{onClick:lt,className:"bg-masonic-gold hover:bg-yellow-600 text-white px-4 md:px-6 py-2 rounded-md font-semibold shadow-md flex items-center transition-colors text-sm md:text-base",children:[g.jsx(Y0,{className:"mr-2",size:18})," Salva"]})]}),A&&g.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 animate-pulse-once rounded-r-md",children:[g.jsx(wy,{className:"text-red-500",size:24}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-red-800 font-bold",children:"Impossibile Salvare"}),g.jsx("p",{className:"text-red-700 text-sm",children:A})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[g.jsx("div",{className:"bg-slate-900 text-white p-4 md:p-6",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-4 text-center md:text-left",children:[g.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-700 flex items-center justify-center border-2 border-masonic-gold shrink-0",children:g.jsxs("span",{className:"text-2xl font-serif font-bold",children:[o.firstName[0],o.lastName[0]]})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-xl md:text-2xl font-serif font-bold tracking-wide break-words",children:[o.lastName," ",o.firstName]}),g.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-4 text-slate-300 text-sm mt-1",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(H0,{size:14})," Matr. ",o.matricula||"N/A"]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(F0,{size:14})," ",o.city||"Citt non spec."]})]})]})]})}),g.jsxs("div",{className:"flex border-b border-slate-200 bg-slate-50 overflow-x-auto scrollbar-hide",children:[g.jsx("button",{onClick:()=>y("PROFILE"),className:`px-4 md:px-6 py-3 md:py-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 flex-shrink-0 ${d==="PROFILE"?"border-slate-800 text-slate-900 bg-white":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Anagrafica"}),_e.map(T=>g.jsxs("button",{onClick:()=>y(T.type),className:`px-4 md:px-6 py-3 md:py-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 flex items-center gap-2 flex-shrink-0 ${d===T.type?`${T.color.replace("bg-","border-")} ${T.color.replace("bg-","text-")} bg-white`:"border-transparent text-slate-500 hover:text-slate-700"}`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${T.color}`})," ",T.label]},T.type))]}),g.jsxs("div",{className:"p-4 md:p-6 min-h-[500px]",children:[d==="PROFILE"&&g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[g.jsx("div",{className:"col-span-1 md:col-span-2",children:g.jsx("h3",{className:"text-lg font-semibold text-slate-800 border-b pb-2 mb-4",children:"Dati Personali"})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nome"}),g.jsx("input",{type:"text",value:o.firstName,onChange:T=>h({...o,firstName:T.target.value}),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Cognome"}),g.jsx("input",{type:"text",value:o.lastName,onChange:T=>h({...o,lastName:T.target.value}),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Matricola"}),g.jsx("input",{type:"text",value:o.matricula,onChange:T=>h({...o,matricula:T.target.value}),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Citt"}),g.jsx("input",{type:"text",value:o.city,onChange:T=>h({...o,city:T.target.value}),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Email"}),g.jsx("input",{type:"email",value:o.email,onChange:T=>h({...o,email:T.target.value}),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Telefono"}),g.jsx("input",{type:"tel",value:o.phone,onChange:T=>h({...o,phone:T.target.value}),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold"})]})]})]}),_e.map(T=>{const R=T.type==="CRAFT",C=o[T.type.toLowerCase()],I=ye(C,s),O=N===T.type;return d===T.type&&g.jsxs("div",{className:"animate-fadeIn",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 pb-4 border-b gap-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${T.color}`}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-serif font-bold text-slate-800 leading-none",children:["Scheda ",T.label]}),g.jsxs("span",{className:"text-xs text-slate-500 font-sans mt-1 block",children:["Riferimento: Anno ",s,"-",s+1," - A.L. ",dc(s)]})]})]}),g.jsx("div",{className:"flex items-center gap-3 bg-slate-50 p-2 rounded-lg border border-slate-200 w-full md:w-auto justify-between md:justify-start",children:O?g.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 animate-fadeIn w-full",children:[g.jsx("input",{type:"date",value:G,onChange:S=>z(S.target.value),className:"text-sm border border-slate-300 rounded p-1 w-full sm:w-auto"}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[g.jsxs("button",{onClick:()=>Et(T.type,I?"INACTIVE":"ACTIVE"),className:"text-xs bg-slate-800 text-white px-2 py-1 rounded flex-1 sm:flex-none whitespace-nowrap",children:["Conferma ",I?"Disattivazione":"Attivazione"]}),g.jsx("button",{onClick:()=>q(null),className:"text-xs text-slate-500 underline",children:"Annulla"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:`text-sm font-bold flex items-center gap-1 ${I?"text-green-700":"text-red-600"}`,children:[I?g.jsx(Ry,{size:16}):g.jsx(wy,{size:16}),I?"Attivo":"Non Attivo"]}),g.jsx("button",{onClick:()=>{q(T.type),z(new Date().toISOString().split("T")[0])},className:"text-xs border border-slate-300 px-2 py-1 rounded hover:bg-white transition-colors",children:"Cambia"})]})})]}),g.jsx("div",{className:"mb-6",children:g.jsxs("details",{className:"group",children:[g.jsxs("summary",{className:"flex items-center gap-2 text-xs font-semibold text-slate-500 cursor-pointer hover:text-slate-800 w-fit",children:[g.jsx(G0,{size:14})," Visualizza Storico Stati"]}),g.jsxs("div",{className:"mt-2 text-sm bg-slate-50 p-3 rounded-md border border-slate-100",children:[C.statusEvents.length===0&&g.jsx("span",{className:"text-slate-400 italic",children:"Nessun evento registrato."}),g.jsx("ul",{className:"space-y-1",children:C.statusEvents.map((S,_t)=>g.jsxs("li",{className:"flex gap-2",children:[g.jsx("span",{className:"font-mono text-slate-600",children:S.date}),g.jsx("span",{className:`font-bold ${S.status==="ACTIVE"?"text-green-600":"text-red-600"}`,children:S.status==="ACTIVE"?"ATTIVO":"INATTIVO"}),S.note&&g.jsxs("span",{className:"text-slate-400 italic",children:["- ",S.note]})]},_t))})]})]})}),!R&&g.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg mb-6 border border-slate-200",children:[g.jsxs("h4",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[g.jsx(nb,{size:16})," Dettagli Appartenenza"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[g.jsxs("label",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-md cursor-pointer hover:border-slate-300 h-auto min-h-[40px] w-full",children:[g.jsx("input",{type:"checkbox",checked:C.isMotherLodgeMember??!0,onChange:S=>Vt(T.type,S.target.checked),className:"w-4 h-4 shrink-0"}),g.jsx("span",{className:"text-sm text-slate-700 font-medium leading-tight",children:"Appartiene alla Loggia Madre"})]}),g.jsxs("label",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-md cursor-pointer hover:border-slate-300 h-auto min-h-[40px] w-full",children:[g.jsx("input",{type:"checkbox",checked:C.isFounder||!1,onChange:S=>rt(T.type,{isFounder:S.target.checked}),className:"w-4 h-4 shrink-0"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(JE,{size:14,className:"text-yellow-600"}),g.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Socio Fondatore"})]})]}),g.jsxs("div",{className:`transition-opacity ${C.isMotherLodgeMember!==!1?"opacity-50 pointer-events-none":"opacity-100"} w-full`,children:[g.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Nome Loggia Provenienza"}),g.jsx("input",{type:"text",value:C.otherLodgeName||"",onChange:S=>rt(T.type,{otherLodgeName:S.target.value}),className:"w-full text-sm border border-slate-300 rounded-md p-2 h-10",disabled:C.isMotherLodgeMember!==!1})]}),g.jsx("div",{className:`transition-opacity ${C.isMotherLodgeMember!==!1?"opacity-50 pointer-events-none":"opacity-100"} w-full`,children:g.jsxs("label",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-md cursor-pointer mt-0 h-auto min-h-[40px]",children:[g.jsx("input",{type:"checkbox",checked:C.isDualMember||!1,onChange:S=>rt(T.type,{isDualMember:S.target.checked}),className:"w-4 h-4 shrink-0",disabled:C.isMotherLodgeMember!==!1}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx($0,{size:14,className:"text-slate-600"}),g.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Doppia App."})]})]})})]}),C.isMotherLodgeMember!==!1&&!ye(o.craft,s)&&g.jsxs("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded-r-md flex items-start gap-3",children:[g.jsx(dd,{className:"text-yellow-600 shrink-0 mt-0.5",size:18}),g.jsxs("div",{children:[g.jsx("h5",{className:"text-sm font-bold text-yellow-800",children:"Incongruenza"}),g.jsxs("p",{className:"text-xs text-yellow-700 mt-1 mb-2",children:['Risulta "Appartenente alla Loggia Madre", ma la scheda Craft  segnata come ',g.jsx("strong",{children:"Non Attiva"}),"."]}),g.jsxs("button",{onClick:xt,className:"text-xs bg-yellow-600 text-white px-3 py-1 rounded flex items-center gap-1 font-medium",children:[g.jsx(Ry,{size:12})," Attiva ora in Craft"]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsx("div",{children:g.jsx(kS,{branchColor:T.color,degrees:C.degrees,degreeOptions:T.degreeLabels,onChange:S=>rt(T.type,{degrees:S}),onValidate:S=>M(T.type,S)})}),g.jsx("div",{children:g.jsx(BS,{branchColor:T.color,branch:T.type,roles:C.roles,onChange:S=>rt(T.type,{roles:S}),defaultYear:s})})]})]},T.type)})]})]})]})},qS=({members:r,selectedYear:e,lodgeName:i,lodgeNumber:s})=>{const o=h=>{const d=[];return r.forEach(y=>{y[h.toLowerCase()].roles.filter(A=>A.yearStart===e&&A.branch===h).forEach(A=>{let w=B_[h].indexOf(A.roleName);w===-1&&(w=999),d.push({roleName:A.roleName,memberName:`${y.lastName} ${y.firstName}`,sortIndex:w})})}),d.sort((y,E)=>y.sortIndex-E.sortIndex)};return g.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[g.jsxs("div",{className:"flex justify-between items-end mb-4 print:hidden",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-serif font-bold text-slate-800",children:"Organigramma e Ruoli"}),g.jsxs("p",{className:"text-slate-500",children:["Anno ",e,"-",e+1," - Anno Massonico ",dc(e)]})]}),g.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 bg-slate-100 hover:bg-slate-200 px-4 py-2 rounded-lg transition-colors",children:[g.jsx(mc,{size:18})," Stampa Report"]})]}),g.jsxs("div",{className:"hidden print:block mb-8 text-center",children:[g.jsx("h1",{className:"text-3xl font-serif font-bold",children:"G.A.D.U."}),i&&g.jsxs("h2",{className:"text-2xl font-bold mt-1",children:[i," N. ",s]}),g.jsxs("h3",{className:"text-xl mt-2 font-serif text-slate-700",children:["Organigramma - Anno ",e,"-",e+1]}),g.jsxs("p",{className:"text-sm text-slate-500",children:["A.L. ",dc(e)]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-8 print:block print:space-y-8",children:_e.map(h=>{const d=o(h.type);return g.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col break-inside-avoid print:shadow-none print:border print:border-slate-300 print:mb-6",children:[g.jsxs("div",{className:`${h.color} text-white p-4 flex items-center gap-3 print:bg-slate-100 print:text-slate-900 print:border-b print:border-slate-300`,children:[g.jsx(X0,{size:24}),g.jsx("h3",{className:"font-serif font-bold text-lg",children:h.label})]}),g.jsx("div",{className:"p-4 flex-1",children:d.length>0?g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-semibold text-slate-500 uppercase",children:[g.jsx("th",{className:"pb-2 pl-2",children:"Ufficiale"}),g.jsx("th",{className:"pb-2 text-right pr-2",children:"Fratello"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50 print:divide-slate-200",children:d.map((y,E)=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"py-3 pl-2 font-medium text-slate-700",children:y.roleName}),g.jsx("td",{className:"py-3 text-right pr-2 font-serif text-slate-900 font-bold",children:y.memberName})]},E))})]}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 py-8 italic text-sm",children:["Nessun ufficiale registrato per l'anno ",e,"-",e+1,"."]})}),g.jsxs("div",{className:"bg-slate-50 p-2 text-center text-xs text-slate-400 border-t border-slate-100 print:hidden",children:[d.length," Incarichi assegnati"]})]},h.type)})})]})},HS=({members:r,selectedYear:e,onUpdate:i})=>{const[s,o]=Mt.useState("CRAFT"),[h,d]=Mt.useState(!1),y=e-1,E=(N,q,G)=>r.find(z=>z[q.toLowerCase()].roles.some(it=>it.yearStart===N&&it.roleName===G&&it.branch===q)),_=async(N,q)=>{d(!0);try{const G=E(e,s,N);if(G){if(G.id===q){d(!1);return}const z=s.toLowerCase(),K=G[z].roles.filter(lt=>!(lt.yearStart===e&&lt.roleName===N&&lt.branch===s)),it={...G,[z]:{...G[z],roles:K}};await Vn.saveMember(it)}if(q){const z=r.find(K=>K.id===q);if(z){const K=s.toLowerCase(),it={id:Date.now().toString(),yearStart:e,roleName:N,branch:s},lt=[...z[K].roles,it],rt={...z,[K]:{...z[K],roles:lt}};await Vn.saveMember(rt)}}await i()}catch(G){console.error("Error updating role",G)}finally{d(!1)}},A=_e.find(N=>N.type===s),w=r.filter(N=>ye(N[s.toLowerCase()],e)).sort((N,q)=>N.lastName.localeCompare(q.lastName));return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden animate-fadeIn",children:[g.jsxs("div",{className:"bg-slate-900 p-6 text-white",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(Gf,{size:24,className:"text-masonic-gold"}),g.jsxs("h2",{className:"text-xl font-serif font-bold",children:["Gestione Ufficiali - Anno ",e,"-",e+1]})]}),g.jsxs("p",{className:"text-slate-400 text-sm",children:["Assegna rapidamente i ruoli confrontando con l'anno precedente (",y,"-",y+1,")."]})]}),g.jsx("div",{className:"flex border-b border-slate-200 bg-slate-50 overflow-x-auto scrollbar-hide",children:_e.map(N=>g.jsxs("button",{onClick:()=>o(N.type),className:`px-6 py-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 flex items-center gap-2 flex-shrink-0 ${s===N.type?`${N.color.replace("bg-","border-")} ${N.color.replace("bg-","text-")} bg-white`:"border-transparent text-slate-500 hover:text-slate-700"}`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${N.color}`})," ",N.label]},N.type))}),g.jsxs("div",{className:"p-4 md:p-6 overflow-x-auto",children:[h&&g.jsx("div",{className:"text-center py-2 text-masonic-gold font-medium",children:"Salvataggio in corso..."}),g.jsxs("table",{className:"w-full text-sm min-w-[600px]",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b-2 border-slate-100 text-left",children:[g.jsx("th",{className:"py-3 pl-2 font-serif text-slate-700 w-1/3",children:"Ruolo / Ufficiale"}),g.jsx("th",{className:"py-3 text-slate-500 w-1/3",children:g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{children:["Anno ",y,"-",y+1]}),g.jsx(LE,{size:14,className:"text-slate-300"})]})}),g.jsxs("th",{className:"py-3 font-bold text-slate-800 w-1/3",children:["Assegnato Anno ",e,"-",e+1]})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:B_[s].map(N=>{const q=E(y,s,N),G=E(e,s,N);return g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"py-3 pl-2 font-medium text-slate-700",children:N}),g.jsx("td",{className:"py-3 text-slate-500",children:q?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"w-6 h-6 rounded-full bg-slate-200 text-xs flex items-center justify-center font-bold text-slate-600 shrink-0",children:[q.firstName[0],q.lastName[0]]}),g.jsxs("span",{className:"truncate",children:[q.lastName," ",q.firstName]})]}):g.jsx("span",{className:"text-slate-300 italic",children:"- Vacante -"})}),g.jsx("td",{className:"py-3",children:g.jsxs("select",{value:G?G.id:"",onChange:z=>_(N,z.target.value),className:`w-full p-2 border rounded-md text-sm outline-none transition-all ${G?"border-green-300 bg-green-50 text-green-900 font-medium":"border-slate-300 bg-white text-slate-600 hover:border-masonic-gold"}`,children:[g.jsx("option",{value:"",children:"-- Seleziona o Vacante --"}),w.map(z=>g.jsxs("option",{value:z.id,children:[z.lastName," ",z.firstName]},z.id))]})})]},N)})})]}),w.length===0&&g.jsxs("div",{className:"text-center p-8 text-slate-500 italic bg-slate-50 rounded-lg mt-4",children:["Nessun fratello attivo trovato in ",A==null?void 0:A.label," per l'anno ",e,"-",e+1,"."]})]})]})},GS=({members:r,selectedYear:e,onMemberClick:i,lodgeName:s,lodgeNumber:o})=>{var G;const[h,d]=Mt.useState("ALL"),y=[...r].sort((z,K)=>z.lastName.localeCompare(K.lastName)),E=z=>y.filter(K=>ye(K[z.toLowerCase()],e)),_=z=>{if(!z)return"";const[K,it,lt]=z.split("-");return`${lt}/${it}/${K}`},A=(z,K)=>{const it=z[K.toLowerCase()].degrees;return!it||it.length===0?"-":it[it.length-1].degreeName},w=(z,K)=>z[K.toLowerCase()].roles.find(lt=>lt.yearStart===e&&lt.branch===K),N=(z,K)=>{if(!z)return g.jsx("span",{className:"text-slate-300",children:"-"});let it="";return z.startDate?it=`(dal ${_(z.startDate)})`:z.endDate&&(it=`(fino al ${_(z.endDate)})`),g.jsxs("span",{className:"flex flex-col",children:[g.jsxs("span",{className:`font-medium flex items-center gap-2 ${K?"text-red-600 font-bold":"text-slate-800"}`,children:[z.roleName,K&&g.jsx("span",{title:"Ruolo duplicato",children:g.jsx(dd,{size:14,className:"text-red-500"})})]}),it&&g.jsx("span",{className:"text-xs text-slate-500 italic",children:it})]})},q=z=>{const K=E(z.type);if(K.length===0)return g.jsxs("div",{className:"p-4 text-slate-400 italic",children:["Nessun membro attivo in ",z.label,"."]});const it=z.type==="CRAFT",lt={};return K.forEach(rt=>{const Et=w(rt,z.type);Et&&(lt[Et.roleName]=(lt[Et.roleName]||0)+1)}),g.jsxs("div",{className:"mb-10 break-inside-avoid",children:[g.jsxs("div",{className:`flex items-center gap-3 border-b-2 ${z.color.replace("bg-","border-")} pb-2 mb-4`,children:[g.jsx("div",{className:`w-4 h-4 rounded-full ${z.color} print:border print:border-slate-800`}),g.jsx("h3",{className:"text-xl md:text-2xl font-serif font-bold text-slate-800 uppercase tracking-wide",children:z.label}),g.jsxs("span",{className:"ml-auto text-sm font-medium bg-slate-100 px-3 py-1 rounded-full text-slate-600 whitespace-nowrap print:bg-transparent print:border print:border-slate-300",children:[K.length," Fratelli"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm min-w-[600px] print:min-w-0",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 text-slate-500 uppercase text-xs font-semibold tracking-wider text-left border-y border-slate-200 print:bg-transparent print:text-slate-700 print:border-black",children:[it&&g.jsx("th",{className:"py-3 pl-4 w-20",children:"Matr."}),g.jsx("th",{className:"py-3 pl-2",children:"Cognome e Nome"}),g.jsx("th",{className:"py-3",children:"Grado"}),g.jsxs("th",{className:"py-3",children:["Incarico ",e,"-",e+1]}),g.jsx("th",{className:"py-3",children:it?"Citt":"Provenienza"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100 print:divide-slate-300",children:K.map(rt=>{const Et=w(rt,z.type),Vt=Et&&lt[Et.roleName]>1,xt=rt[z.type.toLowerCase()];let M="";return it?M=rt.city:(xt.isMotherLodgeMember?M="Membro Ordinario":M=`da ${xt.otherLodgeName||"Altra Loggia"}`,xt.isFounder&&(M+=" (Fondatore)"),xt.isDualMember&&(M+=" (Doppia App.)")),g.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${Vt?"bg-red-50/50":""} break-inside-avoid`,children:[it&&g.jsx("td",{className:"py-2.5 pl-4 font-mono text-slate-600",children:rt.matricula}),g.jsx("td",{className:"py-2.5 pl-2 font-serif",children:g.jsxs("button",{onClick:()=>i(rt.id),className:"font-bold text-slate-800 hover:text-masonic-blue hover:underline decoration-dotted underline-offset-4 cursor-pointer text-left",children:[rt.lastName," ",rt.firstName]})}),g.jsx("td",{className:"py-2.5 text-slate-600",children:A(rt,z.type)}),g.jsx("td",{className:"py-2.5",children:N(Et,!!Vt)}),g.jsx("td",{className:"py-2.5 text-slate-500",children:M})]},rt.id)})})]})})]})};return g.jsxs("div",{className:"bg-white p-4 md:p-8 rounded-xl shadow-lg border border-slate-200 animate-fadeIn min-h-[800px] print:shadow-none print:border-none print:p-0",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-6 print:hidden gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-slate-800",children:"Piedilista"}),g.jsxs("p",{className:"text-slate-500 mt-1",children:["Elenco fratelli attivi per l'anno ",e,"-",e+1,"."]})]}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-slate-900 text-white px-5 py-2.5 rounded-lg hover:bg-slate-800 transition-colors shadow-md w-full md:w-auto justify-center",children:[g.jsx(mc,{size:18})," Stampa Visualizzato"]})})]}),g.jsxs("div",{className:"flex border-b border-slate-200 bg-slate-50 overflow-x-auto mb-8 print:hidden rounded-t-lg scrollbar-hide",children:[g.jsxs("button",{onClick:()=>d("ALL"),className:`px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap border-b-2 flex items-center gap-2 flex-shrink-0 ${h==="ALL"?"border-slate-800 text-slate-900 bg-white":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[g.jsx(Q0,{size:16})," Tutto"]}),_e.map(z=>g.jsxs("button",{onClick:()=>d(z.type),className:`px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap border-b-2 flex items-center gap-2 flex-shrink-0 ${h===z.type?`${z.color.replace("bg-","border-")} ${z.color.replace("bg-","text-")} bg-white`:"border-transparent text-slate-500 hover:text-slate-700"}`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${z.color}`})," ",z.label]},z.type))]}),g.jsxs("div",{className:"hidden print:block text-center mb-10",children:[g.jsx("h1",{className:"text-4xl font-serif font-bold mb-2",children:"G.A.D.U."}),s&&g.jsxs("h2",{className:"text-2xl font-bold",children:[s," N. ",o]}),g.jsxs("h3",{className:"text-xl text-slate-600 mt-2",children:["Piedilista Ufficiale - ",h==="ALL"?"Tutti i Rami":(G=_e.find(z=>z.type===h))==null?void 0:G.label]}),g.jsxs("p",{className:"text-sm text-slate-400 mt-2",children:["Anno ",e,"-",e+1," - Generato il ",new Date().toLocaleDateString("it-IT")]})]}),g.jsx("div",{className:"space-y-4",children:h==="ALL"?_e.map(z=>g.jsx("div",{children:q(z)},z.type)):_e.filter(z=>z.type===h).map(z=>g.jsx("div",{children:q(z)},z.type))})]})},FS=({members:r,onMemberClick:e,selectedYear:i,mode:s,lodgeName:o,lodgeNumber:h})=>{const[d,y]=Mt.useState("CRAFT"),E=r.filter(N=>{const q=d.toLowerCase(),G=N[q],z=G.degrees||[],K=G.statusEvents||[];if(!(z.length>0||K.length>0))return!1;if(s==="YEAR")return!ye(G,i);{if(K.length===0)return!1;const lt=[...K].sort((Et,Vt)=>new Date(Et.date).getTime()-new Date(Vt.date).getTime());return lt[lt.length-1].status==="INACTIVE"}}),_=N=>{const q=d.toLowerCase(),G=N[q].statusEvents||[];if(G.length===0)return null;const z=[...G].sort((it,lt)=>new Date(it.date).getTime()-new Date(lt.date).getTime()),K=z[z.length-1];return K.status==="INACTIVE"?K.date:null},A=N=>{if(!N)return"";const[q,G,z]=N.split("-");return`${z}/${G}/${q}`},w=_e.find(N=>N.type===d);return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden animate-fadeIn min-h-[500px] print:shadow-none print:border-none",children:[g.jsxs("div",{className:"bg-slate-800 p-6 text-white flex items-center justify-between print:hidden",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s==="YEAR"?g.jsx(q0,{size:24,className:"text-masonic-gold"}):g.jsx(G0,{size:24,className:"text-masonic-gold"}),g.jsx("h2",{className:"text-xl font-serif font-bold",children:s==="YEAR"?`Membri Inattivi - Anno ${i}-{selectedYear+1}`:"Archivio Storico Inattivi (Ad Oggi)"})]}),g.jsx("p",{className:"text-slate-400 text-sm",children:s==="YEAR"?`Elenco dei fratelli non attivi nell'anno selezionato (${i}-${i+1}) ma con storico nel ramo.`:"Elenco completo di tutti i fratelli attualmente inattivi (dimessi o passati all'Oriente Eterno) in via definitiva."})]}),g.jsxs("button",{onClick:()=>window.print(),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg shadow transition-colors flex items-center gap-2",children:[g.jsx(mc,{size:18})," Stampa"]})]}),g.jsxs("div",{className:"hidden print:block text-center mb-10 pt-4",children:[g.jsx("h1",{className:"text-3xl font-serif font-bold",children:"G.A.D.U."}),o&&g.jsxs("h2",{className:"text-2xl font-bold mt-1",children:[o," N. ",h]}),g.jsx("h3",{className:"text-xl mt-2 font-serif text-slate-700",children:s==="YEAR"?`Archivio Inattivi - Anno ${i}-{selectedYear+1}`:"Archivio Storico Totale Inattivi"}),g.jsxs("p",{className:"text-lg font-bold mt-2 border-b border-black pb-2 inline-block",children:["Ramo: ",w==null?void 0:w.label]})]}),g.jsx("div",{className:"flex border-b border-slate-200 bg-slate-50 overflow-x-auto print:hidden",children:_e.map(N=>g.jsxs("button",{onClick:()=>y(N.type),className:`px-6 py-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 flex items-center gap-2 ${d===N.type?`${N.color.replace("bg-","border-")} ${N.color.replace("bg-","text-")} bg-white`:"border-transparent text-slate-500 hover:text-slate-700"}`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${N.color}`})," ",N.label]},N.type))}),g.jsx("div",{className:"p-6",children:E.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 print:grid-cols-2",children:E.map(N=>{var G;const q=_(N);return g.jsxs("div",{onClick:()=>e(N.id),className:"group border border-slate-200 rounded-lg p-4 hover:shadow-md hover:border-slate-300 transition-all cursor-pointer bg-slate-50/50 break-inside-avoid print:bg-transparent print:border-slate-400",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 font-serif font-bold group-hover:bg-slate-300 transition-colors print:border print:border-slate-400",children:[N.firstName[0],N.lastName[0]]}),g.jsxs("div",{children:[g.jsxs("h4",{className:"font-bold text-slate-700 group-hover:text-slate-900 group-hover:underline decoration-dotted underline-offset-2",children:[N.lastName," ",N.firstName]}),g.jsxs("p",{className:"text-xs text-slate-500",children:["Matr. ",N.matricula]})]})]}),g.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-100 flex items-center justify-between text-xs text-slate-500 print:border-slate-300",children:[g.jsx("span",{children:((G=N[d.toLowerCase()].degrees[N[d.toLowerCase()].degrees.length-1])==null?void 0:G.degreeName)||"Nessun grado"}),g.jsx("span",{className:"bg-slate-200 text-slate-600 px-2 py-0.5 rounded font-medium print:bg-transparent print:border print:border-slate-300",children:s==="YEAR"?`Inattivo nel ${i}-${i+1}`:q?`Inattivo dal ${A(q)}`:"Attualmente Inattivo"})]})]},N.id)})}):g.jsx("div",{className:"text-center py-12 text-slate-400 italic",children:s==="YEAR"?`Nessun membro inattivo trovato per il ramo ${w==null?void 0:w.label} nell'anno ${i}-{selectedYear+1}.`:`Nessun membro attualmente inattivo nel ramo ${w==null?void 0:w.label}.`})})]})},QS=({currentSettings:r,onSave:e})=>{const[i,s]=Mt.useState(r),[o,h]=Mt.useState(_e[0].type),[d,y]=Mt.useState(null);Mt.useEffect(()=>{s(r)},[r]);const E=()=>{e(i),y("Impostazioni salvate con successo."),setTimeout(()=>y(null),3e3)},_=(N,q)=>{s(G=>({...G,[N]:q}))},A=_e.find(N=>N.type===o),w=()=>{switch(o){case"CRAFT":return g.jsxs("table",{className:"w-full text-left text-xs text-slate-600",children:[g.jsx("thead",{className:"bg-slate-100 text-slate-800 uppercase font-bold border-b border-slate-200",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2",children:"Grado"}),g.jsx("th",{className:"p-2 w-16",children:"Abbr."}),g.jsx("th",{className:"p-2",children:"Requisito"})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-100",children:[g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Apprendista Ammesso"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"AA"}),g.jsx("td",{className:"p-2 italic",children:"- Nessuno"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Compagno di Mestiere"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"CdM"}),g.jsx("td",{className:"p-2",children:"- AA (Craft)"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Maestro Muratore"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"MM"}),g.jsx("td",{className:"p-2",children:"- CdM (Craft)"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Maestro Installato"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"MI"}),g.jsx("td",{className:"p-2",children:"- MM (Craft)"})]})]})]});case"MARK":return g.jsxs("table",{className:"w-full text-left text-xs text-slate-600",children:[g.jsx("thead",{className:"bg-slate-100 text-slate-800 uppercase font-bold border-b border-slate-200",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2",children:"Grado"}),g.jsx("th",{className:"p-2 w-16",children:"Abbr."}),g.jsx("th",{className:"p-2",children:"Requisito"})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-100",children:[g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Uomo del Marchio"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"UdM"}),g.jsxs("td",{className:"p-2",children:[g.jsx("div",{children:"- CdM (Craft)"}),g.jsx("div",{className:"text-red-500 italic mt-1",children:"(Attualmente non Attivo)"})]})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Maestro del Marchio"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"MMM"}),g.jsx("td",{className:"p-2",children:"- MM (Craft)"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Venerabile della Loggia del Marchio"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"MVM"}),g.jsxs("td",{className:"p-2",children:[g.jsx("div",{children:"- MI (Craft)"}),g.jsx("div",{children:"- MMM (Marchio)"})]})]})]})]});case"CHAPTER":return g.jsxs("table",{className:"w-full text-left text-xs text-slate-600",children:[g.jsx("thead",{className:"bg-slate-100 text-slate-800 uppercase font-bold border-b border-slate-200",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2",children:"Grado"}),g.jsx("th",{className:"p-2 w-16",children:"Abbr."}),g.jsx("th",{className:"p-2",children:"Requisito"})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-100",children:[g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Compagno dell'Arco Reale"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"CAR"}),g.jsx("td",{className:"p-2",children:"- MMM (Marchio)"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Principale dell'Arco Reale"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"PAR"}),g.jsxs("td",{className:"p-2",children:[g.jsx("div",{children:"- MI (Craft)"}),g.jsx("div",{children:"- CAR (Arco Reale)"})]})]})]})]});case"RAM":return g.jsxs("table",{className:"w-full text-left text-xs text-slate-600",children:[g.jsx("thead",{className:"bg-slate-100 text-slate-800 uppercase font-bold border-b border-slate-200",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2",children:"Grado"}),g.jsx("th",{className:"p-2 w-16",children:"Abbr."}),g.jsx("th",{className:"p-2",children:"Requisito"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:g.jsxs("tr",{children:[g.jsx("td",{className:"p-2 font-medium",children:"Marinaio dell'Arca Reale"}),g.jsx("td",{className:"p-2 font-mono text-slate-500",children:"MAR"}),g.jsx("td",{className:"p-2",children:"- MMM (Marchio)"})]})})]});default:return null}};return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden animate-fadeIn pb-8",children:[g.jsx("div",{className:"bg-slate-900 p-6 text-white flex justify-between items-center",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(K0,{size:24,className:"text-masonic-gold"}),g.jsx("h2",{className:"text-xl font-serif font-bold",children:"Amministrazione"})]})}),g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2 mb-4",children:"Dati Loggia"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nome Loggia"}),g.jsx("input",{type:"text",value:i.lodgeName,onChange:N=>_("lodgeName",N.target.value),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold",placeholder:"Es. G. Mazzini"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Numero"}),g.jsx("input",{type:"text",value:i.lodgeNumber,onChange:N=>_("lodgeNumber",N.target.value),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold",placeholder:"Es. 100"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Provincia"}),g.jsxs("select",{value:i.province,onChange:N=>_("province",N.target.value),className:"w-full border border-slate-300 rounded-lg p-2.5 outline-none focus:border-masonic-gold bg-white",children:[g.jsx("option",{value:"",children:"Seleziona..."}),US.map(N=>g.jsxs("option",{value:N.code,children:[N.name," (",N.code,")"]},N.code))]})]})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Parametri Rami"}),g.jsx("div",{className:"flex border-b border-slate-200 bg-slate-50 overflow-x-auto rounded-t-lg",children:_e.map(N=>g.jsxs("button",{onClick:()=>h(N.type),className:`px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap border-b-2 flex items-center gap-2 outline-none ${o===N.type?`${N.color.replace("bg-","border-")} ${N.color.replace("bg-","text-")} bg-white`:"border-transparent text-slate-500 hover:text-slate-700"}`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${N.color}`})," ",N.label]},N.type))}),g.jsxs("div",{className:"border-x border-b border-slate-200 rounded-b-lg p-6 bg-white min-h-[200px] flex gap-8",children:[g.jsxs("div",{className:"w-full md:w-1/2",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(Hf,{className:A==null?void 0:A.color.replace("bg-","text-"),size:20}),g.jsxs("h4",{className:"text-base font-bold text-slate-700",children:["Requisiti Gradi ",A==null?void 0:A.label]})]}),g.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:w()})]}),g.jsxs("div",{className:"hidden md:block w-1/2 border-l border-slate-100 pl-8",children:[g.jsx("h4",{className:"text-sm font-bold text-slate-400 mb-2 uppercase",children:"Note e Parametri"}),g.jsxs("p",{className:"text-xs text-slate-500 italic",children:["Le regole di propedeuticit mostrate a sinistra sono implementate attivamente nei controlli dell'anagrafica.",g.jsx("br",{}),g.jsx("br",{}),"Eventuali modifiche a questi parametri strutturali richiedono un aggiornamento dell'applicazione."]})]})]})]}),g.jsxs("div",{className:"flex justify-end items-center gap-4 border-t border-slate-100 pt-6",children:[d&&g.jsx("span",{className:"text-green-600 font-medium text-sm animate-pulse",children:d}),g.jsxs("button",{onClick:E,className:"bg-masonic-gold hover:bg-yellow-600 text-white px-6 py-2.5 rounded-lg font-semibold shadow-md flex items-center gap-2 transition-colors",children:[g.jsx(Y0,{size:18})," Salva Configurazione"]})]})]})]})},YS=()=>{const[r,e]=Mt.useState("DASHBOARD"),[i,s]=Mt.useState("MEMBERS"),[o,h]=Mt.useState([]),[d,y]=Mt.useState({lodgeName:"",lodgeNumber:"",province:""}),[E,_]=Mt.useState(null),[A,w]=Mt.useState(""),[N,q]=Mt.useState("ALL"),G=new Date().getFullYear(),[z,K]=Mt.useState(G),[it,lt]=Mt.useState(Array.from({length:8},(tt,bt)=>G-5+bt)),[rt,Et]=Mt.useState(!0),[Vt,xt]=Mt.useState(!1),[M,T]=Mt.useState(!1);Mt.useEffect(()=>{R()},[]),Mt.useEffect(()=>{let tt=`G.A.D.U. (${Vn.APP_VERSION})`;d.lodgeName&&(tt=`G.A.D.U. - ${d.lodgeName} ${d.lodgeNumber} (${Vn.APP_VERSION})`),document.title=tt},[d]);const R=async()=>{h(await Vn.getMembers()),y(await Vn.getSettings())},C=(tt,bt="MEMBERS")=>{_(tt),s(bt),e("MEMBER_DETAIL"),T(!1)},I=()=>{_("new"),s("MEMBERS"),e("MEMBER_DETAIL"),T(!1)},O=async()=>{await R(),e(i)},S=async tt=>{await Vn.saveSettings(tt),y(tt)},_t=()=>{const bt=Math.max(...it)+1;lt(V=>[...V,bt]),K(bt)},Qt=()=>{const bt=Math.min(...it)-1;lt(V=>[bt,...V]),K(bt)},Q=tt=>{e(tt),T(!1),(["MEMBERS","PIEDILISTA","INACTIVE_MEMBERS"].includes(tt)||tt==="MEMBER_DETAIL"&&["MEMBERS","PIEDILISTA","INACTIVE_MEMBERS"].includes(i))&&Et(!0),["ROLE_ASSIGNMENT","REPORT"].includes(tt)&&xt(!0)},at=o.filter(tt=>{if(!(tt.firstName+" "+tt.lastName+" "+tt.matricula).toLowerCase().includes(A.toLowerCase()))return!1;if(N==="DB_ALL")return!0;if(N==="INACTIVE_YEAR_ALL")return _e.some(st=>{const ft=st.type.toLowerCase();return ye(tt[ft],z)})?!1:_e.some(st=>{var pt,Ct,ie,Yt;const ft=st.type.toLowerCase();return((Ct=(pt=tt[ft])==null?void 0:pt.degrees)==null?void 0:Ct.length)>0||((Yt=(ie=tt[ft])==null?void 0:ie.statusEvents)==null?void 0:Yt.length)>0});if(N==="INACTIVE_TOTAL_ALL"){const X=new Date().getFullYear();return _e.some(ft=>{const pt=ft.type.toLowerCase();return ye(tt[pt],X)})?!1:_e.some(ft=>{var Ct,ie,Yt,Xn;const pt=ft.type.toLowerCase();return((ie=(Ct=tt[pt])==null?void 0:Ct.degrees)==null?void 0:ie.length)>0||((Xn=(Yt=tt[pt])==null?void 0:Yt.statusEvents)==null?void 0:Xn.length)>0})}if(N==="CRAFT_ONLY_NO_MARK")return ye(tt.craft,z)&&!ye(tt.mark,z);if(N==="CRAFT_ONLY_NO_CHAPTER")return ye(tt.craft,z)&&!ye(tt.chapter,z);if(N==="CRAFT_ONLY_NO_RAM")return ye(tt.craft,z)&&!ye(tt.ram,z);if(N==="ALL")return _e.some(X=>{const et=X.type.toLowerCase();return ye(tt[et],z)});const V=N.toLowerCase();return ye(tt[V],z)}).sort((tt,bt)=>tt.lastName.localeCompare(bt.lastName)),dt={total:o.length,craft:o.filter(tt=>ye(tt.craft,z)).length,mark:o.filter(tt=>ye(tt.mark,z)).length,chapter:o.filter(tt=>ye(tt.chapter,z)).length,ram:o.filter(tt=>ye(tt.ram,z)).length};return g.jsxs("div",{className:"flex h-screen bg-slate-100 font-sans text-slate-800 overflow-hidden print:h-auto print:overflow-visible",children:[M&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-30 md:hidden backdrop-blur-sm",onClick:()=>T(!1)}),g.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-slate-900 text-slate-300 flex flex-col shadow-xl transform transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:inset-auto ${M?"translate-x-0":"-translate-x-full"} print:hidden`,children:[g.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 text-masonic-gold",children:[g.jsx(Q0,{size:28}),g.jsxs("div",{className:"flex items-baseline gap-2",children:[g.jsx("h1",{className:"text-xl font-serif font-bold tracking-widest text-white",children:"G.A.D.U."}),g.jsxs("span",{className:"text-[10px] text-slate-400 font-sans tracking-normal",children:["v",Vn.APP_VERSION]})]})]}),g.jsx("p",{className:"text-xs text-slate-500 mt-2 uppercase tracking-wide",children:"Gestione Associazioni Decisamente User-friendly"})]}),g.jsx("button",{onClick:()=>T(!1),className:"md:hidden text-slate-400 hover:text-white",children:g.jsx(Ib,{size:24})})]}),g.jsx("div",{className:"px-6 py-4 bg-slate-950/50 border-b border-slate-800",children:d.lodgeName?g.jsxs("div",{children:[g.jsxs("h3",{className:"text-white font-serif font-bold",children:[d.lodgeName," N. ",d.lodgeNumber]}),g.jsx("p",{className:"text-xs text-slate-500",children:d.province})]}):g.jsx("div",{className:"text-xs text-slate-600 italic",children:"Nessuna loggia configurata"})}),g.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[g.jsxs("button",{onClick:()=>Q("DASHBOARD"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r==="DASHBOARD"?"bg-slate-800 text-white shadow-md border-l-4 border-masonic-gold":"hover:bg-slate-800 hover:text-white"}`,children:[g.jsx(ab,{size:20})," ",g.jsx("span",{className:"font-medium",children:"Dashboard"})]}),g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>Et(!rt),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all hover:bg-slate-800 hover:text-white ${rt||["MEMBERS","PIEDILISTA","MEMBER_DETAIL","INACTIVE_MEMBERS"].includes(r)?"text-white":""}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx($0,{size:20})," ",g.jsx("span",{className:"font-medium",children:"Anagrafiche"})]}),rt?g.jsx(Ny,{size:16}):g.jsx(Sy,{size:16})]}),rt&&g.jsxs("div",{className:"ml-8 mt-1 space-y-1 border-l border-slate-700 pl-2",children:[g.jsxs("button",{onClick:()=>Q("MEMBERS"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all ${r==="MEMBERS"||r==="MEMBER_DETAIL"&&i==="MEMBERS"?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:[g.jsx(rb,{size:16})," Registro Fratelli"]}),g.jsxs("button",{onClick:()=>Q("PIEDILISTA"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all ${r==="PIEDILISTA"||r==="MEMBER_DETAIL"&&i==="PIEDILISTA"?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:[g.jsx(Ay,{size:16})," Piedilista"]}),g.jsxs("button",{onClick:()=>Q("INACTIVE_MEMBERS"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all ${r==="INACTIVE_MEMBERS"||r==="MEMBER_DETAIL"&&i==="INACTIVE_MEMBERS"?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:[g.jsx(Cb,{size:16})," Archivio Inattivi"]})]})]}),g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>xt(!Vt),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all hover:bg-slate-800 hover:text-white ${Vt||["ROLE_ASSIGNMENT","REPORT"].includes(r)?"text-white":""}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Hf,{size:20})," ",g.jsx("span",{className:"font-medium",children:"Ruoli"})]}),Vt?g.jsx(Ny,{size:16}):g.jsx(Sy,{size:16})]}),Vt&&g.jsxs("div",{className:"ml-8 mt-1 space-y-1 border-l border-slate-700 pl-2",children:[g.jsxs("button",{onClick:()=>Q("ROLE_ASSIGNMENT"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all ${r==="ROLE_ASSIGNMENT"?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:[g.jsx(Gf,{size:16})," Ruoli"]}),g.jsxs("button",{onClick:()=>Q("REPORT"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all ${r==="REPORT"?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:[g.jsx(Hf,{size:16})," Organigramma"]})]})]})]}),g.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-2",children:[g.jsxs("button",{onClick:()=>Q("ADMIN"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all ${r==="ADMIN"?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:[g.jsx(K0,{size:16})," Admin"]}),g.jsxs("button",{className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors w-full px-4 py-2",children:[g.jsx(ob,{size:16})," Logout"]})]})]}),g.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden print:h-auto print:overflow-visible print:block",children:[g.jsxs("header",{className:"bg-white shadow-sm min-h-16 flex items-center px-4 md:px-8 justify-between sticky top-0 z-20 print:hidden flex-wrap py-2 md:py-0 gap-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:()=>T(!0),className:"md:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:g.jsx(hb,{size:24})}),g.jsxs("h2",{className:"text-base md:text-lg font-medium text-slate-700 truncate",children:[r==="DASHBOARD"&&"Panoramica",r==="MEMBERS"&&"Elenco Associati",r==="MEMBER_DETAIL"&&"Dettaglio Associato",r==="ROLE_ASSIGNMENT"&&"Gestione Ufficiali",r==="REPORT"&&"Report Ruoli",r==="PIEDILISTA"&&"Piedilista",r==="INACTIVE_MEMBERS"&&"Archivio Fratelli Inattivi",r==="ADMIN"&&"Amministrazione"]})]}),g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("div",{className:"flex items-center bg-slate-100 rounded-md p-1 border border-slate-200",children:[g.jsx("button",{onClick:Qt,className:"p-1 hover:bg-slate-200 rounded text-slate-500",children:g.jsx(QE,{size:16})}),g.jsxs("div",{className:"flex items-center px-2 border-l border-r border-slate-200 mx-1",children:[g.jsx(q0,{size:16,className:"text-slate-500 mr-2 hidden sm:block"}),g.jsx("select",{value:z,onChange:tt=>K(parseInt(tt.target.value)),className:"bg-transparent text-sm font-bold text-slate-700 outline-none cursor-pointer max-w-[150px] sm:max-w-none",children:it.map(tt=>g.jsxs("option",{value:tt,children:[tt,"-",tt+1," | A.L. ",P_(tt)]},tt))})]}),g.jsx("button",{onClick:_t,className:"p-1 hover:bg-slate-200 rounded text-slate-500",children:g.jsx(GE,{size:16})})]})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 print:p-0 print:overflow-visible print:h-auto",children:[r==="DASHBOARD"&&g.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[g.jsx("div",{className:"text-slate-500 text-sm font-medium uppercase mb-1",children:"Anagrafiche Totali"}),g.jsx("div",{className:"text-3xl font-bold text-slate-800",children:dt.total})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border-l-4 border-masonic-blue",children:[g.jsxs("div",{className:"text-masonic-blue text-xs md:text-sm font-medium uppercase mb-1",children:["Attivi Craft ",z,"-",z+1]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800",children:dt.craft})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border-l-4 border-masonic-red",children:[g.jsxs("div",{className:"text-masonic-red text-xs md:text-sm font-medium uppercase mb-1",children:["Attivi Capitolo ",z,"-",z+1]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800",children:dt.chapter})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border-l-4 border-masonic-mark",children:[g.jsxs("div",{className:"text-masonic-mark text-xs md:text-sm font-medium uppercase mb-1",children:["Attivi Marchio ",z,"-",z+1]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800",children:dt.mark})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[g.jsx("h3",{className:"font-serif font-bold text-lg text-slate-800 mb-4",children:"Accesso Rapido"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("button",{onClick:I,className:"bg-slate-900 text-white px-4 py-2 rounded-lg hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx(Cy,{size:18})," Nuova Anagrafica"]}),g.jsxs("button",{onClick:()=>e("ROLE_ASSIGNMENT"),className:"bg-slate-100 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-200 transition-colors flex items-center justify-center gap-2",children:[g.jsx(Gf,{size:18})," Assegna Ruoli"]}),g.jsxs("button",{onClick:()=>e("PIEDILISTA"),className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-50 transition-colors flex items-center justify-center gap-2",children:[g.jsx(Ay,{size:18})," Vai al Piedilista"]})]})]})]}),r==="MEMBERS"&&g.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200 print:hidden",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Eb,{className:"absolute left-3 top-2.5 text-slate-400",size:20}),g.jsx("input",{type:"text",placeholder:"Cerca...",value:A,onChange:tt=>w(tt.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg outline-none"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsxs("select",{value:N,onChange:tt=>q(tt.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg outline-none bg-white max-w-[250px]",children:[g.jsx("option",{value:"ALL",children:"Tutti i Rami (Attivi)"}),g.jsx("option",{value:"CRAFT",children:"Attivi in Loggia"}),g.jsx("option",{value:"MARK",children:"Attivi nel Marchio"}),g.jsx("option",{value:"CHAPTER",children:"Attivi nel Capitolo"}),g.jsx("option",{value:"RAM",children:"Attivi in RAM"}),g.jsxs("optgroup",{label:"Potenziali Candidati",children:[g.jsx("option",{value:"CRAFT_ONLY_NO_MARK",children:"Attivi Loggia (No Marchio)"}),g.jsx("option",{value:"CRAFT_ONLY_NO_CHAPTER",children:"Attivi Loggia (No Capitolo)"}),g.jsx("option",{value:"CRAFT_ONLY_NO_RAM",children:"Attivi Loggia (No RAM)"})]}),g.jsxs("optgroup",{label:"Membri Inattivi",children:[g.jsx("option",{value:"INACTIVE_YEAR_ALL",children:"Inattivi (Anno Corrente)"}),g.jsx("option",{value:"INACTIVE_TOTAL_ALL",children:"Inattivi (Ad Oggi/Totale)"})]}),g.jsx("option",{value:"DB_ALL",children:"Tutto il Database (Nessun Filtro)"})]}),g.jsxs("button",{onClick:()=>window.print(),className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-50 font-medium shadow-sm transition-colors flex items-center justify-center gap-2 whitespace-nowrap",children:[g.jsx(mc,{size:18})," Stampa"]}),g.jsxs("button",{onClick:I,className:"bg-masonic-gold text-white px-6 py-2 rounded-lg hover:bg-yellow-600 font-medium shadow-sm transition-colors flex items-center justify-center gap-2 whitespace-nowrap",children:[g.jsx(Cy,{size:18})," Nuovo"]})]})]}),g.jsxs("div",{className:"hidden print:block text-center mb-6",children:[g.jsx("h1",{className:"text-3xl font-serif font-bold",children:"G.A.D.U."}),g.jsxs("h2",{className:"text-xl font-bold mt-1",children:[d.lodgeName," N. ",d.lodgeNumber]}),g.jsx("h3",{className:"text-lg mt-2 font-serif text-slate-700",children:"Registro Fratelli"}),g.jsxs("p",{className:"text-sm text-slate-500",children:["Anno ",z,"-",z+1]})]}),g.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden print:shadow-none print:border-none",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-200 uppercase tracking-wider print:border-b-2 print:border-slate-400",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 w-20",children:g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(H0,{size:14})," Matr."]})}),g.jsx("th",{className:"px-4 py-3",children:"Fratello"}),g.jsx("th",{className:"px-4 py-3 hidden sm:table-cell",children:g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(F0,{size:14})," Citt"]})}),g.jsx("th",{className:"px-4 py-3 w-1/3",children:"Stato Massonico"})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-100",children:[at.map(tt=>{const bt=_e.map(V=>{const X=V.type.toLowerCase(),et=tt[X],st=ye(et,z);if(!st&&N!=="DB_ALL"||!st)return null;const ft=et==null?void 0:et.degrees,pt=ft&&ft.length>0?ft[ft.length-1].degreeName:"";return pt?{label:V.shortLabel,val:LS(pt),color:V.color}:null}).filter(Boolean);return g.jsxs("tr",{onClick:()=>C(tt.id,"MEMBERS"),className:"hover:bg-slate-50 cursor-pointer transition-colors group break-inside-avoid",children:[g.jsx("td",{className:"px-4 py-3 font-mono text-slate-500",children:tt.matricula}),g.jsxs("td",{className:"px-4 py-3 font-bold text-slate-800 group-hover:text-masonic-blue transition-colors",children:[tt.lastName," ",tt.firstName]}),g.jsx("td",{className:"px-4 py-3 text-slate-500 hidden sm:table-cell",children:tt.city||"-"}),g.jsx("td",{className:"px-4 py-3",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:bt.length>0?bt.map((V,X)=>g.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full bg-slate-50 border border-slate-200 text-xs font-medium text-slate-700 whitespace-nowrap print:border-slate-400",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${V==null?void 0:V.color} print:border print:border-slate-600`}),g.jsxs("span",{className:"text-slate-500",children:[V==null?void 0:V.label,":"]}),g.jsx("span",{className:"font-bold",children:V==null?void 0:V.val})]},X)):g.jsx("span",{className:"text-slate-300 italic text-xs",children:"-"})})})]},tt.id)}),at.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-400 italic",children:"Nessun associato trovato con i filtri correnti."})})]})]})})})]}),r==="INACTIVE_MEMBERS"&&g.jsx(FS,{members:o,onMemberClick:tt=>C(tt,"INACTIVE_MEMBERS"),selectedYear:z,mode:"TOTAL",lodgeName:d.lodgeName,lodgeNumber:d.lodgeNumber}),r==="ADMIN"&&g.jsx(QS,{currentSettings:d,onSave:S}),r==="MEMBER_DETAIL"&&E&&g.jsx(PS,{memberId:E,onBack:()=>e(i),onSave:O,defaultYear:z}),r==="ROLE_ASSIGNMENT"&&g.jsx(HS,{members:o,selectedYear:z,onUpdate:R}),r==="PIEDILISTA"&&g.jsx(GS,{members:o,selectedYear:z,onMemberClick:tt=>C(tt,"PIEDILISTA"),lodgeName:d.lodgeName,lodgeNumber:d.lodgeNumber}),r==="REPORT"&&g.jsx(qS,{members:o,selectedYear:z,lodgeName:d.lodgeName,lodgeNumber:d.lodgeNumber})]})]})]})},q_=document.getElementById("root");if(!q_)throw new Error("Could not find root element to mount to");const KS=ME.createRoot(q_);KS.render(g.jsx(TE.StrictMode,{children:g.jsx(YS,{})}));
